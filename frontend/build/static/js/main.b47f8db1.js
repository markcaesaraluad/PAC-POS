/*! For license information please see main.b47f8db1.js.LICENSE.txt */
(()=>{var e={43:(e,t,n)=>{"use strict";e.exports=n(202)},153:(e,t,n)=>{"use strict";var r=n(43),a=Symbol.for("react.element"),s=Symbol.for("react.fragment"),i=Object.prototype.hasOwnProperty,l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,o={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)i.call(t,r)&&!o.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:a,type:e,key:c,ref:u,props:s,_owner:l.current}}t.Fragment=s,t.jsx=c,t.jsxs=c},202:(e,t)=>{"use strict";var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),a=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),l=Symbol.for("react.provider"),o=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},h=Object.assign,x={};function g(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}function v(){}function y(e,t,n){this.props=e,this.context=t,this.refs=x,this.updater=n||f}g.prototype.isReactComponent={},g.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},g.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},v.prototype=g.prototype;var b=y.prototype=new v;b.constructor=y,h(b,g.prototype),b.isPureReactComponent=!0;var w=Array.isArray,j=Object.prototype.hasOwnProperty,N={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function S(e,t,r){var a,s={},i=null,l=null;if(null!=t)for(a in void 0!==t.ref&&(l=t.ref),void 0!==t.key&&(i=""+t.key),t)j.call(t,a)&&!k.hasOwnProperty(a)&&(s[a]=t[a]);var o=arguments.length-2;if(1===o)s.children=r;else if(1<o){for(var c=Array(o),u=0;u<o;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(a in o=e.defaultProps)void 0===s[a]&&(s[a]=o[a]);return{$$typeof:n,type:e,key:i,ref:l,props:s,_owner:N.current}}function _(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var E=/\/+/g;function C(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(e){return t[e]})}(""+e.key):t.toString(36)}function T(e,t,a,s,i){var l=typeof e;"undefined"!==l&&"boolean"!==l||(e=null);var o=!1;if(null===e)o=!0;else switch(l){case"string":case"number":o=!0;break;case"object":switch(e.$$typeof){case n:case r:o=!0}}if(o)return i=i(o=e),e=""===s?"."+C(o,0):s,w(i)?(a="",null!=e&&(a=e.replace(E,"$&/")+"/"),T(i,t,a,"",function(e){return e})):null!=i&&(_(i)&&(i=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(i,a+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(E,"$&/")+"/")+e)),t.push(i)),1;if(o=0,s=""===s?".":s+":",w(e))for(var c=0;c<e.length;c++){var u=s+C(l=e[c],c);o+=T(l,t,a,u,i)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(l=e.next()).done;)o+=T(l=l.value,t,a,u=s+C(l,c++),i);else if("object"===l)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return o}function O(e,t,n){if(null==e)return e;var r=[],a=0;return T(e,r,"","",function(e){return t.call(n,e,a++)}),r}function P(e){if(-1===e._status){var t=e._result;(t=t()).then(function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)},function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)}),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var F={current:null},L={transition:null},R={ReactCurrentDispatcher:F,ReactCurrentBatchConfig:L,ReactCurrentOwner:N};function A(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:O,forEach:function(e,t,n){O(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return O(e,function(){t++}),t},toArray:function(e){return O(e,function(e){return e})||[]},only:function(e){if(!_(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=g,t.Fragment=a,t.Profiler=i,t.PureComponent=y,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=R,t.act=A,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var a=h({},e.props),s=e.key,i=e.ref,l=e._owner;if(null!=t){if(void 0!==t.ref&&(i=t.ref,l=N.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(c in t)j.call(t,c)&&!k.hasOwnProperty(c)&&(a[c]=void 0===t[c]&&void 0!==o?o[c]:t[c])}var c=arguments.length-2;if(1===c)a.children=r;else if(1<c){o=Array(c);for(var u=0;u<c;u++)o[u]=arguments[u+2];a.children=o}return{$$typeof:n,type:e.type,key:s,ref:i,props:a,_owner:l}},t.createContext=function(e){return(e={$$typeof:o,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:l,_context:e},e.Consumer=e},t.createElement=S,t.createFactory=function(e){var t=S.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=_,t.lazy=function(e){return{$$typeof:m,_payload:{_status:-1,_result:e},_init:P}},t.memo=function(e,t){return{$$typeof:d,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=L.transition;L.transition={};try{e()}finally{L.transition=t}},t.unstable_act=A,t.useCallback=function(e,t){return F.current.useCallback(e,t)},t.useContext=function(e){return F.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return F.current.useDeferredValue(e)},t.useEffect=function(e,t){return F.current.useEffect(e,t)},t.useId=function(){return F.current.useId()},t.useImperativeHandle=function(e,t,n){return F.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return F.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return F.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return F.current.useMemo(e,t)},t.useReducer=function(e,t,n){return F.current.useReducer(e,t,n)},t.useRef=function(e){return F.current.useRef(e)},t.useState=function(e){return F.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return F.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return F.current.useTransition()},t.version="18.3.1"},234:(e,t)=>{"use strict";function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,a=e[r];if(!(0<s(a,t)))break e;e[r]=t,e[n]=a,n=r}}function r(e){return 0===e.length?null:e[0]}function a(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,a=e.length,i=a>>>1;r<i;){var l=2*(r+1)-1,o=e[l],c=l+1,u=e[c];if(0>s(o,n))c<a&&0>s(u,o)?(e[r]=u,e[c]=n,r=c):(e[r]=o,e[l]=n,r=l);else{if(!(c<a&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var i=performance;t.unstable_now=function(){return i.now()}}else{var l=Date,o=l.now();t.unstable_now=function(){return l.now()-o}}var c=[],u=[],d=1,m=null,p=3,f=!1,h=!1,x=!1,g="function"===typeof setTimeout?setTimeout:null,v="function"===typeof clearTimeout?clearTimeout:null,y="undefined"!==typeof setImmediate?setImmediate:null;function b(e){for(var t=r(u);null!==t;){if(null===t.callback)a(u);else{if(!(t.startTime<=e))break;a(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function w(e){if(x=!1,b(e),!h)if(null!==r(c))h=!0,L(j);else{var t=r(u);null!==t&&R(w,t.startTime-e)}}function j(e,n){h=!1,x&&(x=!1,v(_),_=-1),f=!0;var s=p;try{for(b(n),m=r(c);null!==m&&(!(m.expirationTime>n)||e&&!T());){var i=m.callback;if("function"===typeof i){m.callback=null,p=m.priorityLevel;var l=i(m.expirationTime<=n);n=t.unstable_now(),"function"===typeof l?m.callback=l:m===r(c)&&a(c),b(n)}else a(c);m=r(c)}if(null!==m)var o=!0;else{var d=r(u);null!==d&&R(w,d.startTime-n),o=!1}return o}finally{m=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var N,k=!1,S=null,_=-1,E=5,C=-1;function T(){return!(t.unstable_now()-C<E)}function O(){if(null!==S){var e=t.unstable_now();C=e;var n=!0;try{n=S(!0,e)}finally{n?N():(k=!1,S=null)}}else k=!1}if("function"===typeof y)N=function(){y(O)};else if("undefined"!==typeof MessageChannel){var P=new MessageChannel,F=P.port2;P.port1.onmessage=O,N=function(){F.postMessage(null)}}else N=function(){g(O,0)};function L(e){S=e,k||(k=!0,N())}function R(e,n){_=g(function(){e(t.unstable_now())},n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){h||f||(h=!0,L(j))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,a,s){var i=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?i+s:i:s=i,e){case 1:var l=-1;break;case 2:l=250;break;case 5:l=1073741823;break;case 4:l=1e4;break;default:l=5e3}return e={id:d++,callback:a,priorityLevel:e,startTime:s,expirationTime:l=s+l,sortIndex:-1},s>i?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(x?(v(_),_=-1):x=!0,R(w,s-i))):(e.sortIndex=l,n(c,e),h||f||(h=!0,L(j))),e},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},391:(e,t,n)=>{"use strict";var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},517:e=>{const t=/[A-Z\xc0-\xd6\xd8-\xde]?[a-z\xdf-\xf6\xf8-\xff]+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde]|$)|(?:[A-Z\xc0-\xd6\xd8-\xde]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?=[\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000]|[A-Z\xc0-\xd6\xd8-\xde](?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])|$)|[A-Z\xc0-\xd6\xd8-\xde]?(?:[a-z\xdf-\xf6\xf8-\xff]|[^\ud800-\udfff\xac\xb1\xd7\xf7\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\xbf\u2000-\u206f \t\x0b\f\xa0\ufeff\n\r\u2028\u2029\u1680\u180e\u2000\u2001\u2002\u2003\u2004\u2005\u2006\u2007\u2008\u2009\u200a\u202f\u205f\u3000\d+\u2700-\u27bfa-z\xdf-\xf6\xf8-\xffA-Z\xc0-\xd6\xd8-\xde])+(?:['\u2019](?:d|ll|m|re|s|t|ve))?|[A-Z\xc0-\xd6\xd8-\xde]+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?|\d*(?:1ST|2ND|3RD|(?![123])\dTH)(?=\b|[a-z_])|\d*(?:1st|2nd|3rd|(?![123])\dth)(?=\b|[A-Z_])|\d+|(?:[\u2700-\u27bf]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?(?:\u200d(?:[^\ud800-\udfff]|(?:\ud83c[\udde6-\uddff]){2}|[\ud800-\udbff][\udc00-\udfff])[\ufe0e\ufe0f]?(?:[\u0300-\u036f\ufe20-\ufe2f\u20d0-\u20ff]|\ud83c[\udffb-\udfff])?)*/g,n=e=>e.match(t)||[],r=e=>e[0].toUpperCase()+e.slice(1),a=(e,t)=>n(e).join(t).toLowerCase(),s=e=>n(e).reduce((e,t)=>"".concat(e).concat(e?t[0].toUpperCase()+t.slice(1).toLowerCase():t.toLowerCase()),"");e.exports={words:n,upperFirst:r,camelCase:s,pascalCase:e=>r(s(e)),snakeCase:e=>a(e,"_"),kebabCase:e=>a(e,"-"),sentenceCase:e=>r(a(e," ")),titleCase:e=>n(e).map(r).join(" ")}},575:e=>{"use strict";function t(e){this._maxSize=e,this.clear()}t.prototype.clear=function(){this._size=0,this._values=Object.create(null)},t.prototype.get=function(e){return this._values[e]},t.prototype.set=function(e,t){return this._size>=this._maxSize&&this.clear(),e in this._values||this._size++,this._values[e]=t};var n=/[^.^\]^[]+|(?=\[\]|\.\.)/g,r=/^\d+$/,a=/^\d/,s=/[~`!#$%\^&*+=\-\[\]\\';,/{}|\\":<>\?]/g,i=/^\s*(['"]?)(.*?)(\1)\s*$/,l=new t(512),o=new t(512),c=new t(512);function u(e){return l.get(e)||l.set(e,d(e).map(function(e){return e.replace(i,"$2")}))}function d(e){return e.match(n)||[""]}function m(e){return"string"===typeof e&&e&&-1!==["'",'"'].indexOf(e.charAt(0))}function p(e){return!m(e)&&(function(e){return e.match(a)&&!e.match(r)}(e)||function(e){return s.test(e)}(e))}e.exports={Cache:t,split:d,normalizePath:u,setter:function(e){var t=u(e);return o.get(e)||o.set(e,function(e,n){for(var r=0,a=t.length,s=e;r<a-1;){var i=t[r];if("__proto__"===i||"constructor"===i||"prototype"===i)return e;s=s[t[r++]]}s[t[r]]=n})},getter:function(e,t){var n=u(e);return c.get(e)||c.set(e,function(e){for(var r=0,a=n.length;r<a;){if(null==e&&t)return;e=e[n[r++]]}return e})},join:function(e){return e.reduce(function(e,t){return e+(m(t)||r.test(t)?"["+t+"]":(e?".":"")+t)},"")},forEach:function(e,t,n){!function(e,t,n){var r,a,s,i,l=e.length;for(a=0;a<l;a++)(r=e[a])&&(p(r)&&(r='"'+r+'"'),s=!(i=m(r))&&/^\d+$/.test(r),t.call(n,r,i,s,a,e))}(Array.isArray(e)?e:d(e),t,n)}}},579:(e,t,n)=>{"use strict";e.exports=n(153)},704:e=>{function t(e,t){var n=e.length,r=new Array(n),a={},s=n,i=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++){var a=e[n];t.has(a[0])||t.set(a[0],new Set),t.has(a[1])||t.set(a[1],new Set),t.get(a[0]).add(a[1])}return t}(t),l=function(e){for(var t=new Map,n=0,r=e.length;n<r;n++)t.set(e[n],n);return t}(e);for(t.forEach(function(e){if(!l.has(e[0])||!l.has(e[1]))throw new Error("Unknown node. There is an unknown node in the supplied edges.")});s--;)a[s]||o(e[s],s,new Set);return r;function o(e,t,s){if(s.has(e)){var c;try{c=", node was:"+JSON.stringify(e)}catch(m){c=""}throw new Error("Cyclic dependency"+c)}if(!l.has(e))throw new Error("Found unknown node. Make sure to provided all involved nodes. Unknown node: "+JSON.stringify(e));if(!a[t]){a[t]=!0;var u=i.get(e)||new Set;if(t=(u=Array.from(u)).length){s.add(e);do{var d=u[--t];o(d,l.get(d),s)}while(t);s.delete(e)}r[--n]=e}}}e.exports=function(e){return t(function(e){for(var t=new Set,n=0,r=e.length;n<r;n++){var a=e[n];t.add(a[0]),t.add(a[1])}return Array.from(t)}(e),e)},e.exports.array=t},730:(e,t,n)=>{"use strict";var r=n(43),a=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var i=new Set,l={};function o(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(l[e]=t,e=0;e<t.length;e++)i.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),d=Object.prototype.hasOwnProperty,m=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function h(e,t,n,r,a,s,i){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=i}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){x[e]=new h(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];x[t]=new h(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){x[e]=new h(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){x[e]=new h(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){x[e]=new h(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){x[e]=new h(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){x[e]=new h(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){x[e]=new h(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){x[e]=new h(e,5,!1,e.toLowerCase(),null,!1,!1)});var g=/[\-:]([a-z])/g;function v(e){return e[1].toUpperCase()}function y(e,t,n,r){var a=x.hasOwnProperty(t)?x[t]:null;(null!==a?0!==a.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,a,r)&&(n=null),r||null===a?function(e){return!!d.call(f,e)||!d.call(p,e)&&(m.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=null===n?3!==a.type&&"":n:(t=a.attributeName,r=a.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(a=a.type)||4===a&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(g,v);x[t]=new h(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(g,v);x[t]=new h(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(g,v);x[t]=new h(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!1,!1)}),x.xlinkHref=new h("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){x[e]=new h(e,1,!1,e.toLowerCase(),null,!0,!0)});var b=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,w=Symbol.for("react.element"),j=Symbol.for("react.portal"),N=Symbol.for("react.fragment"),k=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),_=Symbol.for("react.provider"),E=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),T=Symbol.for("react.suspense"),O=Symbol.for("react.suspense_list"),P=Symbol.for("react.memo"),F=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var L=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var R=Symbol.iterator;function A(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=R&&e[R]||e["@@iterator"])?e:null}var D,I=Object.assign;function z(e){if(void 0===D)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);D=t&&t[1]||""}return"\n"+D+e}var M=!1;function U(e,t){if(!e||M)return"";M=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var a=c.stack.split("\n"),s=r.stack.split("\n"),i=a.length-1,l=s.length-1;1<=i&&0<=l&&a[i]!==s[l];)l--;for(;1<=i&&0<=l;i--,l--)if(a[i]!==s[l]){if(1!==i||1!==l)do{if(i--,0>--l||a[i]!==s[l]){var o="\n"+a[i].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}}while(1<=i&&0<=l);break}}}finally{M=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?z(e):""}function B(e){switch(e.tag){case 5:return z(e.type);case 16:return z("Lazy");case 13:return z("Suspense");case 19:return z("SuspenseList");case 0:case 2:case 15:return e=U(e.type,!1);case 11:return e=U(e.type.render,!1);case 1:return e=U(e.type,!0);default:return""}}function V(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case N:return"Fragment";case j:return"Portal";case S:return"Profiler";case k:return"StrictMode";case T:return"Suspense";case O:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case E:return(e.displayName||"Context")+".Consumer";case _:return(e._context.displayName||"Context")+".Provider";case C:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case P:return null!==(t=e.displayName||null)?t:V(e.type)||"Memo";case F:t=e._payload,e=e._init;try{return V(e(t))}catch(n){}}return null}function H(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return V(t);case 8:return t===k?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function q(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function $(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function W(e){e._valueTracker||(e._valueTracker=function(e){var t=$(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=$(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function Z(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(t){return e.body}}function G(e,t){var n=t.checked;return I({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Q(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=q(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function Y(e,t){null!=(t=t.checked)&&y(e,"checked",t,!1)}function J(e,t){Y(e,t);var n=q(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,q(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function X(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&Z(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+q(n),t=null,a=0;a<e.length;a++){if(e[a].value===n)return e[a].selected=!0,void(r&&(e[a].defaultSelected=!0));null!==t||e[a].disabled||(t=e[a])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return I({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ae(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:q(n)}}function se(e,t){var n=q(t.value),r=q(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ie(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function le(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oe(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?le(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,de=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction(function(){return ue(e,t)})}:ue);function me(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function he(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function xe(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),a=he(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}Object.keys(pe).forEach(function(e){fe.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]})});var ge=I({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ve(e,t){if(t){if(ge[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function ye(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var be=null;function we(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var je=null,Ne=null,ke=null;function Se(e){if(e=ya(e)){if("function"!==typeof je)throw Error(s(280));var t=e.stateNode;t&&(t=wa(t),je(e.stateNode,e.type,t))}}function _e(e){Ne?ke?ke.push(e):ke=[e]:Ne=e}function Ee(){if(Ne){var e=Ne,t=ke;if(ke=Ne=null,Se(e),t)for(e=0;e<t.length;e++)Se(t[e])}}function Ce(e,t){return e(t)}function Te(){}var Oe=!1;function Pe(e,t,n){if(Oe)return e(t,n);Oe=!0;try{return Ce(e,t,n)}finally{Oe=!1,(null!==Ne||null!==ke)&&(Te(),Ee())}}function Fe(e,t){var n=e.stateNode;if(null===n)return null;var r=wa(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Le=!1;if(u)try{var Re={};Object.defineProperty(Re,"passive",{get:function(){Le=!0}}),window.addEventListener("test",Re,Re),window.removeEventListener("test",Re,Re)}catch(ue){Le=!1}function Ae(e,t,n,r,a,s,i,l,o){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var De=!1,Ie=null,ze=!1,Me=null,Ue={onError:function(e){De=!0,Ie=e}};function Be(e,t,n,r,a,s,i,l,o){De=!1,Ie=null,Ae.apply(Ue,arguments)}function Ve(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function He(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function qe(e){if(Ve(e)!==e)throw Error(s(188))}function $e(e){return null!==(e=function(e){var t=e.alternate;if(!t){if(null===(t=Ve(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(null===a)break;var i=a.alternate;if(null===i){if(null!==(r=a.return)){n=r;continue}break}if(a.child===i.child){for(i=a.child;i;){if(i===n)return qe(a),e;if(i===r)return qe(a),t;i=i.sibling}throw Error(s(188))}if(n.return!==r.return)n=a,r=i;else{for(var l=!1,o=a.child;o;){if(o===n){l=!0,n=a,r=i;break}if(o===r){l=!0,r=a,n=i;break}o=o.sibling}if(!l){for(o=i.child;o;){if(o===n){l=!0,n=i,r=a;break}if(o===r){l=!0,r=i,n=a;break}o=o.sibling}if(!l)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e))?We(e):null}function We(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=We(e);if(null!==t)return t;e=e.sibling}return null}var Ke=a.unstable_scheduleCallback,Ze=a.unstable_cancelCallback,Ge=a.unstable_shouldYield,Qe=a.unstable_requestPaint,Ye=a.unstable_now,Je=a.unstable_getCurrentPriorityLevel,Xe=a.unstable_ImmediatePriority,et=a.unstable_UserBlockingPriority,tt=a.unstable_NormalPriority,nt=a.unstable_LowPriority,rt=a.unstable_IdlePriority,at=null,st=null;var it=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(lt(e)/ot|0)|0},lt=Math.log,ot=Math.LN2;var ct=64,ut=4194304;function dt(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function mt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,i=268435455&n;if(0!==i){var l=i&~a;0!==l?r=dt(l):0!==(s&=i)&&(r=dt(s))}else 0!==(i=n&~a)?r=dt(i):0!==s&&(r=dt(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&a)&&((a=r&-r)>=(s=t&-t)||16===a&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)a=1<<(n=31-it(t)),r|=e[n],t&=~a;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function ht(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function xt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function gt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-it(t)]=n}function vt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-it(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var yt=0;function bt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var wt,jt,Nt,kt,St,_t=!1,Et=[],Ct=null,Tt=null,Ot=null,Pt=new Map,Ft=new Map,Lt=[],Rt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function At(e,t){switch(e){case"focusin":case"focusout":Ct=null;break;case"dragenter":case"dragleave":Tt=null;break;case"mouseover":case"mouseout":Ot=null;break;case"pointerover":case"pointerout":Pt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ft.delete(t.pointerId)}}function Dt(e,t,n,r,a,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},null!==t&&(null!==(t=ya(t))&&jt(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==a&&-1===t.indexOf(a)&&t.push(a),e)}function It(e){var t=va(e.target);if(null!==t){var n=Ve(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=He(n)))return e.blockedOn=t,void St(e.priority,function(){Nt(n)})}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function zt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Gt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=ya(n))&&jt(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);be=r,n.target.dispatchEvent(r),be=null,t.shift()}return!0}function Mt(e,t,n){zt(e)&&n.delete(t)}function Ut(){_t=!1,null!==Ct&&zt(Ct)&&(Ct=null),null!==Tt&&zt(Tt)&&(Tt=null),null!==Ot&&zt(Ot)&&(Ot=null),Pt.forEach(Mt),Ft.forEach(Mt)}function Bt(e,t){e.blockedOn===t&&(e.blockedOn=null,_t||(_t=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,Ut)))}function Vt(e){function t(t){return Bt(t,e)}if(0<Et.length){Bt(Et[0],e);for(var n=1;n<Et.length;n++){var r=Et[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Ct&&Bt(Ct,e),null!==Tt&&Bt(Tt,e),null!==Ot&&Bt(Ot,e),Pt.forEach(t),Ft.forEach(t),n=0;n<Lt.length;n++)(r=Lt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Lt.length&&null===(n=Lt[0]).blockedOn;)It(n),null===n.blockedOn&&Lt.shift()}var Ht=b.ReactCurrentBatchConfig,qt=!0;function $t(e,t,n,r){var a=yt,s=Ht.transition;Ht.transition=null;try{yt=1,Kt(e,t,n,r)}finally{yt=a,Ht.transition=s}}function Wt(e,t,n,r){var a=yt,s=Ht.transition;Ht.transition=null;try{yt=4,Kt(e,t,n,r)}finally{yt=a,Ht.transition=s}}function Kt(e,t,n,r){if(qt){var a=Gt(e,t,n,r);if(null===a)qr(e,t,r,Zt,n),At(e,r);else if(function(e,t,n,r,a){switch(t){case"focusin":return Ct=Dt(Ct,e,t,n,r,a),!0;case"dragenter":return Tt=Dt(Tt,e,t,n,r,a),!0;case"mouseover":return Ot=Dt(Ot,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Pt.set(s,Dt(Pt.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Ft.set(s,Dt(Ft.get(s)||null,e,t,n,r,a)),!0}return!1}(a,e,t,n,r))r.stopPropagation();else if(At(e,r),4&t&&-1<Rt.indexOf(e)){for(;null!==a;){var s=ya(a);if(null!==s&&wt(s),null===(s=Gt(e,t,n,r))&&qr(e,t,r,Zt,n),s===a)break;a=s}null!==a&&r.stopPropagation()}else qr(e,t,r,null,n)}}var Zt=null;function Gt(e,t,n,r){if(Zt=null,null!==(e=va(e=we(r))))if(null===(t=Ve(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=He(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Zt=e,null}function Qt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Je()){case Xe:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Yt=null,Jt=null,Xt=null;function en(){if(Xt)return Xt;var e,t,n=Jt,r=n.length,a="value"in Yt?Yt.value:Yt.textContent,s=a.length;for(e=0;e<r&&n[e]===a[e];e++);var i=r-e;for(t=1;t<=i&&n[r-t]===a[s-t];t++);return Xt=a.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function an(e){function t(t,n,r,a,s){for(var i in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=a,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(i)&&(t=e[i],this[i]=t?t(a):a[i]);return this.isDefaultPrevented=(null!=a.defaultPrevented?a.defaultPrevented:!1===a.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return I(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var sn,ln,on,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=an(cn),dn=I({},cn,{view:0,detail:0}),mn=an(dn),pn=I({},dn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Sn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==on&&(on&&"mousemove"===e.type?(sn=e.screenX-on.screenX,ln=e.screenY-on.screenY):ln=sn=0,on=e),sn)},movementY:function(e){return"movementY"in e?e.movementY:ln}}),fn=an(pn),hn=an(I({},pn,{dataTransfer:0})),xn=an(I({},dn,{relatedTarget:0})),gn=an(I({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),vn=I({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yn=an(vn),bn=an(I({},cn,{data:0})),wn={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},jn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nn={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kn(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=Nn[e])&&!!t[e]}function Sn(){return kn}var _n=I({},dn,{key:function(e){if(e.key){var t=wn[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?jn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Sn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),En=an(_n),Cn=an(I({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),Tn=an(I({},dn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Sn})),On=an(I({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Pn=I({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Fn=an(Pn),Ln=[9,13,27,32],Rn=u&&"CompositionEvent"in window,An=null;u&&"documentMode"in document&&(An=document.documentMode);var Dn=u&&"TextEvent"in window&&!An,In=u&&(!Rn||An&&8<An&&11>=An),zn=String.fromCharCode(32),Mn=!1;function Un(e,t){switch(e){case"keyup":return-1!==Ln.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Vn=!1;var Hn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Hn[e.type]:"textarea"===t}function $n(e,t,n,r){_e(r),0<(t=Wr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Wn=null,Kn=null;function Zn(e){zr(e,0)}function Gn(e){if(K(ba(e)))return e}function Qn(e,t){if("change"===e)return t}var Yn=!1;if(u){var Jn;if(u){var Xn="oninput"in document;if(!Xn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Xn="function"===typeof er.oninput}Jn=Xn}else Jn=!1;Yn=Jn&&(!document.documentMode||9<document.documentMode)}function tr(){Wn&&(Wn.detachEvent("onpropertychange",nr),Kn=Wn=null)}function nr(e){if("value"===e.propertyName&&Gn(Kn)){var t=[];$n(t,Kn,e,we(e)),Pe(Zn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Wn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ar(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Gn(Kn)}function sr(e,t){if("click"===e)return Gn(t)}function ir(e,t){if("input"===e||"change"===e)return Gn(t)}var lr="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function or(e,t){if(lr(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!d.call(t,a)||!lr(e[a],t[a]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function dr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?dr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function mr(){for(var e=window,t=Z();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=Z((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=mr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&dr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=void 0===r.end?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ur(n,s);var i=ur(n,r);a&&i&&(1!==e.rangeCount||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&((t=t.createRange()).setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var hr=u&&"documentMode"in document&&11>=document.documentMode,xr=null,gr=null,vr=null,yr=!1;function br(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;yr||null==xr||xr!==Z(r)||("selectionStart"in(r=xr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},vr&&or(vr,r)||(vr=r,0<(r=Wr(gr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=xr)))}function wr(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var jr={animationend:wr("Animation","AnimationEnd"),animationiteration:wr("Animation","AnimationIteration"),animationstart:wr("Animation","AnimationStart"),transitionend:wr("Transition","TransitionEnd")},Nr={},kr={};function Sr(e){if(Nr[e])return Nr[e];if(!jr[e])return e;var t,n=jr[e];for(t in n)if(n.hasOwnProperty(t)&&t in kr)return Nr[e]=n[t];return e}u&&(kr=document.createElement("div").style,"AnimationEvent"in window||(delete jr.animationend.animation,delete jr.animationiteration.animation,delete jr.animationstart.animation),"TransitionEvent"in window||delete jr.transitionend.transition);var _r=Sr("animationend"),Er=Sr("animationiteration"),Cr=Sr("animationstart"),Tr=Sr("transitionend"),Or=new Map,Pr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Fr(e,t){Or.set(e,t),o(t,[e])}for(var Lr=0;Lr<Pr.length;Lr++){var Rr=Pr[Lr];Fr(Rr.toLowerCase(),"on"+(Rr[0].toUpperCase()+Rr.slice(1)))}Fr(_r,"onAnimationEnd"),Fr(Er,"onAnimationIteration"),Fr(Cr,"onAnimationStart"),Fr("dblclick","onDoubleClick"),Fr("focusin","onFocus"),Fr("focusout","onBlur"),Fr(Tr,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),o("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),o("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),o("onBeforeInput",["compositionend","keypress","textInput","paste"]),o("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),o("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ar="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Dr=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ar));function Ir(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,a,i,l,o,c){if(Be.apply(this,arguments),De){if(!De)throw Error(s(198));var u=Ie;De=!1,Ie=null,ze||(ze=!0,Me=u)}}(r,t,void 0,e),e.currentTarget=null}function zr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var i=r.length-1;0<=i;i--){var l=r[i],o=l.instance,c=l.currentTarget;if(l=l.listener,o!==s&&a.isPropagationStopped())break e;Ir(a,l,c),s=o}else for(i=0;i<r.length;i++){if(o=(l=r[i]).instance,c=l.currentTarget,l=l.listener,o!==s&&a.isPropagationStopped())break e;Ir(a,l,c),s=o}}}if(ze)throw e=Me,ze=!1,Me=null,e}function Mr(e,t){var n=t[ha];void 0===n&&(n=t[ha]=new Set);var r=e+"__bubble";n.has(r)||(Hr(t,e,2,!1),n.add(r))}function Ur(e,t,n){var r=0;t&&(r|=4),Hr(n,e,r,t)}var Br="_reactListening"+Math.random().toString(36).slice(2);function Vr(e){if(!e[Br]){e[Br]=!0,i.forEach(function(t){"selectionchange"!==t&&(Dr.has(t)||Ur(t,!1,e),Ur(t,!0,e))});var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Br]||(t[Br]=!0,Ur("selectionchange",!1,t))}}function Hr(e,t,n,r){switch(Qt(t)){case 1:var a=$t;break;case 4:a=Wt;break;default:a=Kt}n=a.bind(null,t,n,e),a=void 0,!Le||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(a=!0),r?void 0!==a?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):void 0!==a?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function qr(e,t,n,r,a){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var i=r.tag;if(3===i||4===i){var l=r.stateNode.containerInfo;if(l===a||8===l.nodeType&&l.parentNode===a)break;if(4===i)for(i=r.return;null!==i;){var o=i.tag;if((3===o||4===o)&&((o=i.stateNode.containerInfo)===a||8===o.nodeType&&o.parentNode===a))return;i=i.return}for(;null!==l;){if(null===(i=va(l)))return;if(5===(o=i.tag)||6===o){r=s=i;continue e}l=l.parentNode}}r=r.return}Pe(function(){var r=s,a=we(n),i=[];e:{var l=Or.get(e);if(void 0!==l){var o=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":o=En;break;case"focusin":c="focus",o=xn;break;case"focusout":c="blur",o=xn;break;case"beforeblur":case"afterblur":o=xn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":o=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":o=hn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":o=Tn;break;case _r:case Er:case Cr:o=gn;break;case Tr:o=On;break;case"scroll":o=mn;break;case"wheel":o=Fn;break;case"copy":case"cut":case"paste":o=yn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":o=Cn}var u=0!==(4&t),d=!u&&"scroll"===e,m=u?null!==l?l+"Capture":null:l;u=[];for(var p,f=r;null!==f;){var h=(p=f).stateNode;if(5===p.tag&&null!==h&&(p=h,null!==m&&(null!=(h=Fe(f,m))&&u.push($r(f,h,p)))),d)break;f=f.return}0<u.length&&(l=new o(l,c,null,n,a),i.push({event:l,listeners:u}))}}if(0===(7&t)){if(o="mouseout"===e||"pointerout"===e,(!(l="mouseover"===e||"pointerover"===e)||n===be||!(c=n.relatedTarget||n.fromElement)||!va(c)&&!c[fa])&&(o||l)&&(l=a.window===a?a:(l=a.ownerDocument)?l.defaultView||l.parentWindow:window,o?(o=r,null!==(c=(c=n.relatedTarget||n.toElement)?va(c):null)&&(c!==(d=Ve(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(o=null,c=r),o!==c)){if(u=fn,h="onMouseLeave",m="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Cn,h="onPointerLeave",m="onPointerEnter",f="pointer"),d=null==o?l:ba(o),p=null==c?l:ba(c),(l=new u(h,f+"leave",o,n,a)).target=d,l.relatedTarget=p,h=null,va(a)===r&&((u=new u(m,f+"enter",c,n,a)).target=p,u.relatedTarget=d,h=u),d=h,o&&c)e:{for(m=c,f=0,p=u=o;p;p=Kr(p))f++;for(p=0,h=m;h;h=Kr(h))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)m=Kr(m),p--;for(;f--;){if(u===m||null!==m&&u===m.alternate)break e;u=Kr(u),m=Kr(m)}u=null}else u=null;null!==o&&Zr(i,l,o,u,!1),null!==c&&null!==d&&Zr(i,d,c,u,!0)}if("select"===(o=(l=r?ba(r):window).nodeName&&l.nodeName.toLowerCase())||"input"===o&&"file"===l.type)var x=Qn;else if(qn(l))if(Yn)x=ir;else{x=ar;var g=rr}else(o=l.nodeName)&&"input"===o.toLowerCase()&&("checkbox"===l.type||"radio"===l.type)&&(x=sr);switch(x&&(x=x(e,r))?$n(i,x,n,a):(g&&g(e,l,r),"focusout"===e&&(g=l._wrapperState)&&g.controlled&&"number"===l.type&&ee(l,"number",l.value)),g=r?ba(r):window,e){case"focusin":(qn(g)||"true"===g.contentEditable)&&(xr=g,gr=r,vr=null);break;case"focusout":vr=gr=xr=null;break;case"mousedown":yr=!0;break;case"contextmenu":case"mouseup":case"dragend":yr=!1,br(i,n,a);break;case"selectionchange":if(hr)break;case"keydown":case"keyup":br(i,n,a)}var v;if(Rn)e:{switch(e){case"compositionstart":var y="onCompositionStart";break e;case"compositionend":y="onCompositionEnd";break e;case"compositionupdate":y="onCompositionUpdate";break e}y=void 0}else Vn?Un(e,n)&&(y="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(y="onCompositionStart");y&&(In&&"ko"!==n.locale&&(Vn||"onCompositionStart"!==y?"onCompositionEnd"===y&&Vn&&(v=en()):(Jt="value"in(Yt=a)?Yt.value:Yt.textContent,Vn=!0)),0<(g=Wr(r,y)).length&&(y=new bn(y,e,null,n,a),i.push({event:y,listeners:g}),v?y.data=v:null!==(v=Bn(n))&&(y.data=v))),(v=Dn?function(e,t){switch(e){case"compositionend":return Bn(t);case"keypress":return 32!==t.which?null:(Mn=!0,zn);case"textInput":return(e=t.data)===zn&&Mn?null:e;default:return null}}(e,n):function(e,t){if(Vn)return"compositionend"===e||!Rn&&Un(e,t)?(e=en(),Xt=Jt=Yt=null,Vn=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return In&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Wr(r,"onBeforeInput")).length&&(a=new bn("onBeforeInput","beforeinput",null,n,a),i.push({event:a,listeners:r}),a.data=v))}zr(i,t)})}function $r(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Wr(e,t){for(var n=t+"Capture",r=[];null!==e;){var a=e,s=a.stateNode;5===a.tag&&null!==s&&(a=s,null!=(s=Fe(e,n))&&r.unshift($r(e,s,a)),null!=(s=Fe(e,t))&&r.push($r(e,s,a))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Zr(e,t,n,r,a){for(var s=t._reactName,i=[];null!==n&&n!==r;){var l=n,o=l.alternate,c=l.stateNode;if(null!==o&&o===r)break;5===l.tag&&null!==c&&(l=c,a?null!=(o=Fe(n,s))&&i.unshift($r(n,o,l)):a||null!=(o=Fe(n,s))&&i.push($r(n,o,l))),n=n.return}0!==i.length&&e.push({event:t,listeners:i})}var Gr=/\r\n?/g,Qr=/\u0000|\uFFFD/g;function Yr(e){return("string"===typeof e?e:""+e).replace(Gr,"\n").replace(Qr,"")}function Jr(e,t,n){if(t=Yr(t),Yr(e)!==t&&n)throw Error(s(425))}function Xr(){}var ea=null,ta=null;function na(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ra="function"===typeof setTimeout?setTimeout:void 0,aa="function"===typeof clearTimeout?clearTimeout:void 0,sa="function"===typeof Promise?Promise:void 0,ia="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof sa?function(e){return sa.resolve(null).then(e).catch(la)}:ra;function la(e){setTimeout(function(){throw e})}function oa(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&8===a.nodeType)if("/$"===(n=a.data)){if(0===r)return e.removeChild(a),void Vt(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=a}while(n);Vt(t)}function ca(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ua(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var da=Math.random().toString(36).slice(2),ma="__reactFiber$"+da,pa="__reactProps$"+da,fa="__reactContainer$"+da,ha="__reactEvents$"+da,xa="__reactListeners$"+da,ga="__reactHandles$"+da;function va(e){var t=e[ma];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fa]||n[ma]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ua(e);null!==e;){if(n=e[ma])return n;e=ua(e)}return t}n=(e=n).parentNode}return null}function ya(e){return!(e=e[ma]||e[fa])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function ba(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function wa(e){return e[pa]||null}var ja=[],Na=-1;function ka(e){return{current:e}}function Sa(e){0>Na||(e.current=ja[Na],ja[Na]=null,Na--)}function _a(e,t){Na++,ja[Na]=e.current,e.current=t}var Ea={},Ca=ka(Ea),Ta=ka(!1),Oa=Ea;function Pa(e,t){var n=e.type.contextTypes;if(!n)return Ea;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a,s={};for(a in n)s[a]=t[a];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Fa(e){return null!==(e=e.childContextTypes)&&void 0!==e}function La(){Sa(Ta),Sa(Ca)}function Ra(e,t,n){if(Ca.current!==Ea)throw Error(s(168));_a(Ca,t),_a(Ta,n)}function Aa(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var a in r=r.getChildContext())if(!(a in t))throw Error(s(108,H(e)||"Unknown",a));return I({},n,r)}function Da(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ea,Oa=Ca.current,_a(Ca,e),_a(Ta,Ta.current),!0}function Ia(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Aa(e,t,Oa),r.__reactInternalMemoizedMergedChildContext=e,Sa(Ta),Sa(Ca),_a(Ca,e)):Sa(Ta),_a(Ta,n)}var za=null,Ma=!1,Ua=!1;function Ba(e){null===za?za=[e]:za.push(e)}function Va(){if(!Ua&&null!==za){Ua=!0;var e=0,t=yt;try{var n=za;for(yt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}za=null,Ma=!1}catch(a){throw null!==za&&(za=za.slice(e+1)),Ke(Xe,Va),a}finally{yt=t,Ua=!1}}return null}var Ha=[],qa=0,$a=null,Wa=0,Ka=[],Za=0,Ga=null,Qa=1,Ya="";function Ja(e,t){Ha[qa++]=Wa,Ha[qa++]=$a,$a=e,Wa=t}function Xa(e,t,n){Ka[Za++]=Qa,Ka[Za++]=Ya,Ka[Za++]=Ga,Ga=e;var r=Qa;e=Ya;var a=32-it(r)-1;r&=~(1<<a),n+=1;var s=32-it(t)+a;if(30<s){var i=a-a%5;s=(r&(1<<i)-1).toString(32),r>>=i,a-=i,Qa=1<<32-it(t)+a|n<<a|r,Ya=s+e}else Qa=1<<s|n<<a|r,Ya=e}function es(e){null!==e.return&&(Ja(e,1),Xa(e,1,0))}function ts(e){for(;e===$a;)$a=Ha[--qa],Ha[qa]=null,Wa=Ha[--qa],Ha[qa]=null;for(;e===Ga;)Ga=Ka[--Za],Ka[Za]=null,Ya=Ka[--Za],Ka[Za]=null,Qa=Ka[--Za],Ka[Za]=null}var ns=null,rs=null,as=!1,ss=null;function is(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function ls(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ca(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Ga?{id:Qa,overflow:Ya}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function os(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(as){var t=rs;if(t){var n=t;if(!ls(e,t)){if(os(e))throw Error(s(418));t=ca(n.nextSibling);var r=ns;t&&ls(e,t)?is(r,n):(e.flags=-4097&e.flags|2,as=!1,ns=e)}}else{if(os(e))throw Error(s(418));e.flags=-4097&e.flags|2,as=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function ds(e){if(e!==ns)return!1;if(!as)return us(e),as=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!na(e.type,e.memoizedProps)),t&&(t=rs)){if(os(e))throw ms(),Error(s(418));for(;t;)is(e,t),t=ca(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ca(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ca(e.stateNode.nextSibling):null;return!0}function ms(){for(var e=rs;e;)e=ca(e.nextSibling)}function ps(){rs=ns=null,as=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var hs=b.ReactCurrentBatchConfig;function xs(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var a=r,i=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===i?t.ref:(t=function(e){var t=a.refs;null===e?delete t[i]:t[i]=e},t._stringRef=i,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function gs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function vs(e){return(0,e._init)(e._payload)}function ys(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function a(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function i(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function l(t){return e&&null===t.alternate&&(t.flags|=2),t}function o(e,t,n,r){return null===t||6!==t.tag?((t=Ic(n,e.mode,r)).return=e,t):((t=a(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===N?d(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===F&&vs(s)===t.type)?((r=a(t,n.props)).ref=xs(e,t,n),r.return=e,r):((r=Rc(n.type,n.key,n.props,null,e.mode,r)).ref=xs(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=zc(n,e.mode,r)).return=e,t):((t=a(t,n.children||[])).return=e,t)}function d(e,t,n,r,s){return null===t||7!==t.tag?((t=Ac(n,e.mode,r,s)).return=e,t):((t=a(t,n)).return=e,t)}function m(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=Ic(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case w:return(n=Rc(t.type,t.key,t.props,null,e.mode,n)).ref=xs(e,null,t),n.return=e,n;case j:return(t=zc(t,e.mode,n)).return=e,t;case F:return m(e,(0,t._init)(t._payload),n)}if(te(t)||A(t))return(t=Ac(t,e.mode,n,null)).return=e,t;gs(e,t)}return null}function p(e,t,n,r){var a=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==a?null:o(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case w:return n.key===a?c(e,t,n,r):null;case j:return n.key===a?u(e,t,n,r):null;case F:return p(e,t,(a=n._init)(n._payload),r)}if(te(n)||A(n))return null!==a?null:d(e,t,n,r,null);gs(e,n)}return null}function f(e,t,n,r,a){if("string"===typeof r&&""!==r||"number"===typeof r)return o(t,e=e.get(n)||null,""+r,a);if("object"===typeof r&&null!==r){switch(r.$$typeof){case w:return c(t,e=e.get(null===r.key?n:r.key)||null,r,a);case j:return u(t,e=e.get(null===r.key?n:r.key)||null,r,a);case F:return f(e,t,n,(0,r._init)(r._payload),a)}if(te(r)||A(r))return d(t,e=e.get(n)||null,r,a,null);gs(t,r)}return null}function h(a,s,l,o){for(var c=null,u=null,d=s,h=s=0,x=null;null!==d&&h<l.length;h++){d.index>h?(x=d,d=null):x=d.sibling;var g=p(a,d,l[h],o);if(null===g){null===d&&(d=x);break}e&&d&&null===g.alternate&&t(a,d),s=i(g,s,h),null===u?c=g:u.sibling=g,u=g,d=x}if(h===l.length)return n(a,d),as&&Ja(a,h),c;if(null===d){for(;h<l.length;h++)null!==(d=m(a,l[h],o))&&(s=i(d,s,h),null===u?c=d:u.sibling=d,u=d);return as&&Ja(a,h),c}for(d=r(a,d);h<l.length;h++)null!==(x=f(d,a,h,l[h],o))&&(e&&null!==x.alternate&&d.delete(null===x.key?h:x.key),s=i(x,s,h),null===u?c=x:u.sibling=x,u=x);return e&&d.forEach(function(e){return t(a,e)}),as&&Ja(a,h),c}function x(a,l,o,c){var u=A(o);if("function"!==typeof u)throw Error(s(150));if(null==(o=u.call(o)))throw Error(s(151));for(var d=u=null,h=l,x=l=0,g=null,v=o.next();null!==h&&!v.done;x++,v=o.next()){h.index>x?(g=h,h=null):g=h.sibling;var y=p(a,h,v.value,c);if(null===y){null===h&&(h=g);break}e&&h&&null===y.alternate&&t(a,h),l=i(y,l,x),null===d?u=y:d.sibling=y,d=y,h=g}if(v.done)return n(a,h),as&&Ja(a,x),u;if(null===h){for(;!v.done;x++,v=o.next())null!==(v=m(a,v.value,c))&&(l=i(v,l,x),null===d?u=v:d.sibling=v,d=v);return as&&Ja(a,x),u}for(h=r(a,h);!v.done;x++,v=o.next())null!==(v=f(h,a,x,v.value,c))&&(e&&null!==v.alternate&&h.delete(null===v.key?x:v.key),l=i(v,l,x),null===d?u=v:d.sibling=v,d=v);return e&&h.forEach(function(e){return t(a,e)}),as&&Ja(a,x),u}return function e(r,s,i,o){if("object"===typeof i&&null!==i&&i.type===N&&null===i.key&&(i=i.props.children),"object"===typeof i&&null!==i){switch(i.$$typeof){case w:e:{for(var c=i.key,u=s;null!==u;){if(u.key===c){if((c=i.type)===N){if(7===u.tag){n(r,u.sibling),(s=a(u,i.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===F&&vs(c)===u.type){n(r,u.sibling),(s=a(u,i.props)).ref=xs(r,u,i),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}i.type===N?((s=Ac(i.props.children,r.mode,o,i.key)).return=r,r=s):((o=Rc(i.type,i.key,i.props,null,r.mode,o)).ref=xs(r,s,i),o.return=r,r=o)}return l(r);case j:e:{for(u=i.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===i.containerInfo&&s.stateNode.implementation===i.implementation){n(r,s.sibling),(s=a(s,i.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=zc(i,r.mode,o)).return=r,r=s}return l(r);case F:return e(r,s,(u=i._init)(i._payload),o)}if(te(i))return h(r,s,i,o);if(A(i))return x(r,s,i,o);gs(r,i)}return"string"===typeof i&&""!==i||"number"===typeof i?(i=""+i,null!==s&&6===s.tag?(n(r,s.sibling),(s=a(s,i)).return=r,r=s):(n(r,s),(s=Ic(i,r.mode,o)).return=r,r=s),l(r)):n(r,s)}}var bs=ys(!0),ws=ys(!1),js=ka(null),Ns=null,ks=null,Ss=null;function _s(){Ss=ks=Ns=null}function Es(e){var t=js.current;Sa(js),e._currentValue=t}function Cs(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Ts(e,t){Ns=e,Ss=ks=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(vl=!0),e.firstContext=null)}function Os(e){var t=e._currentValue;if(Ss!==e)if(e={context:e,memoizedValue:t,next:null},null===ks){if(null===Ns)throw Error(s(308));ks=e,Ns.dependencies={lanes:0,firstContext:e}}else ks=ks.next=e;return t}var Ps=null;function Fs(e){null===Ps?Ps=[e]:Ps.push(e)}function Ls(e,t,n,r){var a=t.interleaved;return null===a?(n.next=n,Fs(t)):(n.next=a.next,a.next=n),t.interleaved=n,Rs(e,r)}function Rs(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var As=!1;function Ds(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Is(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function zs(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Ms(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Co)){var a=r.pending;return null===a?t.next=t:(t.next=a.next,a.next=t),r.pending=t,Rs(e,n)}return null===(a=r.interleaved)?(t.next=t,Fs(r)):(t.next=a.next,a.next=t),r.interleaved=t,Rs(e,n)}function Us(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}function Bs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var a=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?a=s=i:s=s.next=i,n=n.next}while(null!==n);null===s?a=s=t:s=s.next=t}else a=s=t;return n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Vs(e,t,n,r){var a=e.updateQueue;As=!1;var s=a.firstBaseUpdate,i=a.lastBaseUpdate,l=a.shared.pending;if(null!==l){a.shared.pending=null;var o=l,c=o.next;o.next=null,null===i?s=c:i.next=c,i=o;var u=e.alternate;null!==u&&((l=(u=u.updateQueue).lastBaseUpdate)!==i&&(null===l?u.firstBaseUpdate=c:l.next=c,u.lastBaseUpdate=o))}if(null!==s){var d=a.baseState;for(i=0,u=c=o=null,l=s;;){var m=l.lane,p=l.eventTime;if((r&m)===m){null!==u&&(u=u.next={eventTime:p,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var f=e,h=l;switch(m=t,p=n,h.tag){case 1:if("function"===typeof(f=h.payload)){d=f.call(p,d,m);break e}d=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(m="function"===typeof(f=h.payload)?f.call(p,d,m):f)||void 0===m)break e;d=I({},d,m);break e;case 2:As=!0}}null!==l.callback&&0!==l.lane&&(e.flags|=64,null===(m=a.effects)?a.effects=[l]:m.push(l))}else p={eventTime:p,lane:m,tag:l.tag,payload:l.payload,callback:l.callback,next:null},null===u?(c=u=p,o=d):u=u.next=p,i|=m;if(null===(l=l.next)){if(null===(l=a.shared.pending))break;l=(m=l).next,m.next=null,a.lastBaseUpdate=m,a.shared.pending=null}}if(null===u&&(o=d),a.baseState=o,a.firstBaseUpdate=c,a.lastBaseUpdate=u,null!==(t=a.shared.interleaved)){a=t;do{i|=a.lane,a=a.next}while(a!==t)}else null===s&&(a.shared.lanes=0);Do|=i,e.lanes=i,e.memoizedState=d}}function Hs(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(null!==a){if(r.callback=null,r=n,"function"!==typeof a)throw Error(s(191,a));a.call(r)}}}var qs={},$s=ka(qs),Ws=ka(qs),Ks=ka(qs);function Zs(e){if(e===qs)throw Error(s(174));return e}function Gs(e,t){switch(_a(Ks,t),_a(Ws,e),_a($s,qs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:oe(null,"");break;default:t=oe(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}Sa($s),_a($s,t)}function Qs(){Sa($s),Sa(Ws),Sa(Ks)}function Ys(e){Zs(Ks.current);var t=Zs($s.current),n=oe(t,e.type);t!==n&&(_a(Ws,e),_a($s,n))}function Js(e){Ws.current===e&&(Sa($s),Sa(Ws))}var Xs=ka(0);function ei(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ti=[];function ni(){for(var e=0;e<ti.length;e++)ti[e]._workInProgressVersionPrimary=null;ti.length=0}var ri=b.ReactCurrentDispatcher,ai=b.ReactCurrentBatchConfig,si=0,ii=null,li=null,oi=null,ci=!1,ui=!1,di=0,mi=0;function pi(){throw Error(s(321))}function fi(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!lr(e[n],t[n]))return!1;return!0}function hi(e,t,n,r,a,i){if(si=i,ii=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ri.current=null===e||null===e.memoizedState?Ji:Xi,e=n(r,a),ui){i=0;do{if(ui=!1,di=0,25<=i)throw Error(s(301));i+=1,oi=li=null,t.updateQueue=null,ri.current=el,e=n(r,a)}while(ui)}if(ri.current=Yi,t=null!==li&&null!==li.next,si=0,oi=li=ii=null,ci=!1,t)throw Error(s(300));return e}function xi(){var e=0!==di;return di=0,e}function gi(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===oi?ii.memoizedState=oi=e:oi=oi.next=e,oi}function vi(){if(null===li){var e=ii.alternate;e=null!==e?e.memoizedState:null}else e=li.next;var t=null===oi?ii.memoizedState:oi.next;if(null!==t)oi=t,li=e;else{if(null===e)throw Error(s(310));e={memoizedState:(li=e).memoizedState,baseState:li.baseState,baseQueue:li.baseQueue,queue:li.queue,next:null},null===oi?ii.memoizedState=oi=e:oi=oi.next=e}return oi}function yi(e,t){return"function"===typeof t?t(e):t}function bi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=li,a=r.baseQueue,i=n.pending;if(null!==i){if(null!==a){var l=a.next;a.next=i.next,i.next=l}r.baseQueue=a=i,n.pending=null}if(null!==a){i=a.next,r=r.baseState;var o=l=null,c=null,u=i;do{var d=u.lane;if((si&d)===d)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var m={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(o=c=m,l=r):c=c.next=m,ii.lanes|=d,Do|=d}u=u.next}while(null!==u&&u!==i);null===c?l=r:c.next=o,lr(r,t.memoizedState)||(vl=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){a=e;do{i=a.lane,ii.lanes|=i,Do|=i,a=a.next}while(a!==e)}else null===a&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function wi(e){var t=vi(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,i=t.memoizedState;if(null!==a){n.pending=null;var l=a=a.next;do{i=e(i,l.action),l=l.next}while(l!==a);lr(i,t.memoizedState)||(vl=!0),t.memoizedState=i,null===t.baseQueue&&(t.baseState=i),n.lastRenderedState=i}return[i,r]}function ji(){}function Ni(e,t){var n=ii,r=vi(),a=t(),i=!lr(r.memoizedState,a);if(i&&(r.memoizedState=a,vl=!0),r=r.queue,Ai(_i.bind(null,n,r,e),[e]),r.getSnapshot!==t||i||null!==oi&&1&oi.memoizedState.tag){if(n.flags|=2048,Oi(9,Si.bind(null,n,r,a,t),void 0,null),null===To)throw Error(s(349));0!==(30&si)||ki(n,t,a)}return a}function ki(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function Si(e,t,n,r){t.value=n,t.getSnapshot=r,Ei(t)&&Ci(e)}function _i(e,t,n){return n(function(){Ei(t)&&Ci(e)})}function Ei(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!lr(e,n)}catch(r){return!0}}function Ci(e){var t=Rs(e,1);null!==t&&nc(t,e,1,-1)}function Ti(e){var t=gi();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:yi,lastRenderedState:e},t.queue=e,e=e.dispatch=Ki.bind(null,ii,e),[t.memoizedState,e]}function Oi(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=ii.updateQueue)?(t={lastEffect:null,stores:null},ii.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Pi(){return vi().memoizedState}function Fi(e,t,n,r){var a=gi();ii.flags|=e,a.memoizedState=Oi(1|t,n,void 0,void 0===r?null:r)}function Li(e,t,n,r){var a=vi();r=void 0===r?null:r;var s=void 0;if(null!==li){var i=li.memoizedState;if(s=i.destroy,null!==r&&fi(r,i.deps))return void(a.memoizedState=Oi(t,n,s,r))}ii.flags|=e,a.memoizedState=Oi(1|t,n,s,r)}function Ri(e,t){return Fi(8390656,8,e,t)}function Ai(e,t){return Li(2048,8,e,t)}function Di(e,t){return Li(4,2,e,t)}function Ii(e,t){return Li(4,4,e,t)}function zi(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Mi(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Li(4,4,zi.bind(null,t,e),n)}function Ui(){}function Bi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vi(e,t){var n=vi();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fi(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hi(e,t,n){return 0===(21&si)?(e.baseState&&(e.baseState=!1,vl=!0),e.memoizedState=n):(lr(n,t)||(n=ht(),ii.lanes|=n,Do|=n,e.baseState=!0),t)}function qi(e,t){var n=yt;yt=0!==n&&4>n?n:4,e(!0);var r=ai.transition;ai.transition={};try{e(!1),t()}finally{yt=n,ai.transition=r}}function $i(){return vi().memoizedState}function Wi(e,t,n){var r=tc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Zi(e))Gi(t,n);else if(null!==(n=Ls(e,t,n,r))){nc(n,e,r,ec()),Qi(n,t,r)}}function Ki(e,t,n){var r=tc(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Zi(e))Gi(t,a);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var i=t.lastRenderedState,l=s(i,n);if(a.hasEagerState=!0,a.eagerState=l,lr(l,i)){var o=t.interleaved;return null===o?(a.next=a,Fs(t)):(a.next=o.next,o.next=a),void(t.interleaved=a)}}catch(c){}null!==(n=Ls(e,t,a,r))&&(nc(n,e,r,a=ec()),Qi(n,t,r))}}function Zi(e){var t=e.alternate;return e===ii||null!==t&&t===ii}function Gi(e,t){ui=ci=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qi(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,vt(e,n)}}var Yi={readContext:Os,useCallback:pi,useContext:pi,useEffect:pi,useImperativeHandle:pi,useInsertionEffect:pi,useLayoutEffect:pi,useMemo:pi,useReducer:pi,useRef:pi,useState:pi,useDebugValue:pi,useDeferredValue:pi,useTransition:pi,useMutableSource:pi,useSyncExternalStore:pi,useId:pi,unstable_isNewReconciler:!1},Ji={readContext:Os,useCallback:function(e,t){return gi().memoizedState=[e,void 0===t?null:t],e},useContext:Os,useEffect:Ri,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Fi(4194308,4,zi.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Fi(4194308,4,e,t)},useInsertionEffect:function(e,t){return Fi(4,2,e,t)},useMemo:function(e,t){var n=gi();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=gi();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Wi.bind(null,ii,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},gi().memoizedState=e},useState:Ti,useDebugValue:Ui,useDeferredValue:function(e){return gi().memoizedState=e},useTransition:function(){var e=Ti(!1),t=e[0];return e=qi.bind(null,e[1]),gi().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=ii,a=gi();if(as){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===To)throw Error(s(349));0!==(30&si)||ki(r,t,n)}a.memoizedState=n;var i={value:n,getSnapshot:t};return a.queue=i,Ri(_i.bind(null,r,i,e),[e]),r.flags|=2048,Oi(9,Si.bind(null,r,i,n,t),void 0,null),n},useId:function(){var e=gi(),t=To.identifierPrefix;if(as){var n=Ya;t=":"+t+"R"+(n=(Qa&~(1<<32-it(Qa)-1)).toString(32)+n),0<(n=di++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=mi++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Xi={readContext:Os,useCallback:Bi,useContext:Os,useEffect:Ai,useImperativeHandle:Mi,useInsertionEffect:Di,useLayoutEffect:Ii,useMemo:Vi,useReducer:bi,useRef:Pi,useState:function(){return bi(yi)},useDebugValue:Ui,useDeferredValue:function(e){return Hi(vi(),li.memoizedState,e)},useTransition:function(){return[bi(yi)[0],vi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:$i,unstable_isNewReconciler:!1},el={readContext:Os,useCallback:Bi,useContext:Os,useEffect:Ai,useImperativeHandle:Mi,useInsertionEffect:Di,useLayoutEffect:Ii,useMemo:Vi,useReducer:wi,useRef:Pi,useState:function(){return wi(yi)},useDebugValue:Ui,useDeferredValue:function(e){var t=vi();return null===li?t.memoizedState=e:Hi(t,li.memoizedState,e)},useTransition:function(){return[wi(yi)[0],vi().memoizedState]},useMutableSource:ji,useSyncExternalStore:Ni,useId:$i,unstable_isNewReconciler:!1};function tl(e,t){if(e&&e.defaultProps){for(var n in t=I({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function nl(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:I({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var rl={isMounted:function(e){return!!(e=e._reactInternals)&&Ve(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=ec(),a=tc(e),s=zs(r,a);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Ms(e,s,a))&&(nc(t,e,a,r),Us(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=ec(),r=tc(e),a=zs(n,r);a.tag=2,void 0!==t&&null!==t&&(a.callback=t),null!==(t=Ms(e,a,r))&&(nc(t,e,r,n),Us(t,e,r))}};function al(e,t,n,r,a,s,i){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,i):!t.prototype||!t.prototype.isPureReactComponent||(!or(n,r)||!or(a,s))}function sl(e,t,n){var r=!1,a=Ea,s=t.contextType;return"object"===typeof s&&null!==s?s=Os(s):(a=Fa(t)?Oa:Ca.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Pa(e,a):Ea),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=rl,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function il(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&rl.enqueueReplaceState(t,t.state,null)}function ll(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},Ds(e);var s=t.contextType;"object"===typeof s&&null!==s?a.context=Os(s):(s=Fa(t)?Oa:Ca.current,a.context=Pa(e,s)),a.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(nl(e,t,s,n),a.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof a.getSnapshotBeforeUpdate||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||(t=a.state,"function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount(),t!==a.state&&rl.enqueueReplaceState(a,a.state,null),Vs(e,n,a,r),a.state=e.memoizedState),"function"===typeof a.componentDidMount&&(e.flags|=4194308)}function ol(e,t){try{var n="",r=t;do{n+=B(r),r=r.return}while(r);var a=n}catch(s){a="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:a,digest:null}}function cl(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ul(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dl="function"===typeof WeakMap?WeakMap:Map;function ml(e,t,n){(n=zs(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){qo||(qo=!0,$o=r),ul(0,t)},n}function pl(e,t,n){(n=zs(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ul(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ul(0,t),"function"!==typeof r&&(null===Wo?Wo=new Set([this]):Wo.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function fl(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new dl;var a=new Set;r.set(t,a)}else void 0===(a=r.get(t))&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=Sc.bind(null,e,t,n),t.then(e,e))}function hl(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function xl(e,t,n,r,a){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=zs(-1,1)).tag=2,Ms(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=a,e)}var gl=b.ReactCurrentOwner,vl=!1;function yl(e,t,n,r){t.child=null===e?ws(t,null,n,r):bs(t,e.child,n,r)}function bl(e,t,n,r,a){n=n.render;var s=t.ref;return Ts(t,a),r=hi(e,t,n,r,s,a),n=xi(),null===e||vl?(as&&n&&es(t),t.flags|=1,yl(e,t,r,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hl(e,t,a))}function wl(e,t,n,r,a){if(null===e){var s=n.type;return"function"!==typeof s||Fc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Rc(n.type,null,r,t,t.mode,a)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,jl(e,t,s,r,a))}if(s=e.child,0===(e.lanes&a)){var i=s.memoizedProps;if((n=null!==(n=n.compare)?n:or)(i,r)&&e.ref===t.ref)return Hl(e,t,a)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function jl(e,t,n,r,a){if(null!==e){var s=e.memoizedProps;if(or(s,r)&&e.ref===t.ref){if(vl=!1,t.pendingProps=r=s,0===(e.lanes&a))return t.lanes=e.lanes,Hl(e,t,a);0!==(131072&e.flags)&&(vl=!0)}}return Sl(e,t,n,r,a)}function Nl(e,t,n){var r=t.pendingProps,a=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},_a(Lo,Fo),Fo|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,_a(Lo,Fo),Fo|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,_a(Lo,Fo),Fo|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,_a(Lo,Fo),Fo|=r;return yl(e,t,a,n),t.child}function kl(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Sl(e,t,n,r,a){var s=Fa(n)?Oa:Ca.current;return s=Pa(t,s),Ts(t,a),n=hi(e,t,n,r,s,a),r=xi(),null===e||vl?(as&&r&&es(t),t.flags|=1,yl(e,t,n,a),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,Hl(e,t,a))}function _l(e,t,n,r,a){if(Fa(n)){var s=!0;Da(t)}else s=!1;if(Ts(t,a),null===t.stateNode)Vl(e,t),sl(t,n,r),ll(t,n,r,a),r=!0;else if(null===e){var i=t.stateNode,l=t.memoizedProps;i.props=l;var o=i.context,c=n.contextType;"object"===typeof c&&null!==c?c=Os(c):c=Pa(t,c=Fa(n)?Oa:Ca.current);var u=n.getDerivedStateFromProps,d="function"===typeof u||"function"===typeof i.getSnapshotBeforeUpdate;d||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==r||o!==c)&&il(t,i,r,c),As=!1;var m=t.memoizedState;i.state=m,Vs(t,r,i,a),o=t.memoizedState,l!==r||m!==o||Ta.current||As?("function"===typeof u&&(nl(t,n,u,r),o=t.memoizedState),(l=As||al(t,n,l,r,m,o,c))?(d||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||("function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount()),"function"===typeof i.componentDidMount&&(t.flags|=4194308)):("function"===typeof i.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),i.props=r,i.state=o,i.context=c,r=l):("function"===typeof i.componentDidMount&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Is(e,t),l=t.memoizedProps,c=t.type===t.elementType?l:tl(t.type,l),i.props=c,d=t.pendingProps,m=i.context,"object"===typeof(o=n.contextType)&&null!==o?o=Os(o):o=Pa(t,o=Fa(n)?Oa:Ca.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof i.getSnapshotBeforeUpdate)||"function"!==typeof i.UNSAFE_componentWillReceiveProps&&"function"!==typeof i.componentWillReceiveProps||(l!==d||m!==o)&&il(t,i,r,o),As=!1,m=t.memoizedState,i.state=m,Vs(t,r,i,a);var f=t.memoizedState;l!==d||m!==f||Ta.current||As?("function"===typeof p&&(nl(t,n,p,r),f=t.memoizedState),(c=As||al(t,n,c,r,m,f,o)||!1)?(u||"function"!==typeof i.UNSAFE_componentWillUpdate&&"function"!==typeof i.componentWillUpdate||("function"===typeof i.componentWillUpdate&&i.componentWillUpdate(r,f,o),"function"===typeof i.UNSAFE_componentWillUpdate&&i.UNSAFE_componentWillUpdate(r,f,o)),"function"===typeof i.componentDidUpdate&&(t.flags|=4),"function"===typeof i.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),i.props=r,i.state=f,i.context=o,r=c):("function"!==typeof i.componentDidUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),"function"!==typeof i.getSnapshotBeforeUpdate||l===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return El(e,t,n,r,s,a)}function El(e,t,n,r,a,s){kl(e,t);var i=0!==(128&t.flags);if(!r&&!i)return a&&Ia(t,n,!1),Hl(e,t,s);r=t.stateNode,gl.current=t;var l=i&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&i?(t.child=bs(t,e.child,null,s),t.child=bs(t,null,l,s)):yl(e,t,l,s),t.memoizedState=r.state,a&&Ia(t,n,!0),t.child}function Cl(e){var t=e.stateNode;t.pendingContext?Ra(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Ra(0,t.context,!1),Gs(e,t.containerInfo)}function Tl(e,t,n,r,a){return ps(),fs(a),t.flags|=256,yl(e,t,n,r),t.child}var Ol,Pl,Fl,Ll,Rl={dehydrated:null,treeContext:null,retryLane:0};function Al(e){return{baseLanes:e,cachePool:null,transitions:null}}function Dl(e,t,n){var r,a=t.pendingProps,i=Xs.current,l=!1,o=0!==(128&t.flags);if((r=o)||(r=(null===e||null!==e.memoizedState)&&0!==(2&i)),r?(l=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(i|=1),_a(Xs,1&i),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(o=a.children,e=a.fallback,l?(a=t.mode,l=t.child,o={mode:"hidden",children:o},0===(1&a)&&null!==l?(l.childLanes=0,l.pendingProps=o):l=Dc(o,a,0,null),e=Ac(e,a,n,null),l.return=t,e.return=t,l.sibling=e,t.child=l,t.child.memoizedState=Al(n),t.memoizedState=Rl,e):Il(t,o));if(null!==(i=e.memoizedState)&&null!==(r=i.dehydrated))return function(e,t,n,r,a,i,l){if(n)return 256&t.flags?(t.flags&=-257,zl(e,t,l,r=cl(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(i=r.fallback,a=t.mode,r=Dc({mode:"visible",children:r.children},a,0,null),(i=Ac(i,a,l,null)).flags|=2,r.return=t,i.return=t,r.sibling=i,t.child=r,0!==(1&t.mode)&&bs(t,e.child,null,l),t.child.memoizedState=Al(l),t.memoizedState=Rl,i);if(0===(1&t.mode))return zl(e,t,l,null);if("$!"===a.data){if(r=a.nextSibling&&a.nextSibling.dataset)var o=r.dgst;return r=o,zl(e,t,l,r=cl(i=Error(s(419)),r,void 0))}if(o=0!==(l&e.childLanes),vl||o){if(null!==(r=To)){switch(l&-l){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}0!==(a=0!==(a&(r.suspendedLanes|l))?0:a)&&a!==i.retryLane&&(i.retryLane=a,Rs(e,a),nc(r,e,a,-1))}return hc(),zl(e,t,l,r=cl(Error(s(421))))}return"$?"===a.data?(t.flags|=128,t.child=e.child,t=Ec.bind(null,e),a._reactRetry=t,null):(e=i.treeContext,rs=ca(a.nextSibling),ns=t,as=!0,ss=null,null!==e&&(Ka[Za++]=Qa,Ka[Za++]=Ya,Ka[Za++]=Ga,Qa=e.id,Ya=e.overflow,Ga=t),t=Il(t,r.children),t.flags|=4096,t)}(e,t,o,a,r,i,n);if(l){l=a.fallback,o=t.mode,r=(i=e.child).sibling;var c={mode:"hidden",children:a.children};return 0===(1&o)&&t.child!==i?((a=t.child).childLanes=0,a.pendingProps=c,t.deletions=null):(a=Lc(i,c)).subtreeFlags=14680064&i.subtreeFlags,null!==r?l=Lc(r,l):(l=Ac(l,o,n,null)).flags|=2,l.return=t,a.return=t,a.sibling=l,t.child=a,a=l,l=t.child,o=null===(o=e.child.memoizedState)?Al(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},l.memoizedState=o,l.childLanes=e.childLanes&~n,t.memoizedState=Rl,a}return e=(l=e.child).sibling,a=Lc(l,{mode:"visible",children:a.children}),0===(1&t.mode)&&(a.lanes=n),a.return=t,a.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=a,t.memoizedState=null,a}function Il(e,t){return(t=Dc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zl(e,t,n,r){return null!==r&&fs(r),bs(t,e.child,null,n),(e=Il(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Ml(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Cs(e.return,t,n)}function Ul(e,t,n,r,a){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function Bl(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(yl(e,t,r.children,n),0!==(2&(r=Xs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Ml(e,n,t);else if(19===e.tag)Ml(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(_a(Xs,r),0===(1&t.mode))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;null!==n;)null!==(e=n.alternate)&&null===ei(e)&&(a=n),n=n.sibling;null===(n=a)?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),Ul(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;null!==a;){if(null!==(e=a.alternate)&&null===ei(e)){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}Ul(t,!0,n,null,s);break;case"together":Ul(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Vl(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function Hl(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Do|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function ql(e,t){if(!as)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $l(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=14680064&a.subtreeFlags,r|=14680064&a.flags,a.return=e,a=a.sibling;else for(a=e.child;null!==a;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Wl(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $l(t),null;case 1:case 17:return Fa(t.type)&&La(),$l(t),null;case 3:return r=t.stateNode,Qs(),Sa(Ta),Sa(Ca),ni(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(ds(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(ic(ss),ss=null))),Pl(e,t),$l(t),null;case 5:Js(t);var a=Zs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Fl(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return $l(t),null}if(e=Zs($s.current),ds(t)){r=t.stateNode,n=t.type;var i=t.memoizedProps;switch(r[ma]=t,r[pa]=i,e=0!==(1&t.mode),n){case"dialog":Mr("cancel",r),Mr("close",r);break;case"iframe":case"object":case"embed":Mr("load",r);break;case"video":case"audio":for(a=0;a<Ar.length;a++)Mr(Ar[a],r);break;case"source":Mr("error",r);break;case"img":case"image":case"link":Mr("error",r),Mr("load",r);break;case"details":Mr("toggle",r);break;case"input":Q(r,i),Mr("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Mr("invalid",r);break;case"textarea":ae(r,i),Mr("invalid",r)}for(var o in ve(n,i),a=null,i)if(i.hasOwnProperty(o)){var c=i[o];"children"===o?"string"===typeof c?r.textContent!==c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==i.suppressHydrationWarning&&Jr(r.textContent,c,e),a=["children",""+c]):l.hasOwnProperty(o)&&null!=c&&"onScroll"===o&&Mr("scroll",r)}switch(n){case"input":W(r),X(r,i,!0);break;case"textarea":W(r),ie(r);break;case"select":case"option":break;default:"function"===typeof i.onClick&&(r.onclick=Xr)}r=a,t.updateQueue=r,null!==r&&(t.flags|=4)}else{o=9===a.nodeType?a:a.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=le(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=o.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=o.createElement(n,{is:r.is}):(e=o.createElement(n),"select"===n&&(o=e,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):e=o.createElementNS(e,n),e[ma]=t,e[pa]=r,Ol(e,t,!1,!1),t.stateNode=e;e:{switch(o=ye(n,r),n){case"dialog":Mr("cancel",e),Mr("close",e),a=r;break;case"iframe":case"object":case"embed":Mr("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ar.length;a++)Mr(Ar[a],e);a=r;break;case"source":Mr("error",e),a=r;break;case"img":case"image":case"link":Mr("error",e),Mr("load",e),a=r;break;case"details":Mr("toggle",e),a=r;break;case"input":Q(e,r),a=G(e,r),Mr("invalid",e);break;case"option":default:a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=I({},r,{value:void 0}),Mr("invalid",e);break;case"textarea":ae(e,r),a=re(e,r),Mr("invalid",e)}for(i in ve(n,a),c=a)if(c.hasOwnProperty(i)){var u=c[i];"style"===i?xe(e,u):"dangerouslySetInnerHTML"===i?null!=(u=u?u.__html:void 0)&&de(e,u):"children"===i?"string"===typeof u?("textarea"!==n||""!==u)&&me(e,u):"number"===typeof u&&me(e,""+u):"suppressContentEditableWarning"!==i&&"suppressHydrationWarning"!==i&&"autoFocus"!==i&&(l.hasOwnProperty(i)?null!=u&&"onScroll"===i&&Mr("scroll",e):null!=u&&y(e,i,u,o))}switch(n){case"input":W(e),X(e,r,!1);break;case"textarea":W(e),ie(e);break;case"option":null!=r.value&&e.setAttribute("value",""+q(r.value));break;case"select":e.multiple=!!r.multiple,null!=(i=r.value)?ne(e,!!r.multiple,i,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof a.onClick&&(e.onclick=Xr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return $l(t),null;case 6:if(e&&null!=t.stateNode)Ll(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Zs(Ks.current),Zs($s.current),ds(t)){if(r=t.stateNode,n=t.memoizedProps,r[ma]=t,(i=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:Jr(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&Jr(r.nodeValue,n,0!==(1&e.mode))}i&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[ma]=t,t.stateNode=r}return $l(t),null;case 13:if(Sa(Xs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(as&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ms(),ps(),t.flags|=98560,i=!1;else if(i=ds(t),null!==r&&null!==r.dehydrated){if(null===e){if(!i)throw Error(s(318));if(!(i=null!==(i=t.memoizedState)?i.dehydrated:null))throw Error(s(317));i[ma]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;$l(t),i=!1}else null!==ss&&(ic(ss),ss=null),i=!0;if(!i)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Xs.current)?0===Ro&&(Ro=3):hc())),null!==t.updateQueue&&(t.flags|=4),$l(t),null);case 4:return Qs(),Pl(e,t),null===e&&Vr(t.stateNode.containerInfo),$l(t),null;case 10:return Es(t.type._context),$l(t),null;case 19:if(Sa(Xs),null===(i=t.memoizedState))return $l(t),null;if(r=0!==(128&t.flags),null===(o=i.rendering))if(r)ql(i,!1);else{if(0!==Ro||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(o=ei(e))){for(t.flags|=128,ql(i,!1),null!==(r=o.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(i=n).flags&=14680066,null===(o=i.alternate)?(i.childLanes=0,i.lanes=e,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,e=o.dependencies,i.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return _a(Xs,1&Xs.current|2),t.child}e=e.sibling}null!==i.tail&&Ye()>Vo&&(t.flags|=128,r=!0,ql(i,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ei(o))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),ql(i,!0),null===i.tail&&"hidden"===i.tailMode&&!o.alternate&&!as)return $l(t),null}else 2*Ye()-i.renderingStartTime>Vo&&1073741824!==n&&(t.flags|=128,r=!0,ql(i,!1),t.lanes=4194304);i.isBackwards?(o.sibling=t.child,t.child=o):(null!==(n=i.last)?n.sibling=o:t.child=o,i.last=o)}return null!==i.tail?(t=i.tail,i.rendering=t,i.tail=t.sibling,i.renderingStartTime=Ye(),t.sibling=null,n=Xs.current,_a(Xs,r?1&n|2:1&n),t):($l(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Fo)&&($l(t),6&t.subtreeFlags&&(t.flags|=8192)):$l(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Kl(e,t){switch(ts(t),t.tag){case 1:return Fa(t.type)&&La(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Qs(),Sa(Ta),Sa(Ca),ni(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return Js(t),null;case 13:if(Sa(Xs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return Sa(Xs),null;case 4:return Qs(),null;case 10:return Es(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Ol=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Pl=function(){},Fl=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Zs($s.current);var s,i=null;switch(n){case"input":a=G(e,a),r=G(e,r),i=[];break;case"select":a=I({},a,{value:void 0}),r=I({},r,{value:void 0}),i=[];break;case"textarea":a=re(e,a),r=re(e,r),i=[];break;default:"function"!==typeof a.onClick&&"function"===typeof r.onClick&&(e.onclick=Xr)}for(u in ve(n,r),n=null,a)if(!r.hasOwnProperty(u)&&a.hasOwnProperty(u)&&null!=a[u])if("style"===u){var o=a[u];for(s in o)o.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(l.hasOwnProperty(u)?i||(i=[]):(i=i||[]).push(u,null));for(u in r){var c=r[u];if(o=null!=a?a[u]:void 0,r.hasOwnProperty(u)&&c!==o&&(null!=c||null!=o))if("style"===u)if(o){for(s in o)!o.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&o[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(i||(i=[]),i.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,o=o?o.__html:void 0,null!=c&&o!==c&&(i=i||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(i=i||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(l.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Mr("scroll",e),i||o===c||(i=[])):(i=i||[]).push(u,c))}n&&(i=i||[]).push("style",n);var u=i;(t.updateQueue=u)&&(t.flags|=4)}},Ll=function(e,t,n,r){n!==r&&(t.flags|=4)};var Zl=!1,Gl=!1,Ql="function"===typeof WeakSet?WeakSet:Set,Yl=null;function Jl(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function Xl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var eo=!1;function to(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,void 0!==s&&Xl(t,n,s)}a=a.next}while(a!==r)}}function no(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function ro(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function ao(e){var t=e.alternate;null!==t&&(e.alternate=null,ao(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[ma],delete t[pa],delete t[ha],delete t[xa],delete t[ga])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function so(e){return 5===e.tag||3===e.tag||4===e.tag}function io(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||so(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function lo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Xr));else if(4!==r&&null!==(e=e.child))for(lo(e,t,n),e=e.sibling;null!==e;)lo(e,t,n),e=e.sibling}function oo(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(oo(e,t,n),e=e.sibling;null!==e;)oo(e,t,n),e=e.sibling}var co=null,uo=!1;function mo(e,t,n){for(n=n.child;null!==n;)po(e,t,n),n=n.sibling}function po(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(at,n)}catch(l){}switch(n.tag){case 5:Gl||Jl(n,t);case 6:var r=co,a=uo;co=null,mo(e,t,n),uo=a,null!==(co=r)&&(uo?(e=co,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):co.removeChild(n.stateNode));break;case 18:null!==co&&(uo?(e=co,n=n.stateNode,8===e.nodeType?oa(e.parentNode,n):1===e.nodeType&&oa(e,n),Vt(e)):oa(co,n.stateNode));break;case 4:r=co,a=uo,co=n.stateNode.containerInfo,uo=!0,mo(e,t,n),co=r,uo=a;break;case 0:case 11:case 14:case 15:if(!Gl&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){a=r=r.next;do{var s=a,i=s.destroy;s=s.tag,void 0!==i&&(0!==(2&s)||0!==(4&s))&&Xl(n,t,i),a=a.next}while(a!==r)}mo(e,t,n);break;case 1:if(!Gl&&(Jl(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(l){kc(n,t,l)}mo(e,t,n);break;case 21:mo(e,t,n);break;case 22:1&n.mode?(Gl=(r=Gl)||null!==n.memoizedState,mo(e,t,n),Gl=r):mo(e,t,n);break;default:mo(e,t,n)}}function fo(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new Ql),t.forEach(function(t){var r=Cc.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))})}}function ho(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var a=n[r];try{var i=e,l=t,o=l;e:for(;null!==o;){switch(o.tag){case 5:co=o.stateNode,uo=!1;break e;case 3:case 4:co=o.stateNode.containerInfo,uo=!0;break e}o=o.return}if(null===co)throw Error(s(160));po(i,l,a),co=null,uo=!1;var c=a.alternate;null!==c&&(c.return=null),a.return=null}catch(u){kc(a,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)xo(t,e),t=t.sibling}function xo(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ho(t,e),go(e),4&r){try{to(3,e,e.return),no(3,e)}catch(x){kc(e,e.return,x)}try{to(5,e,e.return)}catch(x){kc(e,e.return,x)}}break;case 1:ho(t,e),go(e),512&r&&null!==n&&Jl(n,n.return);break;case 5:if(ho(t,e),go(e),512&r&&null!==n&&Jl(n,n.return),32&e.flags){var a=e.stateNode;try{me(a,"")}catch(x){kc(e,e.return,x)}}if(4&r&&null!=(a=e.stateNode)){var i=e.memoizedProps,l=null!==n?n.memoizedProps:i,o=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===o&&"radio"===i.type&&null!=i.name&&Y(a,i),ye(o,l);var u=ye(o,i);for(l=0;l<c.length;l+=2){var d=c[l],m=c[l+1];"style"===d?xe(a,m):"dangerouslySetInnerHTML"===d?de(a,m):"children"===d?me(a,m):y(a,d,m,u)}switch(o){case"input":J(a,i);break;case"textarea":se(a,i);break;case"select":var p=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!i.multiple;var f=i.value;null!=f?ne(a,!!i.multiple,f,!1):p!==!!i.multiple&&(null!=i.defaultValue?ne(a,!!i.multiple,i.defaultValue,!0):ne(a,!!i.multiple,i.multiple?[]:"",!1))}a[pa]=i}catch(x){kc(e,e.return,x)}}break;case 6:if(ho(t,e),go(e),4&r){if(null===e.stateNode)throw Error(s(162));a=e.stateNode,i=e.memoizedProps;try{a.nodeValue=i}catch(x){kc(e,e.return,x)}}break;case 3:if(ho(t,e),go(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Vt(t.containerInfo)}catch(x){kc(e,e.return,x)}break;case 4:default:ho(t,e),go(e);break;case 13:ho(t,e),go(e),8192&(a=e.child).flags&&(i=null!==a.memoizedState,a.stateNode.isHidden=i,!i||null!==a.alternate&&null!==a.alternate.memoizedState||(Bo=Ye())),4&r&&fo(e);break;case 22:if(d=null!==n&&null!==n.memoizedState,1&e.mode?(Gl=(u=Gl)||d,ho(t,e),Gl=u):ho(t,e),go(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!d&&0!==(1&e.mode))for(Yl=e,d=e.child;null!==d;){for(m=Yl=d;null!==Yl;){switch(f=(p=Yl).child,p.tag){case 0:case 11:case 14:case 15:to(4,p,p.return);break;case 1:Jl(p,p.return);var h=p.stateNode;if("function"===typeof h.componentWillUnmount){r=p,n=p.return;try{t=r,h.props=t.memoizedProps,h.state=t.memoizedState,h.componentWillUnmount()}catch(x){kc(r,n,x)}}break;case 5:Jl(p,p.return);break;case 22:if(null!==p.memoizedState){wo(m);continue}}null!==f?(f.return=p,Yl=f):wo(m)}d=d.sibling}e:for(d=null,m=e;;){if(5===m.tag){if(null===d){d=m;try{a=m.stateNode,u?"function"===typeof(i=a.style).setProperty?i.setProperty("display","none","important"):i.display="none":(o=m.stateNode,l=void 0!==(c=m.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,o.style.display=he("display",l))}catch(x){kc(e,e.return,x)}}}else if(6===m.tag){if(null===d)try{m.stateNode.nodeValue=u?"":m.memoizedProps}catch(x){kc(e,e.return,x)}}else if((22!==m.tag&&23!==m.tag||null===m.memoizedState||m===e)&&null!==m.child){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;null===m.sibling;){if(null===m.return||m.return===e)break e;d===m&&(d=null),m=m.return}d===m&&(d=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:ho(t,e),go(e),4&r&&fo(e);case 21:}}function go(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(so(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var a=r.stateNode;32&r.flags&&(me(a,""),r.flags&=-33),oo(e,io(e),a);break;case 3:case 4:var i=r.stateNode.containerInfo;lo(e,io(e),i);break;default:throw Error(s(161))}}catch(l){kc(e,e.return,l)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function vo(e,t,n){Yl=e,yo(e,t,n)}function yo(e,t,n){for(var r=0!==(1&e.mode);null!==Yl;){var a=Yl,s=a.child;if(22===a.tag&&r){var i=null!==a.memoizedState||Zl;if(!i){var l=a.alternate,o=null!==l&&null!==l.memoizedState||Gl;l=Zl;var c=Gl;if(Zl=i,(Gl=o)&&!c)for(Yl=a;null!==Yl;)o=(i=Yl).child,22===i.tag&&null!==i.memoizedState?jo(a):null!==o?(o.return=i,Yl=o):jo(a);for(;null!==s;)Yl=s,yo(s,t,n),s=s.sibling;Yl=a,Zl=l,Gl=c}bo(e)}else 0!==(8772&a.subtreeFlags)&&null!==s?(s.return=a,Yl=s):bo(e)}}function bo(e){for(;null!==Yl;){var t=Yl;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Gl||no(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Gl)if(null===n)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:tl(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=t.updateQueue;null!==i&&Hs(t,i,r);break;case 3:var l=t.updateQueue;if(null!==l){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Hs(t,l,n)}break;case 5:var o=t.stateNode;if(null===n&&4&t.flags){n=o;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var d=u.memoizedState;if(null!==d){var m=d.dehydrated;null!==m&&Vt(m)}}}break;default:throw Error(s(163))}Gl||512&t.flags&&ro(t)}catch(p){kc(t,t.return,p)}}if(t===e){Yl=null;break}if(null!==(n=t.sibling)){n.return=t.return,Yl=n;break}Yl=t.return}}function wo(e){for(;null!==Yl;){var t=Yl;if(t===e){Yl=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Yl=n;break}Yl=t.return}}function jo(e){for(;null!==Yl;){var t=Yl;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{no(4,t)}catch(o){kc(t,n,o)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var a=t.return;try{r.componentDidMount()}catch(o){kc(t,a,o)}}var s=t.return;try{ro(t)}catch(o){kc(t,s,o)}break;case 5:var i=t.return;try{ro(t)}catch(o){kc(t,i,o)}}}catch(o){kc(t,t.return,o)}if(t===e){Yl=null;break}var l=t.sibling;if(null!==l){l.return=t.return,Yl=l;break}Yl=t.return}}var No,ko=Math.ceil,So=b.ReactCurrentDispatcher,_o=b.ReactCurrentOwner,Eo=b.ReactCurrentBatchConfig,Co=0,To=null,Oo=null,Po=0,Fo=0,Lo=ka(0),Ro=0,Ao=null,Do=0,Io=0,zo=0,Mo=null,Uo=null,Bo=0,Vo=1/0,Ho=null,qo=!1,$o=null,Wo=null,Ko=!1,Zo=null,Go=0,Qo=0,Yo=null,Jo=-1,Xo=0;function ec(){return 0!==(6&Co)?Ye():-1!==Jo?Jo:Jo=Ye()}function tc(e){return 0===(1&e.mode)?1:0!==(2&Co)&&0!==Po?Po&-Po:null!==hs.transition?(0===Xo&&(Xo=ht()),Xo):0!==(e=yt)?e:e=void 0===(e=window.event)?16:Qt(e.type)}function nc(e,t,n,r){if(50<Qo)throw Qo=0,Yo=null,Error(s(185));gt(e,n,r),0!==(2&Co)&&e===To||(e===To&&(0===(2&Co)&&(Io|=n),4===Ro&&lc(e,Po)),rc(e,r),1===n&&0===Co&&0===(1&t.mode)&&(Vo=Ye()+500,Ma&&Va()))}function rc(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var i=31-it(s),l=1<<i,o=a[i];-1===o?0!==(l&n)&&0===(l&r)||(a[i]=pt(l,t)):o<=t&&(e.expiredLanes|=l),s&=~l}}(e,t);var r=mt(e,e===To?Po:0);if(0===r)null!==n&&Ze(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Ze(n),1===t)0===e.tag?function(e){Ma=!0,Ba(e)}(oc.bind(null,e)):Ba(oc.bind(null,e)),ia(function(){0===(6&Co)&&Va()}),n=null;else{switch(bt(r)){case 1:n=Xe;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Tc(n,ac.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function ac(e,t){if(Jo=-1,Xo=0,0!==(6&Co))throw Error(s(327));var n=e.callbackNode;if(jc()&&e.callbackNode!==n)return null;var r=mt(e,e===To?Po:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=xc(e,r);else{t=r;var a=Co;Co|=2;var i=fc();for(To===e&&Po===t||(Ho=null,Vo=Ye()+500,mc(e,t));;)try{vc();break}catch(o){pc(e,o)}_s(),So.current=i,Co=a,null!==Oo?t=0:(To=null,Po=0,t=Ro)}if(0!==t){if(2===t&&(0!==(a=ft(e))&&(r=a,t=sc(e,a))),1===t)throw n=Ao,mc(e,0),lc(e,r),rc(e,Ye()),n;if(6===t)lc(e,r);else{if(a=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!lr(s(),a))return!1}catch(l){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(a)&&(2===(t=xc(e,r))&&(0!==(i=ft(e))&&(r=i,t=sc(e,i))),1===t))throw n=Ao,mc(e,0),lc(e,r),rc(e,Ye()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:wc(e,Uo,Ho);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Bo+500-Ye())){if(0!==mt(e,0))break;if(((a=e.suspendedLanes)&r)!==r){ec(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ra(wc.bind(null,e,Uo,Ho),t);break}wc(e,Uo,Ho);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,a=-1;0<r;){var l=31-it(r);i=1<<l,(l=t[l])>a&&(a=l),r&=~i}if(r=a,10<(r=(120>(r=Ye()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ko(r/1960))-r)){e.timeoutHandle=ra(wc.bind(null,e,Uo,Ho),r);break}wc(e,Uo,Ho);break;default:throw Error(s(329))}}}return rc(e,Ye()),e.callbackNode===n?ac.bind(null,e):null}function sc(e,t){var n=Mo;return e.current.memoizedState.isDehydrated&&(mc(e,t).flags|=256),2!==(e=xc(e,t))&&(t=Uo,Uo=n,null!==t&&ic(t)),e}function ic(e){null===Uo?Uo=e:Uo.push.apply(Uo,e)}function lc(e,t){for(t&=~zo,t&=~Io,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-it(t),r=1<<n;e[n]=-1,t&=~r}}function oc(e){if(0!==(6&Co))throw Error(s(327));jc();var t=mt(e,0);if(0===(1&t))return rc(e,Ye()),null;var n=xc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=sc(e,r))}if(1===n)throw n=Ao,mc(e,0),lc(e,t),rc(e,Ye()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,wc(e,Uo,Ho),rc(e,Ye()),null}function cc(e,t){var n=Co;Co|=1;try{return e(t)}finally{0===(Co=n)&&(Vo=Ye()+500,Ma&&Va())}}function uc(e){null!==Zo&&0===Zo.tag&&0===(6&Co)&&jc();var t=Co;Co|=1;var n=Eo.transition,r=yt;try{if(Eo.transition=null,yt=1,e)return e()}finally{yt=r,Eo.transition=n,0===(6&(Co=t))&&Va()}}function dc(){Fo=Lo.current,Sa(Lo)}function mc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,aa(n)),null!==Oo)for(n=Oo.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&La();break;case 3:Qs(),Sa(Ta),Sa(Ca),ni();break;case 5:Js(r);break;case 4:Qs();break;case 13:case 19:Sa(Xs);break;case 10:Es(r.type._context);break;case 22:case 23:dc()}n=n.return}if(To=e,Oo=e=Lc(e.current,null),Po=Fo=t,Ro=0,Ao=null,zo=Io=Do=0,Uo=Mo=null,null!==Ps){for(t=0;t<Ps.length;t++)if(null!==(r=(n=Ps[t]).interleaved)){n.interleaved=null;var a=r.next,s=n.pending;if(null!==s){var i=s.next;s.next=a,r.next=i}n.pending=r}Ps=null}return e}function pc(e,t){for(;;){var n=Oo;try{if(_s(),ri.current=Yi,ci){for(var r=ii.memoizedState;null!==r;){var a=r.queue;null!==a&&(a.pending=null),r=r.next}ci=!1}if(si=0,oi=li=ii=null,ui=!1,di=0,_o.current=null,null===n||null===n.return){Ro=1,Ao=t,Oo=null;break}e:{var i=e,l=n.return,o=n,c=t;if(t=Po,o.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,d=o,m=d.tag;if(0===(1&d.mode)&&(0===m||11===m||15===m)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=hl(l);if(null!==f){f.flags&=-257,xl(f,l,o,0,t),1&f.mode&&fl(i,u,t),c=u;var h=(t=f).updateQueue;if(null===h){var x=new Set;x.add(c),t.updateQueue=x}else h.add(c);break e}if(0===(1&t)){fl(i,u,t),hc();break e}c=Error(s(426))}else if(as&&1&o.mode){var g=hl(l);if(null!==g){0===(65536&g.flags)&&(g.flags|=256),xl(g,l,o,0,t),fs(ol(c,o));break e}}i=c=ol(c,o),4!==Ro&&(Ro=2),null===Mo?Mo=[i]:Mo.push(i),i=l;do{switch(i.tag){case 3:i.flags|=65536,t&=-t,i.lanes|=t,Bs(i,ml(0,c,t));break e;case 1:o=c;var v=i.type,y=i.stateNode;if(0===(128&i.flags)&&("function"===typeof v.getDerivedStateFromError||null!==y&&"function"===typeof y.componentDidCatch&&(null===Wo||!Wo.has(y)))){i.flags|=65536,t&=-t,i.lanes|=t,Bs(i,pl(i,o,t));break e}}i=i.return}while(null!==i)}bc(n)}catch(b){t=b,Oo===n&&null!==n&&(Oo=n=n.return);continue}break}}function fc(){var e=So.current;return So.current=Yi,null===e?Yi:e}function hc(){0!==Ro&&3!==Ro&&2!==Ro||(Ro=4),null===To||0===(268435455&Do)&&0===(268435455&Io)||lc(To,Po)}function xc(e,t){var n=Co;Co|=2;var r=fc();for(To===e&&Po===t||(Ho=null,mc(e,t));;)try{gc();break}catch(a){pc(e,a)}if(_s(),Co=n,So.current=r,null!==Oo)throw Error(s(261));return To=null,Po=0,Ro}function gc(){for(;null!==Oo;)yc(Oo)}function vc(){for(;null!==Oo&&!Ge();)yc(Oo)}function yc(e){var t=No(e.alternate,e,Fo);e.memoizedProps=e.pendingProps,null===t?bc(e):Oo=t,_o.current=null}function bc(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Wl(n,t,Fo)))return void(Oo=n)}else{if(null!==(n=Kl(n,t)))return n.flags&=32767,void(Oo=n);if(null===e)return Ro=6,void(Oo=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Oo=t);Oo=t=e}while(null!==t);0===Ro&&(Ro=5)}function wc(e,t,n){var r=yt,a=Eo.transition;try{Eo.transition=null,yt=1,function(e,t,n,r){do{jc()}while(null!==Zo);if(0!==(6&Co))throw Error(s(327));n=e.finishedWork;var a=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var i=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-it(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}(e,i),e===To&&(Oo=To=null,Po=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Ko||(Ko=!0,Tc(tt,function(){return jc(),null})),i=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||i){i=Eo.transition,Eo.transition=null;var l=yt;yt=1;var o=Co;Co|=4,_o.current=null,function(e,t){if(ea=qt,pr(e=mr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var a=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch(w){n=null;break e}var l=0,o=-1,c=-1,u=0,d=0,m=e,p=null;t:for(;;){for(var f;m!==n||0!==a&&3!==m.nodeType||(o=l+a),m!==i||0!==r&&3!==m.nodeType||(c=l+r),3===m.nodeType&&(l+=m.nodeValue.length),null!==(f=m.firstChild);)p=m,m=f;for(;;){if(m===e)break t;if(p===n&&++u===a&&(o=l),p===i&&++d===r&&(c=l),null!==(f=m.nextSibling))break;p=(m=p).parentNode}m=f}n=-1===o||-1===c?null:{start:o,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ta={focusedElem:e,selectionRange:n},qt=!1,Yl=t;null!==Yl;)if(e=(t=Yl).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Yl=e;else for(;null!==Yl;){t=Yl;try{var h=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==h){var x=h.memoizedProps,g=h.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?x:tl(t.type,x),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;1===b.nodeType?b.textContent="":9===b.nodeType&&b.documentElement&&b.removeChild(b.documentElement);break;default:throw Error(s(163))}}catch(w){kc(t,t.return,w)}if(null!==(e=t.sibling)){e.return=t.return,Yl=e;break}Yl=t.return}h=eo,eo=!1}(e,n),xo(n,e),fr(ta),qt=!!ea,ta=ea=null,e.current=n,vo(n,e,a),Qe(),Co=o,yt=l,Eo.transition=i}else e.current=n;if(Ko&&(Ko=!1,Zo=e,Go=a),i=e.pendingLanes,0===i&&(Wo=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(at,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),rc(e,Ye()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(qo)throw qo=!1,e=$o,$o=null,e;0!==(1&Go)&&0!==e.tag&&jc(),i=e.pendingLanes,0!==(1&i)?e===Yo?Qo++:(Qo=0,Yo=e):Qo=0,Va()}(e,t,n,r)}finally{Eo.transition=a,yt=r}return null}function jc(){if(null!==Zo){var e=bt(Go),t=Eo.transition,n=yt;try{if(Eo.transition=null,yt=16>e?16:e,null===Zo)var r=!1;else{if(e=Zo,Zo=null,Go=0,0!==(6&Co))throw Error(s(331));var a=Co;for(Co|=4,Yl=e.current;null!==Yl;){var i=Yl,l=i.child;if(0!==(16&Yl.flags)){var o=i.deletions;if(null!==o){for(var c=0;c<o.length;c++){var u=o[c];for(Yl=u;null!==Yl;){var d=Yl;switch(d.tag){case 0:case 11:case 15:to(8,d,i)}var m=d.child;if(null!==m)m.return=d,Yl=m;else for(;null!==Yl;){var p=(d=Yl).sibling,f=d.return;if(ao(d),d===u){Yl=null;break}if(null!==p){p.return=f,Yl=p;break}Yl=f}}}var h=i.alternate;if(null!==h){var x=h.child;if(null!==x){h.child=null;do{var g=x.sibling;x.sibling=null,x=g}while(null!==x)}}Yl=i}}if(0!==(2064&i.subtreeFlags)&&null!==l)l.return=i,Yl=l;else e:for(;null!==Yl;){if(0!==(2048&(i=Yl).flags))switch(i.tag){case 0:case 11:case 15:to(9,i,i.return)}var v=i.sibling;if(null!==v){v.return=i.return,Yl=v;break e}Yl=i.return}}var y=e.current;for(Yl=y;null!==Yl;){var b=(l=Yl).child;if(0!==(2064&l.subtreeFlags)&&null!==b)b.return=l,Yl=b;else e:for(l=y;null!==Yl;){if(0!==(2048&(o=Yl).flags))try{switch(o.tag){case 0:case 11:case 15:no(9,o)}}catch(j){kc(o,o.return,j)}if(o===l){Yl=null;break e}var w=o.sibling;if(null!==w){w.return=o.return,Yl=w;break e}Yl=o.return}}if(Co=a,Va(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(at,e)}catch(j){}r=!0}return r}finally{yt=n,Eo.transition=t}}return!1}function Nc(e,t,n){e=Ms(e,t=ml(0,t=ol(n,t),1),1),t=ec(),null!==e&&(gt(e,1,t),rc(e,t))}function kc(e,t,n){if(3===e.tag)Nc(e,e,n);else for(;null!==t;){if(3===t.tag){Nc(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Wo||!Wo.has(r))){t=Ms(t,e=pl(t,e=ol(n,e),1),1),e=ec(),null!==t&&(gt(t,1,e),rc(t,e));break}}t=t.return}}function Sc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=ec(),e.pingedLanes|=e.suspendedLanes&n,To===e&&(Po&n)===n&&(4===Ro||3===Ro&&(130023424&Po)===Po&&500>Ye()-Bo?mc(e,0):zo|=n),rc(e,t)}function _c(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=ec();null!==(e=Rs(e,t))&&(gt(e,t,n),rc(e,n))}function Ec(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),_c(e,n)}function Cc(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;null!==a&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),_c(e,n)}function Tc(e,t){return Ke(e,t)}function Oc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Oc(e,t,n,r)}function Fc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Rc(e,t,n,r,a,i){var l=2;if(r=e,"function"===typeof e)Fc(e)&&(l=1);else if("string"===typeof e)l=5;else e:switch(e){case N:return Ac(n.children,a,i,t);case k:l=8,a|=8;break;case S:return(e=Pc(12,n,t,2|a)).elementType=S,e.lanes=i,e;case T:return(e=Pc(13,n,t,a)).elementType=T,e.lanes=i,e;case O:return(e=Pc(19,n,t,a)).elementType=O,e.lanes=i,e;case L:return Dc(n,a,i,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case _:l=10;break e;case E:l=9;break e;case C:l=11;break e;case P:l=14;break e;case F:l=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(l,n,t,a)).elementType=e,t.type=r,t.lanes=i,t}function Ac(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Dc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=L,e.lanes=n,e.stateNode={isHidden:!1},e}function Ic(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function zc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Mc(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=xt(0),this.expirationTimes=xt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=xt(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function Uc(e,t,n,r,a,s,i,l,o){return e=new Mc(e,t,n,l,o),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ds(s),e}function Bc(e){if(!e)return Ea;e:{if(Ve(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Fa(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Fa(n))return Aa(e,n,t)}return t}function Vc(e,t,n,r,a,s,i,l,o){return(e=Uc(n,r,!0,e,0,s,0,l,o)).context=Bc(null),n=e.current,(s=zs(r=ec(),a=tc(n))).callback=void 0!==t&&null!==t?t:null,Ms(n,s,a),e.current.lanes=a,gt(e,a,r),rc(e,r),e}function Hc(e,t,n,r){var a=t.current,s=ec(),i=tc(a);return n=Bc(n),null===t.context?t.context=n:t.pendingContext=n,(t=zs(s,i)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Ms(a,t,i))&&(nc(e,a,i,s),Us(e,a,i)),i}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function $c(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Wc(e,t){$c(e,t),(e=e.alternate)&&$c(e,t)}No=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ta.current)vl=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return vl=!1,function(e,t,n){switch(t.tag){case 3:Cl(t),ps();break;case 5:Ys(t);break;case 1:Fa(t.type)&&Da(t);break;case 4:Gs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;_a(js,r._currentValue),r._currentValue=a;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(_a(Xs,1&Xs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?Dl(e,t,n):(_a(Xs,1&Xs.current),null!==(e=Hl(e,t,n))?e.sibling:null);_a(Xs,1&Xs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Bl(e,t,n);t.flags|=128}if(null!==(a=t.memoizedState)&&(a.rendering=null,a.tail=null,a.lastEffect=null),_a(Xs,Xs.current),r)break;return null;case 22:case 23:return t.lanes=0,Nl(e,t,n)}return Hl(e,t,n)}(e,t,n);vl=0!==(131072&e.flags)}else vl=!1,as&&0!==(1048576&t.flags)&&Xa(t,Wa,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Vl(e,t),e=t.pendingProps;var a=Pa(t,Ca.current);Ts(t,n),a=hi(null,t,r,e,a,n);var i=xi();return t.flags|=1,"object"===typeof a&&null!==a&&"function"===typeof a.render&&void 0===a.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Fa(r)?(i=!0,Da(t)):i=!1,t.memoizedState=null!==a.state&&void 0!==a.state?a.state:null,Ds(t),a.updater=rl,t.stateNode=a,a._reactInternals=t,ll(t,r,e,n),t=El(null,t,r,!0,i,n)):(t.tag=0,as&&i&&es(t),yl(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Vl(e,t),e=t.pendingProps,r=(a=r._init)(r._payload),t.type=r,a=t.tag=function(e){if("function"===typeof e)return Fc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===C)return 11;if(e===P)return 14}return 2}(r),e=tl(r,e),a){case 0:t=Sl(null,t,r,e,n);break e;case 1:t=_l(null,t,r,e,n);break e;case 11:t=bl(null,t,r,e,n);break e;case 14:t=wl(null,t,r,tl(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,Sl(e,t,r,a=t.elementType===r?a:tl(r,a),n);case 1:return r=t.type,a=t.pendingProps,_l(e,t,r,a=t.elementType===r?a:tl(r,a),n);case 3:e:{if(Cl(t),null===e)throw Error(s(387));r=t.pendingProps,a=(i=t.memoizedState).element,Is(e,t),Vs(t,r,null,n);var l=t.memoizedState;if(r=l.element,i.isDehydrated){if(i={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=i,t.memoizedState=i,256&t.flags){t=Tl(e,t,r,n,a=ol(Error(s(423)),t));break e}if(r!==a){t=Tl(e,t,r,n,a=ol(Error(s(424)),t));break e}for(rs=ca(t.stateNode.containerInfo.firstChild),ns=t,as=!0,ss=null,n=ws(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===a){t=Hl(e,t,n);break e}yl(e,t,r,n)}t=t.child}return t;case 5:return Ys(t),null===e&&cs(t),r=t.type,a=t.pendingProps,i=null!==e?e.memoizedProps:null,l=a.children,na(r,a)?l=null:null!==i&&na(r,i)&&(t.flags|=32),kl(e,t),yl(e,t,l,n),t.child;case 6:return null===e&&cs(t),null;case 13:return Dl(e,t,n);case 4:return Gs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=bs(t,null,r,n):yl(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,bl(e,t,r,a=t.elementType===r?a:tl(r,a),n);case 7:return yl(e,t,t.pendingProps,n),t.child;case 8:case 12:return yl(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,i=t.memoizedProps,l=a.value,_a(js,r._currentValue),r._currentValue=l,null!==i)if(lr(i.value,l)){if(i.children===a.children&&!Ta.current){t=Hl(e,t,n);break e}}else for(null!==(i=t.child)&&(i.return=t);null!==i;){var o=i.dependencies;if(null!==o){l=i.child;for(var c=o.firstContext;null!==c;){if(c.context===r){if(1===i.tag){(c=zs(-1,n&-n)).tag=2;var u=i.updateQueue;if(null!==u){var d=(u=u.shared).pending;null===d?c.next=c:(c.next=d.next,d.next=c),u.pending=c}}i.lanes|=n,null!==(c=i.alternate)&&(c.lanes|=n),Cs(i.return,n,t),o.lanes|=n;break}c=c.next}}else if(10===i.tag)l=i.type===t.type?null:i.child;else if(18===i.tag){if(null===(l=i.return))throw Error(s(341));l.lanes|=n,null!==(o=l.alternate)&&(o.lanes|=n),Cs(l,n,t),l=i.sibling}else l=i.child;if(null!==l)l.return=i;else for(l=i;null!==l;){if(l===t){l=null;break}if(null!==(i=l.sibling)){i.return=l.return,l=i;break}l=l.return}i=l}yl(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Ts(t,n),r=r(a=Os(a)),t.flags|=1,yl(e,t,r,n),t.child;case 14:return a=tl(r=t.type,t.pendingProps),wl(e,t,r,a=tl(r.type,a),n);case 15:return jl(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:tl(r,a),Vl(e,t),t.tag=1,Fa(r)?(e=!0,Da(t)):e=!1,Ts(t,n),sl(t,r,a),ll(t,r,a,n),El(null,t,r,!0,e,n);case 19:return Bl(e,t,n);case 22:return Nl(e,t,n)}throw Error(s(156,t.tag))};var Kc="function"===typeof reportError?reportError:function(e){console.error(e)};function Zc(e){this._internalRoot=e}function Gc(e){this._internalRoot=e}function Qc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function Yc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Jc(){}function Xc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var i=s;if("function"===typeof a){var l=a;a=function(){var e=qc(i);l.call(e)}}Hc(t,i,e,a)}else i=function(e,t,n,r,a){if(a){if("function"===typeof r){var s=r;r=function(){var e=qc(i);s.call(e)}}var i=Vc(t,r,e,0,null,!1,0,"",Jc);return e._reactRootContainer=i,e[fa]=i.current,Vr(8===e.nodeType?e.parentNode:e),uc(),i}for(;a=e.lastChild;)e.removeChild(a);if("function"===typeof r){var l=r;r=function(){var e=qc(o);l.call(e)}}var o=Uc(e,0,!1,null,0,!1,0,"",Jc);return e._reactRootContainer=o,e[fa]=o.current,Vr(8===e.nodeType?e.parentNode:e),uc(function(){Hc(t,o,n,r)}),o}(n,t,e,a,r);return qc(i)}Gc.prototype.render=Zc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Gc.prototype.unmount=Zc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;uc(function(){Hc(null,e,null,null)}),t[fa]=null}},Gc.prototype.unstable_scheduleHydration=function(e){if(e){var t=kt();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Lt.length&&0!==t&&t<Lt[n].priority;n++);Lt.splice(n,0,e),0===n&&It(e)}},wt=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=dt(t.pendingLanes);0!==n&&(vt(t,1|n),rc(t,Ye()),0===(6&Co)&&(Vo=Ye()+500,Va()))}break;case 13:uc(function(){var t=Rs(e,1);if(null!==t){var n=ec();nc(t,e,1,n)}}),Wc(e,1)}},jt=function(e){if(13===e.tag){var t=Rs(e,134217728);if(null!==t)nc(t,e,134217728,ec());Wc(e,134217728)}},Nt=function(e){if(13===e.tag){var t=tc(e),n=Rs(e,t);if(null!==n)nc(n,e,t,ec());Wc(e,t)}},kt=function(){return yt},St=function(e,t){var n=yt;try{return yt=e,t()}finally{yt=n}},je=function(e,t,n){switch(t){case"input":if(J(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=wa(r);if(!a)throw Error(s(90));K(r),J(r,a)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Ce=cc,Te=uc;var eu={usingClientEntryPoint:!1,Events:[ya,ba,wa,_e,Ee,cc]},tu={findFiberByHostInstance:va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},nu={bundleType:tu.bundleType,version:tu.version,rendererPackageName:tu.rendererPackageName,rendererConfig:tu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:b.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=$e(e))?null:e.stateNode},findFiberByHostInstance:tu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var ru=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ru.isDisabled&&ru.supportsFiber)try{at=ru.inject(nu),st=ru}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=eu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Qc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:j,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Qc(e))throw Error(s(299));var n=!1,r="",a=Kc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(a=t.onRecoverableError)),t=Uc(e,1,!1,null,0,n,0,r,a),e[fa]=t.current,Vr(8===e.nodeType?e.parentNode:e),new Zc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=$e(t))?null:e.stateNode},t.flushSync=function(e){return uc(e)},t.hydrate=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Qc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,a=!1,i="",l=Kc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(a=!0),void 0!==n.identifierPrefix&&(i=n.identifierPrefix),void 0!==n.onRecoverableError&&(l=n.onRecoverableError)),t=Vc(t,null,e,1,null!=n?n:null,a,0,i,l),e[fa]=t.current,Vr(e),r)for(e=0;e<r.length;e++)a=(a=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Gc(t)},t.render=function(e,t,n){if(!Yc(t))throw Error(s(200));return Xc(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!Yc(e))throw Error(s(40));return!!e._reactRootContainer&&(uc(function(){Xc(null,null,e,!1,function(){e._reactRootContainer=null,e[fa]=null})}),!0)},t.unstable_batchedUpdates=cc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Yc(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return Xc(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},853:(e,t,n)=>{"use strict";e.exports=n(234)},950:(e,t,n)=>{"use strict";!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,a){if(1&a&&(r=this(r)),8&a)return r;if("object"===typeof r&&r){if(4&a&&r.__esModule)return r;if(16&a&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var i={};e=e||[null,t({}),t([]),t(t)];for(var l=2&a&&r;("object"==typeof l||"function"==typeof l)&&!~e.indexOf(l);l=t(l))Object.getOwnPropertyNames(l).forEach(e=>i[e]=()=>r[e]);return i.default=()=>r,n.d(s,i),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};n.r(e),n.d(e,{hasBrowserEnv:()=>Tt,hasStandardBrowserEnv:()=>Pt,hasStandardBrowserWebWorkerEnv:()=>Ft,navigator:()=>Ot,origin:()=>Lt});var t,r=n(43),a=n.t(r,2),s=n(391);function i(){return i=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i.apply(this,arguments)}!function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"}(t||(t={}));const l="popstate";function o(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function c(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(Jn){}}}function u(e,t){return{usr:e.state,key:e.key,idx:t}}function d(e,t,n,r){return void 0===n&&(n=null),i({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?p(t):t,{state:n,key:t&&t.key||r||Math.random().toString(36).substr(2,8)})}function m(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function p(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function f(e,n,r,a){void 0===a&&(a={});let{window:s=document.defaultView,v5Compat:c=!1}=a,p=s.history,f=t.Pop,h=null,x=g();function g(){return(p.state||{idx:null}).idx}function v(){f=t.Pop;let e=g(),n=null==e?null:e-x;x=e,h&&h({action:f,location:b.location,delta:n})}function y(e){let t="null"!==s.location.origin?s.location.origin:s.location.href,n="string"===typeof e?e:m(e);return n=n.replace(/ $/,"%20"),o(t,"No window.location.(origin|href) available to create URL for href: "+n),new URL(n,t)}null==x&&(x=0,p.replaceState(i({},p.state,{idx:x}),""));let b={get action(){return f},get location(){return e(s,p)},listen(e){if(h)throw new Error("A history only accepts one active listener");return s.addEventListener(l,v),h=e,()=>{s.removeEventListener(l,v),h=null}},createHref:e=>n(s,e),createURL:y,encodeLocation(e){let t=y(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,n){f=t.Push;let a=d(b.location,e,n);r&&r(a,e),x=g()+1;let i=u(a,x),l=b.createHref(a);try{p.pushState(i,"",l)}catch(o){if(o instanceof DOMException&&"DataCloneError"===o.name)throw o;s.location.assign(l)}c&&h&&h({action:f,location:b.location,delta:1})},replace:function(e,n){f=t.Replace;let a=d(b.location,e,n);r&&r(a,e),x=g();let s=u(a,x),i=b.createHref(a);p.replaceState(s,"",i),c&&h&&h({action:f,location:b.location,delta:0})},go:e=>p.go(e)};return b}var h;!function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"}(h||(h={}));new Set(["lazy","caseSensitive","path","id","index","children"]);function x(e,t,n){return void 0===n&&(n="/"),g(e,t,n,!1)}function g(e,t,n,r){let a=P(("string"===typeof t?p(t):t).pathname||"/",n);if(null==a)return null;let s=v(e);!function(e){e.sort((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every((e,n)=>e===t[n]);return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map(e=>e.childrenIndex),t.routesMeta.map(e=>e.childrenIndex)))}(s);let i=null;for(let l=0;null==i&&l<s.length;++l){let e=O(a);i=C(s[l],e,r)}return i}function v(e,t,n,r){void 0===t&&(t=[]),void 0===n&&(n=[]),void 0===r&&(r="");let a=(e,a,s)=>{let i={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:a,route:e};i.relativePath.startsWith("/")&&(o(i.relativePath.startsWith(r),'Absolute route path "'+i.relativePath+'" nested under path "'+r+'" is not valid. An absolute child route path must start with the combined path of all its parent routes.'),i.relativePath=i.relativePath.slice(r.length));let l=D([r,i.relativePath]),c=n.concat(i);e.children&&e.children.length>0&&(o(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'+l+'".'),v(e.children,t,c,l)),(null!=e.path||e.index)&&t.push({path:l,score:E(l,e.index),routesMeta:c})};return e.forEach((e,t)=>{var n;if(""!==e.path&&null!=(n=e.path)&&n.includes("?"))for(let r of y(e.path))a(e,t,r);else a(e,t)}),t}function y(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,a=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return a?[s,""]:[s];let i=y(r.join("/")),l=[];return l.push(...i.map(e=>""===e?s:[s,e].join("/"))),a&&l.push(...i),l.map(t=>e.startsWith("/")&&""===t?"/":t)}const b=/^:[\w-]+$/,w=3,j=2,N=1,k=10,S=-2,_=e=>"*"===e;function E(e,t){let n=e.split("/"),r=n.length;return n.some(_)&&(r+=S),t&&(r+=j),n.filter(e=>!_(e)).reduce((e,t)=>e+(b.test(t)?w:""===t?N:k),r)}function C(e,t,n){void 0===n&&(n=!1);let{routesMeta:r}=e,a={},s="/",i=[];for(let l=0;l<r.length;++l){let e=r[l],o=l===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:o},c),d=e.route;if(!u&&o&&n&&!r[r.length-1].route.index&&(u=T({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(a,u.params),i.push({params:a,pathname:D([s,u.pathname]),pathnameBase:I(D([s,u.pathnameBase])),route:d}),"/"!==u.pathnameBase&&(s=D([s,u.pathnameBase]))}return i}function T(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e,t,n){void 0===t&&(t=!1);void 0===n&&(n=!0);c("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were "'+e.replace(/\*$/,"/*")+'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "'+e.replace(/\*$/,"/*")+'".');let r=[],a="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)"));e.endsWith("*")?(r.push({paramName:"*"}),a+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":""!==e&&"/"!==e&&(a+="(?:(?=\\/|$))");let s=new RegExp(a,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),a=t.match(n);if(!a)return null;let s=a[0],i=s.replace(/(.)\/+$/,"$1"),l=a.slice(1);return{params:r.reduce((e,t,n)=>{let{paramName:r,isOptional:a}=t;if("*"===r){let e=l[n]||"";i=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const o=l[n];return e[r]=a&&!o?void 0:(o||"").replace(/%2F/g,"/"),e},{}),pathname:s,pathnameBase:i,pattern:e}}function O(e){try{return e.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(t){return c(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding ('+t+")."),e}}function P(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function F(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified `to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the `to."+n+'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.'}function L(e){return e.filter((e,t)=>0===t||e.route.path&&e.route.path.length>0)}function R(e,t){let n=L(e);return t?n.map((e,t)=>t===n.length-1?e.pathname:e.pathnameBase):n.map(e=>e.pathnameBase)}function A(e,t,n,r){let a;void 0===r&&(r=!1),"string"===typeof e?a=p(e):(a=i({},e),o(!a.pathname||!a.pathname.includes("?"),F("?","pathname","search",a)),o(!a.pathname||!a.pathname.includes("#"),F("#","pathname","hash",a)),o(!a.search||!a.search.includes("#"),F("#","search","hash",a)));let s,l=""===e||""===a.pathname,c=l?"/":a.pathname;if(null==c)s=n;else{let e=t.length-1;if(!r&&c.startsWith("..")){let t=c.split("/");for(;".."===t[0];)t.shift(),e-=1;a.pathname=t.join("/")}s=e>=0?t[e]:"/"}let u=function(e,t){void 0===t&&(t="/");let{pathname:n,search:r="",hash:a=""}="string"===typeof e?p(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)}),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:z(r),hash:M(a)}}(a,s),d=c&&"/"!==c&&c.endsWith("/"),m=(l||"."===c)&&n.endsWith("/");return u.pathname.endsWith("/")||!d&&!m||(u.pathname+="/"),u}const D=e=>e.join("/").replace(/\/\/+/g,"/"),I=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),z=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",M=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";Error;function U(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}const B=["post","put","patch","delete"],V=(new Set(B),["get",...B]);new Set(V),new Set([301,302,303,307,308]),new Set([307,308]);Symbol("deferred");function H(){return H=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H.apply(this,arguments)}const q=r.createContext(null);const $=r.createContext(null);const W=r.createContext(null);const K=r.createContext(null);const Z=r.createContext({outlet:null,matches:[],isDataRoute:!1});const G=r.createContext(null);function Q(){return null!=r.useContext(K)}function Y(){return Q()||o(!1),r.useContext(K).location}function J(e){r.useContext(W).static||r.useLayoutEffect(e)}function X(){let{isDataRoute:e}=r.useContext(Z);return e?function(){let{router:e}=ce(le.UseNavigateStable),t=de(oe.UseNavigateStable),n=r.useRef(!1);return J(()=>{n.current=!0}),r.useCallback(function(r,a){void 0===a&&(a={}),n.current&&("number"===typeof r?e.navigate(r):e.navigate(r,H({fromRouteId:t},a)))},[e,t])}():function(){Q()||o(!1);let e=r.useContext(q),{basename:t,future:n,navigator:a}=r.useContext(W),{matches:s}=r.useContext(Z),{pathname:i}=Y(),l=JSON.stringify(R(s,n.v7_relativeSplatPath)),c=r.useRef(!1);return J(()=>{c.current=!0}),r.useCallback(function(n,r){if(void 0===r&&(r={}),!c.current)return;if("number"===typeof n)return void a.go(n);let s=A(n,JSON.parse(l),i,"path"===r.relative);null==e&&"/"!==t&&(s.pathname="/"===s.pathname?t:D([t,s.pathname])),(r.replace?a.replace:a.push)(s,r.state,r)},[t,a,l,i,e])}()}function ee(e,t){let{relative:n}=void 0===t?{}:t,{future:a}=r.useContext(W),{matches:s}=r.useContext(Z),{pathname:i}=Y(),l=JSON.stringify(R(s,a.v7_relativeSplatPath));return r.useMemo(()=>A(e,JSON.parse(l),i,"path"===n),[e,l,i,n])}function te(e,n,a,s){Q()||o(!1);let{navigator:i}=r.useContext(W),{matches:l}=r.useContext(Z),c=l[l.length-1],u=c?c.params:{},d=(c&&c.pathname,c?c.pathnameBase:"/");c&&c.route;let m,f=Y();if(n){var h;let e="string"===typeof n?p(n):n;"/"===d||(null==(h=e.pathname)?void 0:h.startsWith(d))||o(!1),m=e}else m=f;let g=m.pathname||"/",v=g;if("/"!==d){let e=d.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=x(e,{pathname:v});let b=ie(y&&y.map(e=>Object.assign({},e,{params:Object.assign({},u,e.params),pathname:D([d,i.encodeLocation?i.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?d:D([d,i.encodeLocation?i.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])})),l,a,s);return n&&b?r.createElement(K.Provider,{value:{location:H({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:t.Pop}},b):b}function ne(){let e=function(){var e;let t=r.useContext(G),n=ue(oe.UseRouteError),a=de(oe.UseRouteError);if(void 0!==t)return t;return null==(e=n.errors)?void 0:e[a]}(),t=U(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,a="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:a};return r.createElement(r.Fragment,null,r.createElement("h2",null,"Unexpected Application Error!"),r.createElement("h3",{style:{fontStyle:"italic"}},t),n?r.createElement("pre",{style:s},n):null,null)}const re=r.createElement(ne,null);class ae extends r.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?r.createElement(Z.Provider,{value:this.props.routeContext},r.createElement(G.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function se(e){let{routeContext:t,match:n,children:a}=e,s=r.useContext(q);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),r.createElement(Z.Provider,{value:t},a)}function ie(e,t,n,a){var s;if(void 0===t&&(t=[]),void 0===n&&(n=null),void 0===a&&(a=null),null==e){var i;if(!n)return null;if(n.errors)e=n.matches;else{if(!(null!=(i=a)&&i.v7_partialHydration&&0===t.length&&!n.initialized&&n.matches.length>0))return null;e=n.matches}}let l=e,c=null==(s=n)?void 0:s.errors;if(null!=c){let e=l.findIndex(e=>e.route.id&&void 0!==(null==c?void 0:c[e.route.id]));e>=0||o(!1),l=l.slice(0,Math.min(l.length,e+1))}let u=!1,d=-1;if(n&&a&&a.v7_partialHydration)for(let r=0;r<l.length;r++){let e=l[r];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(d=r),e.route.id){let{loaderData:t,errors:r}=n,a=e.route.loader&&void 0===t[e.route.id]&&(!r||void 0===r[e.route.id]);if(e.route.lazy||a){u=!0,l=d>=0?l.slice(0,d+1):[l[0]];break}}}return l.reduceRight((e,a,s)=>{let i,o=!1,m=null,p=null;var f;n&&(i=c&&a.route.id?c[a.route.id]:void 0,m=a.route.errorElement||re,u&&(d<0&&0===s?(f="route-fallback",!1||me[f]||(me[f]=!0),o=!0,p=null):d===s&&(o=!0,p=a.route.hydrateFallbackElement||null)));let h=t.concat(l.slice(0,s+1)),x=()=>{let t;return t=i?m:o?p:a.route.Component?r.createElement(a.route.Component,null):a.route.element?a.route.element:e,r.createElement(se,{match:a,routeContext:{outlet:e,matches:h,isDataRoute:null!=n},children:t})};return n&&(a.route.ErrorBoundary||a.route.errorElement||0===s)?r.createElement(ae,{location:n.location,revalidation:n.revalidation,component:m,error:i,children:x(),routeContext:{outlet:null,matches:h,isDataRoute:!0}}):x()},null)}var le=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(le||{}),oe=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(oe||{});function ce(e){let t=r.useContext(q);return t||o(!1),t}function ue(e){let t=r.useContext($);return t||o(!1),t}function de(e){let t=function(){let e=r.useContext(Z);return e||o(!1),e}(),n=t.matches[t.matches.length-1];return n.route.id||o(!1),n.route.id}const me={};function pe(e,t){null==e||e.v7_startTransition,void 0===(null==e?void 0:e.v7_relativeSplatPath)&&(!t||t.v7_relativeSplatPath),t&&(t.v7_fetcherPersist,t.v7_normalizeFormMethod,t.v7_partialHydration,t.v7_skipActionErrorRevalidation)}a.startTransition;function fe(e){let{to:t,replace:n,state:a,relative:s}=e;Q()||o(!1);let{future:i,static:l}=r.useContext(W),{matches:c}=r.useContext(Z),{pathname:u}=Y(),d=X(),m=A(t,R(c,i.v7_relativeSplatPath),u,"path"===s),p=JSON.stringify(m);return r.useEffect(()=>d(JSON.parse(p),{replace:n,state:a,relative:s}),[d,p,s,n,a]),null}function he(e){o(!1)}function xe(e){let{basename:n="/",children:a=null,location:s,navigationType:i=t.Pop,navigator:l,static:c=!1,future:u}=e;Q()&&o(!1);let d=n.replace(/^\/*/,"/"),m=r.useMemo(()=>({basename:d,navigator:l,static:c,future:H({v7_relativeSplatPath:!1},u)}),[d,u,l,c]);"string"===typeof s&&(s=p(s));let{pathname:f="/",search:h="",hash:x="",state:g=null,key:v="default"}=s,y=r.useMemo(()=>{let e=P(f,d);return null==e?null:{location:{pathname:e,search:h,hash:x,state:g,key:v},navigationType:i}},[d,f,h,x,g,v,i]);return null==y?null:r.createElement(W.Provider,{value:m},r.createElement(K.Provider,{children:a,value:y}))}function ge(e){let{children:t,location:n}=e;return te(ve(t),n)}new Promise(()=>{});r.Component;function ve(e,t){void 0===t&&(t=[]);let n=[];return r.Children.forEach(e,(e,a)=>{if(!r.isValidElement(e))return;let s=[...t,a];if(e.type===r.Fragment)return void n.push.apply(n,ve(e.props.children,s));e.type!==he&&o(!1),e.props.index&&e.props.children&&o(!1);let i={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(i.children=ve(e.props.children,s)),n.push(i)}),n}function ye(e){return ye="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ye(e)}function be(e){var t=function(e,t){if("object"!=ye(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=ye(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==ye(t)?t:t+""}function we(e,t,n){return(t=be(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function je(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function Ne(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?je(Object(n),!0).forEach(function(t){we(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):je(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function ke(e,t){return function(){return e.apply(t,arguments)}}const{toString:Se}=Object.prototype,{getPrototypeOf:_e}=Object,{iterator:Ee,toStringTag:Ce}=Symbol,Te=(Oe=Object.create(null),e=>{const t=Se.call(e);return Oe[t]||(Oe[t]=t.slice(8,-1).toLowerCase())});var Oe;const Pe=e=>(e=e.toLowerCase(),t=>Te(t)===e),Fe=e=>t=>typeof t===e,{isArray:Le}=Array,Re=Fe("undefined");function Ae(e){return null!==e&&!Re(e)&&null!==e.constructor&&!Re(e.constructor)&&ze(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const De=Pe("ArrayBuffer");const Ie=Fe("string"),ze=Fe("function"),Me=Fe("number"),Ue=e=>null!==e&&"object"===typeof e,Be=e=>{if("object"!==Te(e))return!1;const t=_e(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Ce in e)&&!(Ee in e)},Ve=Pe("Date"),He=Pe("File"),qe=Pe("Blob"),$e=Pe("FileList"),We=Pe("URLSearchParams"),[Ke,Ze,Ge,Qe]=["ReadableStream","Request","Response","Headers"].map(Pe);function Ye(e,t){let n,r,{allOwnKeys:a=!1}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(null!==e&&"undefined"!==typeof e)if("object"!==typeof e&&(e=[e]),Le(e))for(n=0,r=e.length;n<r;n++)t.call(null,e[n],n,e);else{if(Ae(e))return;const r=a?Object.getOwnPropertyNames(e):Object.keys(e),s=r.length;let i;for(n=0;n<s;n++)i=r[n],t.call(null,e[i],i,e)}}function Je(e,t){if(Ae(e))return null;t=t.toLowerCase();const n=Object.keys(e);let r,a=n.length;for(;a-- >0;)if(r=n[a],t===r.toLowerCase())return r;return null}const Xe="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:"undefined"!==typeof window?window:global,et=e=>!Re(e)&&e!==Xe;const tt=(nt="undefined"!==typeof Uint8Array&&_e(Uint8Array),e=>nt&&e instanceof nt);var nt;const rt=Pe("HTMLFormElement"),at=(e=>{let{hasOwnProperty:t}=e;return(e,n)=>t.call(e,n)})(Object.prototype),st=Pe("RegExp"),it=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};Ye(n,(n,a)=>{let s;!1!==(s=t(n,a,e))&&(r[a]=s||n)}),Object.defineProperties(e,r)};const lt=Pe("AsyncFunction"),ot=((e,t)=>{return e?setImmediate:t?(n="axios@".concat(Math.random()),r=[],Xe.addEventListener("message",e=>{let{source:t,data:a}=e;t===Xe&&a===n&&r.length&&r.shift()()},!1),e=>{r.push(e),Xe.postMessage(n,"*")}):e=>setTimeout(e);var n,r})("function"===typeof setImmediate,ze(Xe.postMessage)),ct="undefined"!==typeof queueMicrotask?queueMicrotask.bind(Xe):"undefined"!==typeof process&&process.nextTick||ot,ut={isArray:Le,isArrayBuffer:De,isBuffer:Ae,isFormData:e=>{let t;return e&&("function"===typeof FormData&&e instanceof FormData||ze(e.append)&&("formdata"===(t=Te(e))||"object"===t&&ze(e.toString)&&"[object FormData]"===e.toString()))},isArrayBufferView:function(e){let t;return t="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer&&De(e.buffer),t},isString:Ie,isNumber:Me,isBoolean:e=>!0===e||!1===e,isObject:Ue,isPlainObject:Be,isEmptyObject:e=>{if(!Ue(e)||Ae(e))return!1;try{return 0===Object.keys(e).length&&Object.getPrototypeOf(e)===Object.prototype}catch(Jn){return!1}},isReadableStream:Ke,isRequest:Ze,isResponse:Ge,isHeaders:Qe,isUndefined:Re,isDate:Ve,isFile:He,isBlob:qe,isRegExp:st,isFunction:ze,isStream:e=>Ue(e)&&ze(e.pipe),isURLSearchParams:We,isTypedArray:tt,isFileList:$e,forEach:Ye,merge:function e(){const{caseless:t}=et(this)&&this||{},n={},r=(r,a)=>{const s=t&&Je(n,a)||a;Be(n[s])&&Be(r)?n[s]=e(n[s],r):Be(r)?n[s]=e({},r):Le(r)?n[s]=r.slice():n[s]=r};for(let a=0,s=arguments.length;a<s;a++)arguments[a]&&Ye(arguments[a],r);return n},extend:function(e,t,n){let{allOwnKeys:r}=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return Ye(t,(t,r)=>{n&&ze(t)?e[r]=ke(t,n):e[r]=t},{allOwnKeys:r}),e},trim:e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""),stripBOM:e=>(65279===e.charCodeAt(0)&&(e=e.slice(1)),e),inherits:(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},toFlatObject:(e,t,n,r)=>{let a,s,i;const l={};if(t=t||{},null==e)return t;do{for(a=Object.getOwnPropertyNames(e),s=a.length;s-- >0;)i=a[s],r&&!r(i,e,t)||l[i]||(t[i]=e[i],l[i]=!0);e=!1!==n&&_e(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},kindOf:Te,kindOfTest:Pe,endsWith:(e,t,n)=>{e=String(e),(void 0===n||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return-1!==r&&r===n},toArray:e=>{if(!e)return null;if(Le(e))return e;let t=e.length;if(!Me(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},forEachEntry:(e,t)=>{const n=(e&&e[Ee]).call(e);let r;for(;(r=n.next())&&!r.done;){const n=r.value;t.call(e,n[0],n[1])}},matchAll:(e,t)=>{let n;const r=[];for(;null!==(n=e.exec(t));)r.push(n);return r},isHTMLForm:rt,hasOwnProperty:at,hasOwnProp:at,reduceDescriptors:it,freezeMethods:e=>{it(e,(t,n)=>{if(ze(e)&&-1!==["arguments","caller","callee"].indexOf(n))return!1;const r=e[n];ze(r)&&(t.enumerable=!1,"writable"in t?t.writable=!1:t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")}))})},toObjectSet:(e,t)=>{const n={},r=e=>{e.forEach(e=>{n[e]=!0})};return Le(e)?r(e):r(String(e).split(t)),n},toCamelCase:e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(e,t,n){return t.toUpperCase()+n}),noop:()=>{},toFiniteNumber:(e,t)=>null!=e&&Number.isFinite(e=+e)?e:t,findKey:Je,global:Xe,isContextDefined:et,isSpecCompliantForm:function(e){return!!(e&&ze(e.append)&&"FormData"===e[Ce]&&e[Ee])},toJSONObject:e=>{const t=new Array(10),n=(e,r)=>{if(Ue(e)){if(t.indexOf(e)>=0)return;if(Ae(e))return e;if(!("toJSON"in e)){t[r]=e;const a=Le(e)?[]:{};return Ye(e,(e,t)=>{const s=n(e,r+1);!Re(s)&&(a[t]=s)}),t[r]=void 0,a}}return e};return n(e,0)},isAsyncFn:lt,isThenable:e=>e&&(Ue(e)||ze(e))&&ze(e.then)&&ze(e.catch),setImmediate:ot,asap:ct,isIterable:e=>null!=e&&ze(e[Ee])};function dt(e,t,n,r,a){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=(new Error).stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),a&&(this.response=a,this.status=a.status?a.status:null)}ut.inherits(dt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ut.toJSONObject(this.config),code:this.code,status:this.status}}});const mt=dt.prototype,pt={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{pt[e]={value:e}}),Object.defineProperties(dt,pt),Object.defineProperty(mt,"isAxiosError",{value:!0}),dt.from=(e,t,n,r,a,s)=>{const i=Object.create(mt);return ut.toFlatObject(e,i,function(e){return e!==Error.prototype},e=>"isAxiosError"!==e),dt.call(i,e.message,t,n,r,a),i.cause=e,i.name=e.name,s&&Object.assign(i,s),i};const ft=dt;function ht(e){return ut.isPlainObject(e)||ut.isArray(e)}function xt(e){return ut.endsWith(e,"[]")?e.slice(0,-2):e}function gt(e,t,n){return e?e.concat(t).map(function(e,t){return e=xt(e),!n&&t?"["+e+"]":e}).join(n?".":""):t}const vt=ut.toFlatObject(ut,{},null,function(e){return/^is[A-Z]/.test(e)});const yt=function(e,t,n){if(!ut.isObject(e))throw new TypeError("target must be an object");t=t||new FormData;const r=(n=ut.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(e,t){return!ut.isUndefined(t[e])})).metaTokens,a=n.visitor||c,s=n.dots,i=n.indexes,l=(n.Blob||"undefined"!==typeof Blob&&Blob)&&ut.isSpecCompliantForm(t);if(!ut.isFunction(a))throw new TypeError("visitor must be a function");function o(e){if(null===e)return"";if(ut.isDate(e))return e.toISOString();if(ut.isBoolean(e))return e.toString();if(!l&&ut.isBlob(e))throw new ft("Blob is not supported. Use a Buffer instead.");return ut.isArrayBuffer(e)||ut.isTypedArray(e)?l&&"function"===typeof Blob?new Blob([e]):Buffer.from(e):e}function c(e,n,a){let l=e;if(e&&!a&&"object"===typeof e)if(ut.endsWith(n,"{}"))n=r?n:n.slice(0,-2),e=JSON.stringify(e);else if(ut.isArray(e)&&function(e){return ut.isArray(e)&&!e.some(ht)}(e)||(ut.isFileList(e)||ut.endsWith(n,"[]"))&&(l=ut.toArray(e)))return n=xt(n),l.forEach(function(e,r){!ut.isUndefined(e)&&null!==e&&t.append(!0===i?gt([n],r,s):null===i?n:n+"[]",o(e))}),!1;return!!ht(e)||(t.append(gt(a,n,s),o(e)),!1)}const u=[],d=Object.assign(vt,{defaultVisitor:c,convertValue:o,isVisitable:ht});if(!ut.isObject(e))throw new TypeError("data must be an object");return function e(n,r){if(!ut.isUndefined(n)){if(-1!==u.indexOf(n))throw Error("Circular reference detected in "+r.join("."));u.push(n),ut.forEach(n,function(n,s){!0===(!(ut.isUndefined(n)||null===n)&&a.call(t,n,ut.isString(s)?s.trim():s,r,d))&&e(n,r?r.concat(s):[s])}),u.pop()}}(e),t};function bt(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(e){return t[e]})}function wt(e,t){this._pairs=[],e&&yt(e,this,t)}const jt=wt.prototype;jt.append=function(e,t){this._pairs.push([e,t])},jt.toString=function(e){const t=e?function(t){return e.call(this,t,bt)}:bt;return this._pairs.map(function(e){return t(e[0])+"="+t(e[1])},"").join("&")};const Nt=wt;function kt(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function St(e,t,n){if(!t)return e;const r=n&&n.encode||kt;ut.isFunction(n)&&(n={serialize:n});const a=n&&n.serialize;let s;if(s=a?a(t,n):ut.isURLSearchParams(t)?t.toString():new Nt(t,n).toString(r),s){const t=e.indexOf("#");-1!==t&&(e=e.slice(0,t)),e+=(-1===e.indexOf("?")?"?":"&")+s}return e}const _t=class{constructor(){this.handlers=[]}use(e,t,n){return this.handlers.push({fulfilled:e,rejected:t,synchronous:!!n&&n.synchronous,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ut.forEach(this.handlers,function(t){null!==t&&e(t)})}},Et={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Ct={isBrowser:!0,classes:{URLSearchParams:"undefined"!==typeof URLSearchParams?URLSearchParams:Nt,FormData:"undefined"!==typeof FormData?FormData:null,Blob:"undefined"!==typeof Blob?Blob:null},protocols:["http","https","file","blob","url","data"]},Tt="undefined"!==typeof window&&"undefined"!==typeof document,Ot="object"===typeof navigator&&navigator||void 0,Pt=Tt&&(!Ot||["ReactNative","NativeScript","NS"].indexOf(Ot.product)<0),Ft="undefined"!==typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&"function"===typeof self.importScripts,Lt=Tt&&window.location.href||"http://localhost",Rt=Ne(Ne({},e),Ct);const At=function(e){function t(e,n,r,a){let s=e[a++];if("__proto__"===s)return!0;const i=Number.isFinite(+s),l=a>=e.length;if(s=!s&&ut.isArray(r)?r.length:s,l)return ut.hasOwnProp(r,s)?r[s]=[r[s],n]:r[s]=n,!i;r[s]&&ut.isObject(r[s])||(r[s]=[]);return t(e,n,r[s],a)&&ut.isArray(r[s])&&(r[s]=function(e){const t={},n=Object.keys(e);let r;const a=n.length;let s;for(r=0;r<a;r++)s=n[r],t[s]=e[s];return t}(r[s])),!i}if(ut.isFormData(e)&&ut.isFunction(e.entries)){const n={};return ut.forEachEntry(e,(e,r)=>{t(function(e){return ut.matchAll(/\w+|\[(\w*)]/g,e).map(e=>"[]"===e[0]?"":e[1]||e[0])}(e),r,n,0)}),n}return null};const Dt={transitional:Et,adapter:["xhr","http","fetch"],transformRequest:[function(e,t){const n=t.getContentType()||"",r=n.indexOf("application/json")>-1,a=ut.isObject(e);a&&ut.isHTMLForm(e)&&(e=new FormData(e));if(ut.isFormData(e))return r?JSON.stringify(At(e)):e;if(ut.isArrayBuffer(e)||ut.isBuffer(e)||ut.isStream(e)||ut.isFile(e)||ut.isBlob(e)||ut.isReadableStream(e))return e;if(ut.isArrayBufferView(e))return e.buffer;if(ut.isURLSearchParams(e))return t.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let s;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return function(e,t){return yt(e,new Rt.classes.URLSearchParams,Ne({visitor:function(e,t,n,r){return Rt.isNode&&ut.isBuffer(e)?(this.append(t,e.toString("base64")),!1):r.defaultVisitor.apply(this,arguments)}},t))}(e,this.formSerializer).toString();if((s=ut.isFileList(e))||n.indexOf("multipart/form-data")>-1){const t=this.env&&this.env.FormData;return yt(s?{"files[]":e}:e,t&&new t,this.formSerializer)}}return a||r?(t.setContentType("application/json",!1),function(e,t,n){if(ut.isString(e))try{return(t||JSON.parse)(e),ut.trim(e)}catch(Jn){if("SyntaxError"!==Jn.name)throw Jn}return(n||JSON.stringify)(e)}(e)):e}],transformResponse:[function(e){const t=this.transitional||Dt.transitional,n=t&&t.forcedJSONParsing,r="json"===this.responseType;if(ut.isResponse(e)||ut.isReadableStream(e))return e;if(e&&ut.isString(e)&&(n&&!this.responseType||r)){const n=!(t&&t.silentJSONParsing)&&r;try{return JSON.parse(e)}catch(Jn){if(n){if("SyntaxError"===Jn.name)throw ft.from(Jn,ft.ERR_BAD_RESPONSE,this,null,this.response);throw Jn}}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Rt.classes.FormData,Blob:Rt.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ut.forEach(["delete","get","head","post","put","patch"],e=>{Dt.headers[e]={}});const It=Dt,zt=ut.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Mt=Symbol("internals");function Ut(e){return e&&String(e).trim().toLowerCase()}function Bt(e){return!1===e||null==e?e:ut.isArray(e)?e.map(Bt):String(e)}function Vt(e,t,n,r,a){return ut.isFunction(r)?r.call(this,t,n):(a&&(t=n),ut.isString(t)?ut.isString(r)?-1!==t.indexOf(r):ut.isRegExp(r)?r.test(t):void 0:void 0)}class Ht{constructor(e){e&&this.set(e)}set(e,t,n){const r=this;function a(e,t,n){const a=Ut(t);if(!a)throw new Error("header name must be a non-empty string");const s=ut.findKey(r,a);(!s||void 0===r[s]||!0===n||void 0===n&&!1!==r[s])&&(r[s||t]=Bt(e))}const s=(e,t)=>ut.forEach(e,(e,n)=>a(e,n,t));if(ut.isPlainObject(e)||e instanceof this.constructor)s(e,t);else if(ut.isString(e)&&(e=e.trim())&&!/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim()))s((e=>{const t={};let n,r,a;return e&&e.split("\n").forEach(function(e){a=e.indexOf(":"),n=e.substring(0,a).trim().toLowerCase(),r=e.substring(a+1).trim(),!n||t[n]&&zt[n]||("set-cookie"===n?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t})(e),t);else if(ut.isObject(e)&&ut.isIterable(e)){let n,r,a={};for(const t of e){if(!ut.isArray(t))throw TypeError("Object iterator must return a key-value pair");a[r=t[0]]=(n=a[r])?ut.isArray(n)?[...n,t[1]]:[n,t[1]]:t[1]}s(a,t)}else null!=e&&a(t,e,n);return this}get(e,t){if(e=Ut(e)){const n=ut.findKey(this,e);if(n){const e=this[n];if(!t)return e;if(!0===t)return function(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}(e);if(ut.isFunction(t))return t.call(this,e,n);if(ut.isRegExp(t))return t.exec(e);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,t){if(e=Ut(e)){const n=ut.findKey(this,e);return!(!n||void 0===this[n]||t&&!Vt(0,this[n],n,t))}return!1}delete(e,t){const n=this;let r=!1;function a(e){if(e=Ut(e)){const a=ut.findKey(n,e);!a||t&&!Vt(0,n[a],a,t)||(delete n[a],r=!0)}}return ut.isArray(e)?e.forEach(a):a(e),r}clear(e){const t=Object.keys(this);let n=t.length,r=!1;for(;n--;){const a=t[n];e&&!Vt(0,this[a],a,e,!0)||(delete this[a],r=!0)}return r}normalize(e){const t=this,n={};return ut.forEach(this,(r,a)=>{const s=ut.findKey(n,a);if(s)return t[s]=Bt(r),void delete t[a];const i=e?function(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,t,n)=>t.toUpperCase()+n)}(a):String(a).trim();i!==a&&delete t[a],t[i]=Bt(r),n[i]=!0}),this}concat(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return this.constructor.concat(this,...t)}toJSON(e){const t=Object.create(null);return ut.forEach(this,(n,r)=>{null!=n&&!1!==n&&(t[r]=e&&ut.isArray(n)?n.join(", "):n)}),t}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(e=>{let[t,n]=e;return t+": "+n}).join("\n")}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e){const t=new this(e);for(var n=arguments.length,r=new Array(n>1?n-1:0),a=1;a<n;a++)r[a-1]=arguments[a];return r.forEach(e=>t.set(e)),t}static accessor(e){const t=(this[Mt]=this[Mt]={accessors:{}}).accessors,n=this.prototype;function r(e){const r=Ut(e);t[r]||(!function(e,t){const n=ut.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(e,n,a){return this[r].call(this,t,e,n,a)},configurable:!0})})}(n,e),t[r]=!0)}return ut.isArray(e)?e.forEach(r):r(e),this}}Ht.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),ut.reduceDescriptors(Ht.prototype,(e,t)=>{let{value:n}=e,r=t[0].toUpperCase()+t.slice(1);return{get:()=>n,set(e){this[r]=e}}}),ut.freezeMethods(Ht);const qt=Ht;function $t(e,t){const n=this||It,r=t||n,a=qt.from(r.headers);let s=r.data;return ut.forEach(e,function(e){s=e.call(n,s,a.normalize(),t?t.status:void 0)}),a.normalize(),s}function Wt(e){return!(!e||!e.__CANCEL__)}function Kt(e,t,n){ft.call(this,null==e?"canceled":e,ft.ERR_CANCELED,t,n),this.name="CanceledError"}ut.inherits(Kt,ft,{__CANCEL__:!0});const Zt=Kt;function Gt(e,t,n){const r=n.config.validateStatus;n.status&&r&&!r(n.status)?t(new ft("Request failed with status code "+n.status,[ft.ERR_BAD_REQUEST,ft.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n)):e(n)}const Qt=function(e,t){e=e||10;const n=new Array(e),r=new Array(e);let a,s=0,i=0;return t=void 0!==t?t:1e3,function(l){const o=Date.now(),c=r[i];a||(a=o),n[s]=l,r[s]=o;let u=i,d=0;for(;u!==s;)d+=n[u++],u%=e;if(s=(s+1)%e,s===i&&(i=(i+1)%e),o-a<t)return;const m=c&&o-c;return m?Math.round(1e3*d/m):void 0}};const Yt=function(e,t){let n,r,a=0,s=1e3/t;const i=function(t){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Date.now();a=s,n=null,r&&(clearTimeout(r),r=null),e(...t)};return[function(){const e=Date.now(),t=e-a;for(var l=arguments.length,o=new Array(l),c=0;c<l;c++)o[c]=arguments[c];t>=s?i(o,e):(n=o,r||(r=setTimeout(()=>{r=null,i(n)},s-t)))},()=>n&&i(n)]},Jt=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3,r=0;const a=Qt(50,250);return Yt(n=>{const s=n.loaded,i=n.lengthComputable?n.total:void 0,l=s-r,o=a(l);r=s;e({loaded:s,total:i,progress:i?s/i:void 0,bytes:l,rate:o||void 0,estimated:o&&i&&s<=i?(i-s)/o:void 0,event:n,lengthComputable:null!=i,[t?"download":"upload"]:!0})},n)},Xt=(e,t)=>{const n=null!=e;return[r=>t[0]({lengthComputable:n,total:e,loaded:r}),t[1]]},en=e=>function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return ut.asap(()=>e(...n))},tn=Rt.hasStandardBrowserEnv?((e,t)=>n=>(n=new URL(n,Rt.origin),e.protocol===n.protocol&&e.host===n.host&&(t||e.port===n.port)))(new URL(Rt.origin),Rt.navigator&&/(msie|trident)/i.test(Rt.navigator.userAgent)):()=>!0,nn=Rt.hasStandardBrowserEnv?{write(e,t,n,r,a,s){const i=[e+"="+encodeURIComponent(t)];ut.isNumber(n)&&i.push("expires="+new Date(n).toGMTString()),ut.isString(r)&&i.push("path="+r),ut.isString(a)&&i.push("domain="+a),!0===s&&i.push("secure"),document.cookie=i.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read:()=>null,remove(){}};function rn(e,t,n){let r=!/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t);return e&&(r||0==n)?function(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}(e,t):t}const an=e=>e instanceof qt?Ne({},e):e;function sn(e,t){t=t||{};const n={};function r(e,t,n,r){return ut.isPlainObject(e)&&ut.isPlainObject(t)?ut.merge.call({caseless:r},e,t):ut.isPlainObject(t)?ut.merge({},t):ut.isArray(t)?t.slice():t}function a(e,t,n,a){return ut.isUndefined(t)?ut.isUndefined(e)?void 0:r(void 0,e,0,a):r(e,t,0,a)}function s(e,t){if(!ut.isUndefined(t))return r(void 0,t)}function i(e,t){return ut.isUndefined(t)?ut.isUndefined(e)?void 0:r(void 0,e):r(void 0,t)}function l(n,a,s){return s in t?r(n,a):s in e?r(void 0,n):void 0}const o={url:s,method:s,data:s,baseURL:i,transformRequest:i,transformResponse:i,paramsSerializer:i,timeout:i,timeoutMessage:i,withCredentials:i,withXSRFToken:i,adapter:i,responseType:i,xsrfCookieName:i,xsrfHeaderName:i,onUploadProgress:i,onDownloadProgress:i,decompress:i,maxContentLength:i,maxBodyLength:i,beforeRedirect:i,transport:i,httpAgent:i,httpsAgent:i,cancelToken:i,socketPath:i,responseEncoding:i,validateStatus:l,headers:(e,t,n)=>a(an(e),an(t),0,!0)};return ut.forEach(Object.keys(Ne(Ne({},e),t)),function(r){const s=o[r]||a,i=s(e[r],t[r],r);ut.isUndefined(i)&&s!==l||(n[r]=i)}),n}const ln=e=>{const t=sn({},e);let n,{data:r,withXSRFToken:a,xsrfHeaderName:s,xsrfCookieName:i,headers:l,auth:o}=t;if(t.headers=l=qt.from(l),t.url=St(rn(t.baseURL,t.url,t.allowAbsoluteUrls),e.params,e.paramsSerializer),o&&l.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ut.isFormData(r))if(Rt.hasStandardBrowserEnv||Rt.hasStandardBrowserWebWorkerEnv)l.setContentType(void 0);else if(!1!==(n=l.getContentType())){const[e,...t]=n?n.split(";").map(e=>e.trim()).filter(Boolean):[];l.setContentType([e||"multipart/form-data",...t].join("; "))}if(Rt.hasStandardBrowserEnv&&(a&&ut.isFunction(a)&&(a=a(t)),a||!1!==a&&tn(t.url))){const e=s&&i&&nn.read(i);e&&l.set(s,e)}return t},on="undefined"!==typeof XMLHttpRequest&&function(e){return new Promise(function(t,n){const r=ln(e);let a=r.data;const s=qt.from(r.headers).normalize();let i,l,o,c,u,{responseType:d,onUploadProgress:m,onDownloadProgress:p}=r;function f(){c&&c(),u&&u(),r.cancelToken&&r.cancelToken.unsubscribe(i),r.signal&&r.signal.removeEventListener("abort",i)}let h=new XMLHttpRequest;function x(){if(!h)return;const r=qt.from("getAllResponseHeaders"in h&&h.getAllResponseHeaders());Gt(function(e){t(e),f()},function(e){n(e),f()},{data:d&&"text"!==d&&"json"!==d?h.response:h.responseText,status:h.status,statusText:h.statusText,headers:r,config:e,request:h}),h=null}h.open(r.method.toUpperCase(),r.url,!0),h.timeout=r.timeout,"onloadend"in h?h.onloadend=x:h.onreadystatechange=function(){h&&4===h.readyState&&(0!==h.status||h.responseURL&&0===h.responseURL.indexOf("file:"))&&setTimeout(x)},h.onabort=function(){h&&(n(new ft("Request aborted",ft.ECONNABORTED,e,h)),h=null)},h.onerror=function(){n(new ft("Network Error",ft.ERR_NETWORK,e,h)),h=null},h.ontimeout=function(){let t=r.timeout?"timeout of "+r.timeout+"ms exceeded":"timeout exceeded";const a=r.transitional||Et;r.timeoutErrorMessage&&(t=r.timeoutErrorMessage),n(new ft(t,a.clarifyTimeoutError?ft.ETIMEDOUT:ft.ECONNABORTED,e,h)),h=null},void 0===a&&s.setContentType(null),"setRequestHeader"in h&&ut.forEach(s.toJSON(),function(e,t){h.setRequestHeader(t,e)}),ut.isUndefined(r.withCredentials)||(h.withCredentials=!!r.withCredentials),d&&"json"!==d&&(h.responseType=r.responseType),p&&([o,u]=Jt(p,!0),h.addEventListener("progress",o)),m&&h.upload&&([l,c]=Jt(m),h.upload.addEventListener("progress",l),h.upload.addEventListener("loadend",c)),(r.cancelToken||r.signal)&&(i=t=>{h&&(n(!t||t.type?new Zt(null,e,h):t),h.abort(),h=null)},r.cancelToken&&r.cancelToken.subscribe(i),r.signal&&(r.signal.aborted?i():r.signal.addEventListener("abort",i)));const g=function(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}(r.url);g&&-1===Rt.protocols.indexOf(g)?n(new ft("Unsupported protocol "+g+":",ft.ERR_BAD_REQUEST,e)):h.send(a||null)})},cn=(e,t)=>{const{length:n}=e=e?e.filter(Boolean):[];if(t||n){let n,r=new AbortController;const a=function(e){if(!n){n=!0,i();const t=e instanceof Error?e:this.reason;r.abort(t instanceof ft?t:new Zt(t instanceof Error?t.message:t))}};let s=t&&setTimeout(()=>{s=null,a(new ft("timeout ".concat(t," of ms exceeded"),ft.ETIMEDOUT))},t);const i=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(e=>{e.unsubscribe?e.unsubscribe(a):e.removeEventListener("abort",a)}),e=null)};e.forEach(e=>e.addEventListener("abort",a));const{signal:l}=r;return l.unsubscribe=()=>ut.asap(i),l}};function un(e,t){this.v=e,this.k=t}function dn(e){return function(){return new mn(e.apply(this,arguments))}}function mn(e){var t,n;function r(t,n){try{var s=e[t](n),i=s.value,l=i instanceof un;Promise.resolve(l?i.v:i).then(function(n){if(l){var o="return"===t?"return":"next";if(!i.k||n.done)return r(o,n);n=e[o](n).value}a(s.done?"return":"normal",n)},function(e){r("throw",e)})}catch(e){a("throw",e)}}function a(e,a){switch(e){case"return":t.resolve({value:a,done:!0});break;case"throw":t.reject(a);break;default:t.resolve({value:a,done:!1})}(t=t.next)?r(t.key,t.arg):n=null}this._invoke=function(e,a){return new Promise(function(s,i){var l={key:e,arg:a,resolve:s,reject:i,next:null};n?n=n.next=l:(t=n=l,r(e,a))})},"function"!=typeof e.return&&(this.return=void 0)}function pn(e){return new un(e,0)}function fn(e){var t={},n=!1;function r(t,r){return n=!0,r=new Promise(function(n){n(e[t](r))}),{done:!1,value:new un(r,1)}}return t["undefined"!=typeof Symbol&&Symbol.iterator||"@@iterator"]=function(){return this},t.next=function(e){return n?(n=!1,e):r("next",e)},"function"==typeof e.throw&&(t.throw=function(e){if(n)throw n=!1,e;return r("throw",e)}),"function"==typeof e.return&&(t.return=function(e){return n?(n=!1,e):r("return",e)}),t}function hn(e){var t,n,r,a=2;for("undefined"!=typeof Symbol&&(n=Symbol.asyncIterator,r=Symbol.iterator);a--;){if(n&&null!=(t=e[n]))return t.call(e);if(r&&null!=(t=e[r]))return new xn(t.call(e));n="@@asyncIterator",r="@@iterator"}throw new TypeError("Object is not async iterable")}function xn(e){function t(e){if(Object(e)!==e)return Promise.reject(new TypeError(e+" is not an object."));var t=e.done;return Promise.resolve(e.value).then(function(e){return{value:e,done:t}})}return xn=function(e){this.s=e,this.n=e.next},xn.prototype={s:null,n:null,next:function(){return t(this.n.apply(this.s,arguments))},return:function(e){var n=this.s.return;return void 0===n?Promise.resolve({value:e,done:!0}):t(n.apply(this.s,arguments))},throw:function(e){var n=this.s.return;return void 0===n?Promise.reject(e):t(n.apply(this.s,arguments))}},new xn(e)}mn.prototype["function"==typeof Symbol&&Symbol.asyncIterator||"@@asyncIterator"]=function(){return this},mn.prototype.next=function(e){return this._invoke("next",e)},mn.prototype.throw=function(e){return this._invoke("throw",e)},mn.prototype.return=function(e){return this._invoke("return",e)};const gn=function*(e,t){let n=e.byteLength;if(!t||n<t)return void(yield e);let r,a=0;for(;a<n;)r=a+t,yield e.slice(a,r),a=r},vn=function(){var e=dn(function*(e,t){var n,r=!1,a=!1;try{for(var s,i=hn(yn(e));r=!(s=yield pn(i.next())).done;r=!1){const e=s.value;yield*fn(hn(gn(e,t)))}}catch(l){a=!0,n=l}finally{try{r&&null!=i.return&&(yield pn(i.return()))}finally{if(a)throw n}}});return function(t,n){return e.apply(this,arguments)}}(),yn=function(){var e=dn(function*(e){if(e[Symbol.asyncIterator])return void(yield*fn(hn(e)));const t=e.getReader();try{for(;;){const{done:e,value:n}=yield pn(t.read());if(e)break;yield n}}finally{yield pn(t.cancel())}});return function(t){return e.apply(this,arguments)}}(),bn=(e,t,n,r)=>{const a=vn(e,t);let s,i=0,l=e=>{s||(s=!0,r&&r(e))};return new ReadableStream({async pull(e){try{const{done:t,value:r}=await a.next();if(t)return l(),void e.close();let s=r.byteLength;if(n){let e=i+=s;n(e)}e.enqueue(new Uint8Array(r))}catch(t){throw l(t),t}},cancel:e=>(l(e),a.return())},{highWaterMark:2})},wn="function"===typeof fetch&&"function"===typeof Request&&"function"===typeof Response,jn=wn&&"function"===typeof ReadableStream,Nn=wn&&("function"===typeof TextEncoder?(kn=new TextEncoder,e=>kn.encode(e)):async e=>new Uint8Array(await new Response(e).arrayBuffer()));var kn;const Sn=function(e){try{for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return!!e(...n)}catch(Jn){return!1}},_n=jn&&Sn(()=>{let e=!1;const t=new Request(Rt.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t}),En=jn&&Sn(()=>ut.isReadableStream(new Response("").body)),Cn={stream:En&&(e=>e.body)};var Tn;wn&&(Tn=new Response,["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Cn[e]&&(Cn[e]=ut.isFunction(Tn[e])?t=>t[e]():(t,n)=>{throw new ft("Response type '".concat(e,"' is not supported"),ft.ERR_NOT_SUPPORT,n)})}));const On=async(e,t)=>{const n=ut.toFiniteNumber(e.getContentLength());return null==n?(async e=>{if(null==e)return 0;if(ut.isBlob(e))return e.size;if(ut.isSpecCompliantForm(e)){const t=new Request(Rt.origin,{method:"POST",body:e});return(await t.arrayBuffer()).byteLength}return ut.isArrayBufferView(e)||ut.isArrayBuffer(e)?e.byteLength:(ut.isURLSearchParams(e)&&(e+=""),ut.isString(e)?(await Nn(e)).byteLength:void 0)})(t):n},Pn=wn&&(async e=>{let{url:t,method:n,data:r,signal:a,cancelToken:s,timeout:i,onDownloadProgress:l,onUploadProgress:o,responseType:c,headers:u,withCredentials:d="same-origin",fetchOptions:m}=ln(e);c=c?(c+"").toLowerCase():"text";let p,f=cn([a,s&&s.toAbortSignal()],i);const h=f&&f.unsubscribe&&(()=>{f.unsubscribe()});let x;try{if(o&&_n&&"get"!==n&&"head"!==n&&0!==(x=await On(u,r))){let e,n=new Request(t,{method:"POST",body:r,duplex:"half"});if(ut.isFormData(r)&&(e=n.headers.get("content-type"))&&u.setContentType(e),n.body){const[e,t]=Xt(x,Jt(en(o)));r=bn(n.body,65536,e,t)}}ut.isString(d)||(d=d?"include":"omit");const a="credentials"in Request.prototype;p=new Request(t,Ne(Ne({},m),{},{signal:f,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:a?d:void 0}));let s=await fetch(p,m);const i=En&&("stream"===c||"response"===c);if(En&&(l||i&&h)){const e={};["status","statusText","headers"].forEach(t=>{e[t]=s[t]});const t=ut.toFiniteNumber(s.headers.get("content-length")),[n,r]=l&&Xt(t,Jt(en(l),!0))||[];s=new Response(bn(s.body,65536,n,()=>{r&&r(),h&&h()}),e)}c=c||"text";let g=await Cn[ut.findKey(Cn,c)||"text"](s,e);return!i&&h&&h(),await new Promise((t,n)=>{Gt(t,n,{data:g,headers:qt.from(s.headers),status:s.status,statusText:s.statusText,config:e,request:p})})}catch(g){if(h&&h(),g&&"TypeError"===g.name&&/Load failed|fetch/i.test(g.message))throw Object.assign(new ft("Network Error",ft.ERR_NETWORK,e,p),{cause:g.cause||g});throw ft.from(g,g&&g.code,e,p)}}),Fn={http:null,xhr:on,fetch:Pn};ut.forEach(Fn,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch(Jn){}Object.defineProperty(e,"adapterName",{value:t})}});const Ln=e=>"- ".concat(e),Rn=e=>ut.isFunction(e)||null===e||!1===e,An=e=>{e=ut.isArray(e)?e:[e];const{length:t}=e;let n,r;const a={};for(let s=0;s<t;s++){let t;if(n=e[s],r=n,!Rn(n)&&(r=Fn[(t=String(n)).toLowerCase()],void 0===r))throw new ft("Unknown adapter '".concat(t,"'"));if(r)break;a[t||"#"+s]=r}if(!r){const e=Object.entries(a).map(e=>{let[t,n]=e;return"adapter ".concat(t," ")+(!1===n?"is not supported by the environment":"is not available in the build")});let n=t?e.length>1?"since :\n"+e.map(Ln).join("\n"):" "+Ln(e[0]):"as no adapter specified";throw new ft("There is no suitable adapter to dispatch the request "+n,"ERR_NOT_SUPPORT")}return r};function Dn(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Zt(null,e)}function In(e){Dn(e),e.headers=qt.from(e.headers),e.data=$t.call(e,e.transformRequest),-1!==["post","put","patch"].indexOf(e.method)&&e.headers.setContentType("application/x-www-form-urlencoded",!1);return An(e.adapter||It.adapter)(e).then(function(t){return Dn(e),t.data=$t.call(e,e.transformResponse,t),t.headers=qt.from(t.headers),t},function(t){return Wt(t)||(Dn(e),t&&t.response&&(t.response.data=$t.call(e,e.transformResponse,t.response),t.response.headers=qt.from(t.response.headers))),Promise.reject(t)})}const zn="1.11.0",Mn={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Mn[e]=function(n){return typeof n===e||"a"+(t<1?"n ":" ")+e}});const Un={};Mn.transitional=function(e,t,n){function r(e,t){return"[Axios v"+zn+"] Transitional option '"+e+"'"+t+(n?". "+n:"")}return(n,a,s)=>{if(!1===e)throw new ft(r(a," has been removed"+(t?" in "+t:"")),ft.ERR_DEPRECATED);return t&&!Un[a]&&(Un[a]=!0,console.warn(r(a," has been deprecated since v"+t+" and will be removed in the near future"))),!e||e(n,a,s)}},Mn.spelling=function(e){return(t,n)=>(console.warn("".concat(n," is likely a misspelling of ").concat(e)),!0)};const Bn={assertOptions:function(e,t,n){if("object"!==typeof e)throw new ft("options must be an object",ft.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let a=r.length;for(;a-- >0;){const s=r[a],i=t[s];if(i){const t=e[s],n=void 0===t||i(t,s,e);if(!0!==n)throw new ft("option "+s+" must be "+n,ft.ERR_BAD_OPTION_VALUE);continue}if(!0!==n)throw new ft("Unknown option "+s,ft.ERR_BAD_OPTION)}},validators:Mn},Vn=Bn.validators;class Hn{constructor(e){this.defaults=e||{},this.interceptors={request:new _t,response:new _t}}async request(e,t){try{return await this._request(e,t)}catch(n){if(n instanceof Error){let e={};Error.captureStackTrace?Error.captureStackTrace(e):e=new Error;const t=e.stack?e.stack.replace(/^.+\n/,""):"";try{n.stack?t&&!String(n.stack).endsWith(t.replace(/^.+\n.+\n/,""))&&(n.stack+="\n"+t):n.stack=t}catch(Jn){}}throw n}}_request(e,t){"string"===typeof e?(t=t||{}).url=e:t=e||{},t=sn(this.defaults,t);const{transitional:n,paramsSerializer:r,headers:a}=t;void 0!==n&&Bn.assertOptions(n,{silentJSONParsing:Vn.transitional(Vn.boolean),forcedJSONParsing:Vn.transitional(Vn.boolean),clarifyTimeoutError:Vn.transitional(Vn.boolean)},!1),null!=r&&(ut.isFunction(r)?t.paramsSerializer={serialize:r}:Bn.assertOptions(r,{encode:Vn.function,serialize:Vn.function},!0)),void 0!==t.allowAbsoluteUrls||(void 0!==this.defaults.allowAbsoluteUrls?t.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:t.allowAbsoluteUrls=!0),Bn.assertOptions(t,{baseUrl:Vn.spelling("baseURL"),withXsrfToken:Vn.spelling("withXSRFToken")},!0),t.method=(t.method||this.defaults.method||"get").toLowerCase();let s=a&&ut.merge(a.common,a[t.method]);a&&ut.forEach(["delete","get","head","post","put","patch","common"],e=>{delete a[e]}),t.headers=qt.concat(s,a);const i=[];let l=!0;this.interceptors.request.forEach(function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(l=l&&e.synchronous,i.unshift(e.fulfilled,e.rejected))});const o=[];let c;this.interceptors.response.forEach(function(e){o.push(e.fulfilled,e.rejected)});let u,d=0;if(!l){const e=[In.bind(this),void 0];for(e.unshift(...i),e.push(...o),u=e.length,c=Promise.resolve(t);d<u;)c=c.then(e[d++],e[d++]);return c}u=i.length;let m=t;for(d=0;d<u;){const e=i[d++],t=i[d++];try{m=e(m)}catch(p){t.call(this,p);break}}try{c=In.call(this,m)}catch(p){return Promise.reject(p)}for(d=0,u=o.length;d<u;)c=c.then(o[d++],o[d++]);return c}getUri(e){return St(rn((e=sn(this.defaults,e)).baseURL,e.url,e.allowAbsoluteUrls),e.params,e.paramsSerializer)}}ut.forEach(["delete","get","head","options"],function(e){Hn.prototype[e]=function(t,n){return this.request(sn(n||{},{method:e,url:t,data:(n||{}).data}))}}),ut.forEach(["post","put","patch"],function(e){function t(t){return function(n,r,a){return this.request(sn(a||{},{method:e,headers:t?{"Content-Type":"multipart/form-data"}:{},url:n,data:r}))}}Hn.prototype[e]=t(),Hn.prototype[e+"Form"]=t(!0)});const qn=Hn;class $n{constructor(e){if("function"!==typeof e)throw new TypeError("executor must be a function.");let t;this.promise=new Promise(function(e){t=e});const n=this;this.promise.then(e=>{if(!n._listeners)return;let t=n._listeners.length;for(;t-- >0;)n._listeners[t](e);n._listeners=null}),this.promise.then=e=>{let t;const r=new Promise(e=>{n.subscribe(e),t=e}).then(e);return r.cancel=function(){n.unsubscribe(t)},r},e(function(e,r,a){n.reason||(n.reason=new Zt(e,r,a),t(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){this.reason?e(this.reason):this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const t=this._listeners.indexOf(e);-1!==t&&this._listeners.splice(t,1)}toAbortSignal(){const e=new AbortController,t=t=>{e.abort(t)};return this.subscribe(t),e.signal.unsubscribe=()=>this.unsubscribe(t),e.signal}static source(){let e;const t=new $n(function(t){e=t});return{token:t,cancel:e}}}const Wn=$n;const Kn={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(Kn).forEach(e=>{let[t,n]=e;Kn[n]=t});const Zn=Kn;const Gn=function e(t){const n=new qn(t),r=ke(qn.prototype.request,n);return ut.extend(r,qn.prototype,n,{allOwnKeys:!0}),ut.extend(r,n,null,{allOwnKeys:!0}),r.create=function(n){return e(sn(t,n))},r}(It);Gn.Axios=qn,Gn.CanceledError=Zt,Gn.CancelToken=Wn,Gn.isCancel=Wt,Gn.VERSION=zn,Gn.toFormData=yt,Gn.AxiosError=ft,Gn.Cancel=Gn.CanceledError,Gn.all=function(e){return Promise.all(e)},Gn.spread=function(e){return function(t){return e.apply(null,t)}},Gn.isAxiosError=function(e){return ut.isObject(e)&&!0===e.isAxiosError},Gn.mergeConfig=sn,Gn.AxiosHeaders=qt,Gn.formToJSON=e=>At(ut.isHTMLForm(e)?new FormData(e):e),Gn.getAdapter=An,Gn.HttpStatusCode=Zn,Gn.default=Gn;const Qn=Gn;function Yn(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}let Jn={data:""},Xn=e=>"object"==typeof window?((e?e.querySelector("#_goober"):window._goober)||Object.assign((e||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:e||Jn,er=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,tr=/\/\*[^]*?\*\/|  +/g,nr=/\n+/g,rr=(e,t)=>{let n="",r="",a="";for(let s in e){let i=e[s];"@"==s[0]?"i"==s[1]?n=s+" "+i+";":r+="f"==s[1]?rr(i,s):s+"{"+rr(i,"k"==s[1]?"":t)+"}":"object"==typeof i?r+=rr(i,t?t.replace(/([^,])+/g,e=>s.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,t=>/&/.test(t)?t.replace(/&/g,e):e?e+" "+t:t)):s):null!=i&&(s=/^--/.test(s)?s:s.replace(/[A-Z]/g,"-$&").toLowerCase(),a+=rr.p?rr.p(s,i):s+":"+i+";")}return n+(t&&a?t+"{"+a+"}":a)+r},ar={},sr=e=>{if("object"==typeof e){let t="";for(let n in e)t+=n+sr(e[n]);return t}return e},ir=(e,t,n,r,a)=>{let s=sr(e),i=ar[s]||(ar[s]=(e=>{let t=0,n=11;for(;t<e.length;)n=101*n+e.charCodeAt(t++)>>>0;return"go"+n})(s));if(!ar[i]){let t=s!==e?e:(e=>{let t,n,r=[{}];for(;t=er.exec(e.replace(tr,""));)t[4]?r.shift():t[3]?(n=t[3].replace(nr," ").trim(),r.unshift(r[0][n]=r[0][n]||{})):r[0][t[1]]=t[2].replace(nr," ").trim();return r[0]})(e);ar[i]=rr(a?{["@keyframes "+i]:t}:t,n?"":"."+i)}let l=n&&ar.g?ar.g:null;return n&&(ar.g=ar[i]),((e,t,n,r)=>{r?t.data=t.data.replace(r,e):-1===t.data.indexOf(e)&&(t.data=n?e+t.data:t.data+e)})(ar[i],t,r,l),i};function lr(e){let t=this||{},n=e.call?e(t.p):e;return ir(n.unshift?n.raw?((e,t,n)=>e.reduce((e,r,a)=>{let s=t[a];if(s&&s.call){let e=s(n),t=e&&e.props&&e.props.className||/^go/.test(e)&&e;s=t?"."+t:e&&"object"==typeof e?e.props?"":rr(e,""):!1===e?"":e}return e+r+(null==s?"":s)},""))(n,[].slice.call(arguments,1),t.p):n.reduce((e,n)=>Object.assign(e,n&&n.call?n(t.p):n),{}):n,Xn(t.target),t.g,t.o,t.k)}lr.bind({g:1});let or,cr,ur,dr=lr.bind({k:1});function mr(e,t){let n=this||{};return function(){let r=arguments;function a(s,i){let l=Object.assign({},s),o=l.className||a.className;n.p=Object.assign({theme:cr&&cr()},l),n.o=/ *go\d+/.test(o),l.className=lr.apply(n,r)+(o?" "+o:""),t&&(l.ref=i);let c=e;return e[0]&&(c=l.as||e,delete l.as),ur&&c[0]&&ur(l),or(c,l)}return t?t(a):a}}var pr,fr,hr,xr,gr,vr,yr,br,wr,jr,Nr,kr,Sr,_r,Er,Cr,Tr=(e,t)=>(e=>"function"==typeof e)(e)?e(t):e,Or=(()=>{let e=0;return()=>(++e).toString()})(),Pr=(()=>{let e;return()=>{if(void 0===e&&typeof window<"u"){let t=matchMedia("(prefers-reduced-motion: reduce)");e=!t||t.matches}return e}})(),Fr=(e,t)=>{switch(t.type){case 0:return Ne(Ne({},e),{},{toasts:[t.toast,...e.toasts].slice(0,20)});case 1:return Ne(Ne({},e),{},{toasts:e.toasts.map(e=>e.id===t.toast.id?Ne(Ne({},e),t.toast):e)});case 2:let{toast:n}=t;return Fr(e,{type:e.toasts.find(e=>e.id===n.id)?1:0,toast:n});case 3:let{toastId:r}=t;return Ne(Ne({},e),{},{toasts:e.toasts.map(e=>e.id===r||void 0===r?Ne(Ne({},e),{},{dismissed:!0,visible:!1}):e)});case 4:return void 0===t.toastId?Ne(Ne({},e),{},{toasts:[]}):Ne(Ne({},e),{},{toasts:e.toasts.filter(e=>e.id!==t.toastId)});case 5:return Ne(Ne({},e),{},{pausedAt:t.time});case 6:let a=t.time-(e.pausedAt||0);return Ne(Ne({},e),{},{pausedAt:void 0,toasts:e.toasts.map(e=>Ne(Ne({},e),{},{pauseDuration:e.pauseDuration+a}))})}},Lr=[],Rr={toasts:[],pausedAt:void 0},Ar=e=>{Rr=Fr(Rr,e),Lr.forEach(e=>{e(Rr)})},Dr={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},Ir=e=>(t,n)=>{let r=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"blank",n=arguments.length>2?arguments[2]:void 0;return Ne(Ne({createdAt:Date.now(),visible:!0,dismissed:!1,type:t,ariaProps:{role:"status","aria-live":"polite"},message:e,pauseDuration:0},n),{},{id:(null==n?void 0:n.id)||Or()})}(t,e,n);return Ar({type:2,toast:r}),r.id},zr=(e,t)=>Ir("blank")(e,t);zr.error=Ir("error"),zr.success=Ir("success"),zr.loading=Ir("loading"),zr.custom=Ir("custom"),zr.dismiss=e=>{Ar({type:3,toastId:e})},zr.remove=e=>Ar({type:4,toastId:e}),zr.promise=(e,t,n)=>{let r=zr.loading(t.loading,Ne(Ne({},n),null==n?void 0:n.loading));return"function"==typeof e&&(e=e()),e.then(e=>{let a=t.success?Tr(t.success,e):void 0;return a?zr.success(a,Ne(Ne({id:r},n),null==n?void 0:n.success)):zr.dismiss(r),e}).catch(e=>{let a=t.error?Tr(t.error,e):void 0;a?zr.error(a,Ne(Ne({id:r},n),null==n?void 0:n.error)):zr.dismiss(r)}),e};var Mr=(e,t)=>{Ar({type:1,toast:{id:e,height:t}})},Ur=()=>{Ar({type:5,time:Date.now()})},Br=new Map,Vr=e=>{let{toasts:t,pausedAt:n}=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},[t,n]=(0,r.useState)(Rr),a=(0,r.useRef)(Rr);(0,r.useEffect)(()=>(a.current!==Rr&&n(Rr),Lr.push(n),()=>{let e=Lr.indexOf(n);e>-1&&Lr.splice(e,1)}),[]);let s=t.toasts.map(t=>{var n,r,a;return Ne(Ne(Ne(Ne({},e),e[t.type]),t),{},{removeDelay:t.removeDelay||(null==(n=e[t.type])?void 0:n.removeDelay)||(null==e?void 0:e.removeDelay),duration:t.duration||(null==(r=e[t.type])?void 0:r.duration)||(null==e?void 0:e.duration)||Dr[t.type],style:Ne(Ne(Ne({},e.style),null==(a=e[t.type])?void 0:a.style),t.style)})});return Ne(Ne({},t),{},{toasts:s})}(e);(0,r.useEffect)(()=>{if(n)return;let e=Date.now(),r=t.map(t=>{if(t.duration===1/0)return;let n=(t.duration||0)+t.pauseDuration-(e-t.createdAt);if(!(n<0))return setTimeout(()=>zr.dismiss(t.id),n);t.visible&&zr.dismiss(t.id)});return()=>{r.forEach(e=>e&&clearTimeout(e))}},[t,n]);let a=(0,r.useCallback)(()=>{n&&Ar({type:6,time:Date.now()})},[n]),s=(0,r.useCallback)((e,n)=>{let{reverseOrder:r=!1,gutter:a=8,defaultPosition:s}=n||{},i=t.filter(t=>(t.position||s)===(e.position||s)&&t.height),l=i.findIndex(t=>t.id===e.id),o=i.filter((e,t)=>t<l&&e.visible).length;return i.filter(e=>e.visible).slice(...r?[o+1]:[0,o]).reduce((e,t)=>e+(t.height||0)+a,0)},[t]);return(0,r.useEffect)(()=>{t.forEach(e=>{if(e.dismissed)!function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3;if(Br.has(e))return;let n=setTimeout(()=>{Br.delete(e),Ar({type:4,toastId:e})},t);Br.set(e,n)}(e.id,e.removeDelay);else{let t=Br.get(e.id);t&&(clearTimeout(t),Br.delete(e.id))}})},[t]),{toasts:t,handlers:{updateHeight:Mr,startPause:Ur,endPause:a,calculateOffset:s}}},Hr=dr(pr||(pr=Yn(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n transform: scale(1) rotate(45deg);\n  opacity: 1;\n}"]))),qr=dr(fr||(fr=Yn(["\nfrom {\n  transform: scale(0);\n  opacity: 0;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),$r=dr(hr||(hr=Yn(["\nfrom {\n  transform: scale(0) rotate(90deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(90deg);\n\topacity: 1;\n}"]))),Wr=mr("div")(xr||(xr=Yn(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n\n  &:after,\n  &:before {\n    content: '';\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 150ms;\n    position: absolute;\n    border-radius: 3px;\n    opacity: 0;\n    background: ",";\n    bottom: 9px;\n    left: 4px;\n    height: 2px;\n    width: 12px;\n  }\n\n  &:before {\n    animation: "," 0.15s ease-out forwards;\n    animation-delay: 180ms;\n    transform: rotate(90deg);\n  }\n"])),e=>e.primary||"#ff4b4b",Hr,qr,e=>e.secondary||"#fff",$r),Kr=dr(gr||(gr=Yn(["\n  from {\n    transform: rotate(0deg);\n  }\n  to {\n    transform: rotate(360deg);\n  }\n"]))),Zr=mr("div")(vr||(vr=Yn(["\n  width: 12px;\n  height: 12px;\n  box-sizing: border-box;\n  border: 2px solid;\n  border-radius: 100%;\n  border-color: ",";\n  border-right-color: ",";\n  animation: "," 1s linear infinite;\n"])),e=>e.secondary||"#e0e0e0",e=>e.primary||"#616161",Kr),Gr=dr(yr||(yr=Yn(["\nfrom {\n  transform: scale(0) rotate(45deg);\n\topacity: 0;\n}\nto {\n  transform: scale(1) rotate(45deg);\n\topacity: 1;\n}"]))),Qr=dr(br||(br=Yn(["\n0% {\n\theight: 0;\n\twidth: 0;\n\topacity: 0;\n}\n40% {\n  height: 0;\n\twidth: 6px;\n\topacity: 1;\n}\n100% {\n  opacity: 1;\n  height: 10px;\n}"]))),Yr=mr("div")(wr||(wr=Yn(["\n  width: 20px;\n  opacity: 0;\n  height: 20px;\n  border-radius: 10px;\n  background: ",";\n  position: relative;\n  transform: rotate(45deg);\n\n  animation: "," 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n  animation-delay: 100ms;\n  &:after {\n    content: '';\n    box-sizing: border-box;\n    animation: "," 0.2s ease-out forwards;\n    opacity: 0;\n    animation-delay: 200ms;\n    position: absolute;\n    border-right: 2px solid;\n    border-bottom: 2px solid;\n    border-color: ",";\n    bottom: 6px;\n    left: 6px;\n    height: 10px;\n    width: 6px;\n  }\n"])),e=>e.primary||"#61d345",Gr,Qr,e=>e.secondary||"#fff"),Jr=mr("div")(jr||(jr=Yn(["\n  position: absolute;\n"]))),Xr=mr("div")(Nr||(Nr=Yn(["\n  position: relative;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  min-width: 20px;\n  min-height: 20px;\n"]))),ea=dr(kr||(kr=Yn(["\nfrom {\n  transform: scale(0.6);\n  opacity: 0.4;\n}\nto {\n  transform: scale(1);\n  opacity: 1;\n}"]))),ta=mr("div")(Sr||(Sr=Yn(["\n  position: relative;\n  transform: scale(0.6);\n  opacity: 0.4;\n  min-width: 20px;\n  animation: "," 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)\n    forwards;\n"])),ea),na=e=>{let{toast:t}=e,{icon:n,type:a,iconTheme:s}=t;return void 0!==n?"string"==typeof n?r.createElement(ta,null,n):n:"blank"===a?null:r.createElement(Xr,null,r.createElement(Zr,Ne({},s)),"loading"!==a&&r.createElement(Jr,null,"error"===a?r.createElement(Wr,Ne({},s)):r.createElement(Yr,Ne({},s))))},ra=e=>"\n0% {transform: translate3d(0,".concat(-200*e,"%,0) scale(.6); opacity:.5;}\n100% {transform: translate3d(0,0,0) scale(1); opacity:1;}\n"),aa=e=>"\n0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}\n100% {transform: translate3d(0,".concat(-150*e,"%,-1px) scale(.6); opacity:0;}\n"),sa=mr("div")(_r||(_r=Yn(["\n  display: flex;\n  align-items: center;\n  background: #fff;\n  color: #363636;\n  line-height: 1.3;\n  will-change: transform;\n  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);\n  max-width: 350px;\n  pointer-events: auto;\n  padding: 8px 10px;\n  border-radius: 8px;\n"]))),ia=mr("div")(Er||(Er=Yn(["\n  display: flex;\n  justify-content: center;\n  margin: 4px 10px;\n  color: inherit;\n  flex: 1 1 auto;\n  white-space: pre-line;\n"]))),la=r.memo(e=>{let{toast:t,position:n,style:a,children:s}=e,i=t.height?((e,t)=>{let n=e.includes("top")?1:-1,[r,a]=Pr()?["0%{opacity:0;} 100%{opacity:1;}","0%{opacity:1;} 100%{opacity:0;}"]:[ra(n),aa(n)];return{animation:t?"".concat(dr(r)," 0.35s cubic-bezier(.21,1.02,.73,1) forwards"):"".concat(dr(a)," 0.4s forwards cubic-bezier(.06,.71,.55,1)")}})(t.position||n||"top-center",t.visible):{opacity:0},l=r.createElement(na,{toast:t}),o=r.createElement(ia,Ne({},t.ariaProps),Tr(t.message,t));return r.createElement(sa,{className:t.className,style:Ne(Ne(Ne({},i),a),t.style)},"function"==typeof s?s({icon:l,message:o}):r.createElement(r.Fragment,null,l,o))});!function(e,t,n,r){rr.p=t,or=e,cr=n,ur=r}(r.createElement);var oa=e=>{let{id:t,className:n,style:a,onHeightUpdate:s,children:i}=e,l=r.useCallback(e=>{if(e){let n=()=>{let n=e.getBoundingClientRect().height;s(t,n)};n(),new MutationObserver(n).observe(e,{subtree:!0,childList:!0,characterData:!0})}},[t,s]);return r.createElement("div",{ref:l,className:n,style:a},i)},ca=lr(Cr||(Cr=Yn(["\n  z-index: 9999;\n  > * {\n    pointer-events: auto;\n  }\n"]))),ua=e=>{let{reverseOrder:t,position:n="top-center",toastOptions:a,gutter:s,children:i,containerStyle:l,containerClassName:o}=e,{toasts:c,handlers:u}=Vr(a);return r.createElement("div",{id:"_rht_toaster",style:Ne({position:"fixed",zIndex:9999,top:16,left:16,right:16,bottom:16,pointerEvents:"none"},l),className:o,onMouseEnter:u.startPause,onMouseLeave:u.endPause},c.map(e=>{let a=e.position||n,l=((e,t)=>{let n=e.includes("top"),r=n?{top:0}:{bottom:0},a=e.includes("center")?{justifyContent:"center"}:e.includes("right")?{justifyContent:"flex-end"}:{};return Ne(Ne({left:0,right:0,display:"flex",position:"absolute",transition:Pr()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:"translateY(".concat(t*(n?1:-1),"px)")},r),a)})(a,u.calculateOffset(e,{reverseOrder:t,gutter:s,defaultPosition:n}));return r.createElement(oa,{id:e.id,key:e.id,onHeightUpdate:u.updateHeight,className:e.visible?ca:"",style:l},"custom"===e.type?Tr(e.message,e):i?i(e):r.createElement(la,{toast:e,position:a}))}))},da=zr;const ma=Qn.create({baseURL:"https://024794f4-6a2a-4277-b4f4-10910bab6541.preview.emergentagent.com",headers:{"Content-Type":"application/json"}});ma.interceptors.request.use(e=>{const t=localStorage.getItem("token");return t&&(e.headers.Authorization="Bearer ".concat(t)),e}),ma.interceptors.response.use(e=>e,e=>{var t,n;401===(null===(t=e.response)||void 0===t?void 0:t.status)&&(localStorage.removeItem("token"),window.location.href="/login");return[400,401,403,404,422].includes(null===(n=e.response)||void 0===n?void 0:n.status)||da.error("Something went wrong. Please try again."),Promise.reject(e)});const pa=e=>ma.post("/api/auth/login",e),fa=()=>ma.get("/api/auth/me"),ha=()=>ma.get("/api/super-admin/businesses"),xa=e=>ma.post("/api/super-admin/businesses",e),ga=(e,t)=>ma.put("/api/super-admin/businesses/".concat(e,"/status"),{status:t}),va=()=>ma.get("/api/business/info"),ya=e=>ma.put("/api/business/settings",e),ba=e=>ma.put("/api/business/details",e),wa=e=>{const t=new FormData;return t.append("file",e),ma.post("/api/business/logo-upload",t,{headers:{"Content-Type":"multipart/form-data"}})},ja=()=>ma.delete("/api/business/logo"),Na=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ma.get("/api/products",{params:e})},ka=e=>ma.post("/api/products",e),Sa=(e,t)=>ma.put("/api/products/".concat(e),t),_a=e=>ma.delete("/api/products/".concat(e)),Ea=e=>ma.get("/api/products/barcode/".concat(e)),Ca=e=>ma.get("/api/products/".concat(e,"/cost-history")),Ta=e=>{const t=new FormData;return t.append("file",e),ma.post("/api/products/bulk-import",t,{headers:{"Content-Type":"multipart/form-data"}})},Oa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ma.get("/api/products/export",{params:e,responseType:"blob"})},Pa=(e,t)=>ma.post("/api/products/".concat(e,"/stock-adjustment"),t),Fa=(e,t)=>ma.patch("/api/products/".concat(e,"/status"),{status:t}),La=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return ma.post("/api/products/".concat(e,"/duplicate"),t)},Ra=(e,t)=>ma.patch("/api/products/".concat(e,"/quick-edit"),t),Aa=()=>ma.get("/api/categories"),Da=e=>ma.post("/api/categories",e),Ia=(e,t)=>ma.put("/api/categories/".concat(e),t),za=e=>ma.delete("/api/categories/".concat(e)),Ma=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ma.get("/api/customers",{params:e})},Ua=e=>ma.post("/api/customers",e),Ba=(e,t)=>ma.put("/api/customers/".concat(e),t),Va=e=>ma.delete("/api/customers/".concat(e)),Ha=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ma.get("/api/sales",{params:e})},qa=e=>ma.post("/api/sales",e),$a=e=>ma.get("/api/sales/daily-summary/stats",{params:{date:e}}),Wa=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ma.get("/api/invoices",{params:e})},Ka=e=>ma.post("/api/invoices",e),Za=function(){const e={params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},responseType:"blob"};return ma.get("/api/reports/sales",e)},Ga=function(){const e={params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},responseType:"blob"};return ma.get("/api/reports/inventory",e)},Qa=function(){const e={params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},responseType:"blob"};return ma.get("/api/reports/customers",e)},Ya=function(){const e={params:arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},responseType:"blob"};return ma.get("/api/reports/profit",e)},Ja=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return ma.get("/api/reports/daily-summary",{params:e})};var Xa=n(579);const es=(0,r.createContext)(),ts=(e,t)=>{switch(t.type){case"SET_LOADING":return Ne(Ne({},e),{},{loading:t.payload});case"LOGIN_SUCCESS":return localStorage.setItem("token",t.payload.access_token),Ne(Ne({},e),{},{user:t.payload.user,business:t.payload.business,token:t.payload.access_token,loading:!1});case"LOGOUT":return localStorage.removeItem("token"),Ne(Ne({},e),{},{user:null,business:null,token:null,loading:!1});case"UPDATE_USER":return Ne(Ne({},e),{},{user:t.payload});default:return e}},ns={user:null,business:null,token:localStorage.getItem("token"),loading:!0},rs=e=>{let{children:t}=e;const[n,a]=(0,r.useReducer)(ts,ns);(0,r.useEffect)(()=>{(async()=>{const e=localStorage.getItem("token");if(e)try{const t=await fa();let r=null;if("super_admin"!==t.data.role)try{r=(await va()).data}catch(n){console.error("Failed to load business info:",n)}a({type:"LOGIN_SUCCESS",payload:{access_token:e,user:t.data,business:r}})}catch(r){var t;console.error("Auth check failed:",r),401===(null===(t=r.response)||void 0===t?void 0:t.status)?a({type:"LOGOUT"}):a({type:"SET_LOADING",payload:!1})}else a({type:"SET_LOADING",payload:!1})})()},[]);const s=Ne(Ne({},n),{},{login:async e=>{try{a({type:"SET_LOADING",payload:!0});const t=await pa(e);return a({type:"LOGIN_SUCCESS",payload:t.data}),da.success("Login successful!"),t.data}catch(r){var t,n;a({type:"SET_LOADING",payload:!1});const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Login failed";throw da.error(e),r}},logout:()=>{a({type:"LOGOUT"}),da.success("Logged out successfully")}});return(0,Xa.jsx)(es.Provider,{value:s,children:t})},as=()=>{const e=(0,r.useContext)(es);if(!e)throw new Error("useAuth must be used within an AuthProvider");return e},ss={USD:"$",EUR:"\u20ac",GBP:"\xa3",JPY:"\xa5",AUD:"A$",CAD:"C$",CHF:"CHF ",CNY:"\xa5",SEK:"kr ",NZD:"NZ$",MXN:"$",SGD:"S$",HKD:"HK$",NOK:"kr ",PHP:"\u20b1",THB:"\u0e3f",TRY:"\u20ba",RUB:"\u20bd",INR:"\u20b9",KRW:"\u20a9",BRL:"R$",ZAR:"R ",PLN:"z\u0142 ",CZK:"K\u010d ",DKK:"kr ",HUF:"Ft ",BGN:"\u043b\u0432 ",RON:"lei ",HRK:"kn ",ISK:"kr ",LTL:"Lt ",LVL:"Ls ",EEK:"kr ",MTL:"Lm ",CYP:"\xa3"},is={USD:"en-US",EUR:"de-DE",GBP:"en-GB",JPY:"ja-JP",AUD:"en-AU",CAD:"en-CA",CHF:"de-CH",CNY:"zh-CN",SEK:"sv-SE",NZD:"en-NZ",MXN:"es-MX",SGD:"en-SG",HKD:"zh-HK",NOK:"no-NO",PHP:"en-PH",THB:"th-TH",TRY:"tr-TR",RUB:"ru-RU",INR:"en-IN",KRW:"ko-KR",BRL:"pt-BR",ZAR:"en-ZA",PLN:"pl-PL",CZK:"cs-CZ",DKK:"da-DK",HUF:"hu-HU",BGN:"bg-BG",RON:"ro-RO",HRK:"hr-HR",ISK:"is-IS",LTL:"lt-LT",LVL:"lv-LV",EEK:"et-EE",MTL:"mt-MT",CYP:"el-CY"},ls=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"USD";return ss[e.toUpperCase()]||e+" "},os=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD",n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=parseFloat(e)||0;if(n){const e=ls(t);return["NOK","SEK","PLN","CZK","DKK","HUF","BGN","RON","HRK","ISK","LTL","LVL","EEK"].includes(t.toUpperCase())?"".concat(r.toFixed(2)," ").concat(e.trim()):"".concat(e).concat(r.toFixed(2))}return"".concat(r.toFixed(2)," ").concat(t.toUpperCase())},cs=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"USD";const n=parseFloat(e)||0,r=is[t.toUpperCase()]||"en-US";try{return new Intl.NumberFormat(r,{style:"currency",currency:t.toUpperCase(),minimumFractionDigits:2,maximumFractionDigits:2}).format(n)}catch(a){return console.warn("Currency formatting failed for ".concat(t,", using fallback")),os(e,t)}},us=()=>[{code:"USD",symbol:"$",name:"US Dollar"},{code:"EUR",symbol:"\u20ac",name:"Euro"},{code:"GBP",symbol:"\xa3",name:"British Pound"},{code:"JPY",symbol:"\xa5",name:"Japanese Yen"},{code:"AUD",symbol:"A$",name:"Australian Dollar"},{code:"CAD",symbol:"C$",name:"Canadian Dollar"},{code:"CHF",symbol:"CHF",name:"Swiss Franc"},{code:"CNY",symbol:"\xa5",name:"Chinese Yuan"},{code:"SEK",symbol:"kr",name:"Swedish Krona"},{code:"NZD",symbol:"NZ$",name:"New Zealand Dollar"},{code:"MXN",symbol:"$",name:"Mexican Peso"},{code:"SGD",symbol:"S$",name:"Singapore Dollar"},{code:"HKD",symbol:"HK$",name:"Hong Kong Dollar"},{code:"NOK",symbol:"kr",name:"Norwegian Krone"},{code:"PHP",symbol:"\u20b1",name:"Philippine Peso"},{code:"THB",symbol:"\u0e3f",name:"Thai Baht"},{code:"TRY",symbol:"\u20ba",name:"Turkish Lira"},{code:"RUB",symbol:"\u20bd",name:"Russian Ruble"},{code:"INR",symbol:"\u20b9",name:"Indian Rupee"},{code:"KRW",symbol:"\u20a9",name:"South Korean Won"},{code:"BRL",symbol:"R$",name:"Brazilian Real"},{code:"ZAR",symbol:"R",name:"South African Rand"},{code:"PLN",symbol:"z\u0142",name:"Polish Zloty"},{code:"CZK",symbol:"K\u010d",name:"Czech Koruna"},{code:"DKK",symbol:"kr",name:"Danish Krone"},{code:"HUF",symbol:"Ft",name:"Hungarian Forint"}].sort((e,t)=>e.name.localeCompare(t.name)),ds=(0,r.createContext)(),ms=()=>{const e=(0,r.useContext)(ds);if(!e)throw new Error("useCurrency must be used within a CurrencyProvider");return e},ps=e=>{let{children:t}=e;const[n,a]=(0,r.useState)("USD"),[s,i]=(0,r.useState)(!0),l=async()=>{try{var e,t;const n=(null===(e=(await va()).data)||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.currency)||"USD";a(n)}catch(n){console.error("Failed to load currency settings:",n),a("USD")}finally{i(!1)}};(0,r.useEffect)(()=>{l()},[]);const o={currency:n,setCurrency:a,loading:s,formatAmount:function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?cs(e,n):os(e,n)},formatAmountWithCurrency:function(e,t){return arguments.length>2&&void 0!==arguments[2]&&arguments[2]?cs(e,t):os(e,t)},refreshCurrency:async()=>{await l()}};return(0,Xa.jsx)(ds.Provider,{value:o,children:t})},fs=e=>{let{size:t="sm"}=e;return(0,Xa.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-6 h-6",lg:"w-8 h-8"}[t]," animate-spin rounded-full border-2 border-gray-300 border-t-primary-600")})},hs=e=>{let{size:t="md",message:n="Loading..."}=e;return(0,Xa.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Xa.jsxs)("div",{className:"text-center",children:[(0,Xa.jsx)("div",{className:"".concat({sm:"w-4 h-4",md:"w-8 h-8",lg:"w-12 h-12",xl:"w-16 h-16"}[t]," animate-spin rounded-full border-4 border-gray-300 border-t-primary-600 mx-auto mb-4")}),(0,Xa.jsx)("p",{className:"text-gray-600",children:n})]})})};function xs(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(-1!==t.indexOf(r))continue;n[r]=e[r]}return n}(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],-1===t.indexOf(n)&&{}.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}const gs=["_f"],vs=["name"],ys=["_f"],bs=["ref","message","type"],ws=["formControl"];var js=e=>"checkbox"===e.type,Ns=e=>e instanceof Date,ks=e=>null==e;const Ss=e=>"object"===typeof e;var _s=e=>!ks(e)&&!Array.isArray(e)&&Ss(e)&&!Ns(e),Es=e=>_s(e)&&e.target?js(e.target)?e.target.checked:e.target.value:e,Cs=(e,t)=>e.has((e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e)(t)),Ts="undefined"!==typeof window&&"undefined"!==typeof window.HTMLElement&&"undefined"!==typeof document;function Os(e){let t;const n=Array.isArray(e),r="undefined"!==typeof FileList&&e instanceof FileList;if(e instanceof Date)t=new Date(e);else{if(Ts&&(e instanceof Blob||r)||!n&&!_s(e))return e;if(t=n?[]:Object.create(Object.getPrototypeOf(e)),n||(e=>{const t=e.constructor&&e.constructor.prototype;return _s(t)&&t.hasOwnProperty("isPrototypeOf")})(e))for(const n in e)e.hasOwnProperty(n)&&(t[n]=Os(e[n]));else t=e}return t}var Ps=e=>/^\w*$/.test(e),Fs=e=>void 0===e,Ls=e=>Array.isArray(e)?e.filter(Boolean):[],Rs=e=>Ls(e.replace(/["|']|\]/g,"").split(/\.|\[/)),As=(e,t,n)=>{if(!t||!_s(e))return n;const r=(Ps(t)?[t]:Rs(t)).reduce((e,t)=>ks(e)?e:e[t],e);return Fs(r)||r===e?Fs(e[t])?n:e[t]:r},Ds=e=>"boolean"===typeof e,Is=(e,t,n)=>{let r=-1;const a=Ps(t)?[t]:Rs(t),s=a.length,i=s-1;for(;++r<s;){const t=a[r];let s=n;if(r!==i){const n=e[t];s=_s(n)||Array.isArray(n)?n:isNaN(+a[r+1])?{}:[]}if("__proto__"===t||"constructor"===t||"prototype"===t)return;e[t]=s,e=e[t]}};const zs="blur",Ms="focusout",Us="onBlur",Bs="onChange",Vs="onSubmit",Hs="onTouched",qs="all",$s="max",Ws="min",Ks="maxLength",Zs="minLength",Gs="pattern",Qs="required",Ys="validate",Js=r.createContext(null);Js.displayName="HookFormContext";var Xs=function(e,t,n){let r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];const a={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(a,s,{get:()=>{const a=s;return t._proxyFormState[a]!==qs&&(t._proxyFormState[a]=!r||qs),n&&(n[a]=!0),e[a]}});return a};const ei="undefined"!==typeof window?r.useLayoutEffect:r.useEffect;var ti=e=>"string"===typeof e,ni=(e,t,n,r,a)=>ti(e)?(r&&t.watch.add(e),As(n,e,a)):Array.isArray(e)?e.map(e=>(r&&t.watch.add(e),As(n,e))):(r&&(t.watchAll=!0),n),ri=e=>ks(e)||!Ss(e);function ai(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new WeakSet;if(ri(e)||ri(t))return e===t;if(Ns(e)&&Ns(t))return e.getTime()===t.getTime();const r=Object.keys(e),a=Object.keys(t);if(r.length!==a.length)return!1;if(n.has(e)||n.has(t))return!0;n.add(e),n.add(t);for(const s of r){const r=e[s];if(!a.includes(s))return!1;if("ref"!==s){const e=t[s];if(Ns(r)&&Ns(e)||_s(r)&&_s(e)||Array.isArray(r)&&Array.isArray(e)?!ai(r,e,n):r!==e)return!1}}return!0}var si=(e,t,n,r,a)=>t?Ne(Ne({},n[e]),{},{types:Ne(Ne({},n[e]&&n[e].types?n[e].types:{}),{},{[r]:a||!0})}):{},ii=e=>Array.isArray(e)?e:[e],li=()=>{let e=[];return{get observers(){return e},next:t=>{for(const n of e)n.next&&n.next(t)},subscribe:t=>(e.push(t),{unsubscribe:()=>{e=e.filter(e=>e!==t)}}),unsubscribe:()=>{e=[]}}},oi=e=>_s(e)&&!Object.keys(e).length,ci=e=>"file"===e.type,ui=e=>"function"===typeof e,di=e=>{if(!Ts)return!1;const t=e?e.ownerDocument:0;return e instanceof(t&&t.defaultView?t.defaultView.HTMLElement:HTMLElement)},mi=e=>"select-multiple"===e.type,pi=e=>"radio"===e.type,fi=e=>di(e)&&e.isConnected;function hi(e,t){const n=Array.isArray(t)?t:Ps(t)?[t]:Rs(t),r=1===n.length?e:function(e,t){const n=t.slice(0,-1).length;let r=0;for(;r<n;)e=Fs(e)?r++:e[t[r++]];return e}(e,n),a=n.length-1,s=n[a];return r&&delete r[s],0!==a&&(_s(r)&&oi(r)||Array.isArray(r)&&function(e){for(const t in e)if(e.hasOwnProperty(t)&&!Fs(e[t]))return!1;return!0}(r))&&hi(e,n.slice(0,-1)),e}var xi=e=>{for(const t in e)if(ui(e[t]))return!0;return!1};function gi(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=Array.isArray(e);if(_s(e)||n)for(const r in e)Array.isArray(e[r])||_s(e[r])&&!xi(e[r])?(t[r]=Array.isArray(e[r])?[]:{},gi(e[r],t[r])):ks(e[r])||(t[r]=!0);return t}function vi(e,t,n){const r=Array.isArray(e);if(_s(e)||r)for(const a in e)Array.isArray(e[a])||_s(e[a])&&!xi(e[a])?Fs(t)||ri(n[a])?n[a]=Array.isArray(e[a])?gi(e[a],[]):Ne({},gi(e[a])):vi(e[a],ks(t)?{}:t[a],n[a]):n[a]=!ai(e[a],t[a]);return n}var yi=(e,t)=>vi(e,t,gi(t));const bi={value:!1,isValid:!1},wi={value:!0,isValid:!0};var ji=e=>{if(Array.isArray(e)){if(e.length>1){const t=e.filter(e=>e&&e.checked&&!e.disabled).map(e=>e.value);return{value:t,isValid:!!t.length}}return e[0].checked&&!e[0].disabled?e[0].attributes&&!Fs(e[0].attributes.value)?Fs(e[0].value)||""===e[0].value?wi:{value:e[0].value,isValid:!0}:wi:bi}return bi},Ni=(e,t)=>{let{valueAsNumber:n,valueAsDate:r,setValueAs:a}=t;return Fs(e)?e:n?""===e?NaN:e?+e:e:r&&ti(e)?new Date(e):a?a(e):e};const ki={isValid:!1,value:null};var Si=e=>Array.isArray(e)?e.reduce((e,t)=>t&&t.checked&&!t.disabled?{isValid:!0,value:t.value}:e,ki):ki;function _i(e){const t=e.ref;return ci(t)?t.files:pi(t)?Si(e.refs).value:mi(t)?[...t.selectedOptions].map(e=>{let{value:t}=e;return t}):js(t)?ji(e.refs).value:Ni(Fs(t.value)?e.ref.value:t.value,e)}var Ei=e=>e instanceof RegExp,Ci=e=>Fs(e)?e:Ei(e)?e.source:_s(e)?Ei(e.value)?e.value.source:e.value:e,Ti=e=>({isOnSubmit:!e||e===Vs,isOnBlur:e===Us,isOnChange:e===Bs,isOnAll:e===qs,isOnTouch:e===Hs});const Oi="AsyncFunction";var Pi=e=>!!e&&!!e.validate&&!!(ui(e.validate)&&e.validate.constructor.name===Oi||_s(e.validate)&&Object.values(e.validate).find(e=>e.constructor.name===Oi)),Fi=(e,t,n)=>!n&&(t.watchAll||t.watch.has(e)||[...t.watch].some(t=>e.startsWith(t)&&/^\.\w+/.test(e.slice(t.length))));const Li=(e,t,n,r)=>{for(const a of n||Object.keys(e)){const n=As(e,a);if(n){const{_f:e}=n,s=xs(n,gs);if(e){if(e.refs&&e.refs[0]&&t(e.refs[0],a)&&!r)return!0;if(e.ref&&t(e.ref,e.name)&&!r)return!0;if(Li(s,t))break}else if(_s(s)&&Li(s,t))break}}};function Ri(e,t,n){const r=As(e,n);if(r||Ps(n))return{error:r,name:n};const a=n.split(".");for(;a.length;){const r=a.join("."),s=As(t,r),i=As(e,r);if(s&&!Array.isArray(s)&&n!==r)return{name:n};if(i&&i.type)return{name:r,error:i};if(i&&i.root&&i.root.type)return{name:"".concat(r,".root"),error:i.root};a.pop()}return{name:n}}var Ai=(e,t,n)=>{const r=ii(As(e,n));return Is(r,"root",t[n]),Is(e,n,r),e},Di=e=>ti(e);function Ii(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"validate";if(Di(e)||Array.isArray(e)&&e.every(Di)||Ds(e)&&!e)return{type:n,message:Di(e)?e:"",ref:t}}var zi=e=>_s(e)&&!Ei(e)?e:{value:e,message:""},Mi=async(e,t,n,r,a,s)=>{const{ref:i,refs:l,required:o,maxLength:c,minLength:u,min:d,max:m,pattern:p,validate:f,name:h,valueAsNumber:x,mount:g}=e._f,v=As(n,h);if(!g||t.has(h))return{};const y=l?l[0]:i,b=e=>{a&&y.reportValidity&&(y.setCustomValidity(Ds(e)?"":e||""),y.reportValidity())},w={},j=pi(i),N=js(i),k=j||N,S=(x||ci(i))&&Fs(i.value)&&Fs(v)||di(i)&&""===i.value||""===v||Array.isArray(v)&&!v.length,_=si.bind(null,h,r,w),E=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Ks,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Zs;const s=e?t:n;w[h]=Ne({type:e?r:a,message:s,ref:i},_(e?r:a,s))};if(s?!Array.isArray(v)||!v.length:o&&(!k&&(S||ks(v))||Ds(v)&&!v||N&&!ji(l).isValid||j&&!Si(l).isValid)){const{value:e,message:t}=Di(o)?{value:!!o,message:o}:zi(o);if(e&&(w[h]=Ne({type:Qs,message:t,ref:y},_(Qs,t)),!r))return b(t),w}if(!S&&(!ks(d)||!ks(m))){let e,t;const n=zi(m),a=zi(d);if(ks(v)||isNaN(v)){const r=i.valueAsDate||new Date(v),s=e=>new Date((new Date).toDateString()+" "+e),l="time"==i.type,o="week"==i.type;ti(n.value)&&v&&(e=l?s(v)>s(n.value):o?v>n.value:r>new Date(n.value)),ti(a.value)&&v&&(t=l?s(v)<s(a.value):o?v<a.value:r<new Date(a.value))}else{const r=i.valueAsNumber||(v?+v:v);ks(n.value)||(e=r>n.value),ks(a.value)||(t=r<a.value)}if((e||t)&&(E(!!e,n.message,a.message,$s,Ws),!r))return b(w[h].message),w}if((c||u)&&!S&&(ti(v)||s&&Array.isArray(v))){const e=zi(c),t=zi(u),n=!ks(e.value)&&v.length>+e.value,a=!ks(t.value)&&v.length<+t.value;if((n||a)&&(E(n,e.message,t.message),!r))return b(w[h].message),w}if(p&&!S&&ti(v)){const{value:e,message:t}=zi(p);if(Ei(e)&&!v.match(e)&&(w[h]=Ne({type:Gs,message:t,ref:i},_(Gs,t)),!r))return b(t),w}if(f)if(ui(f)){const e=Ii(await f(v,n),y);if(e&&(w[h]=Ne(Ne({},e),_(Ys,e.message)),!r))return b(e.message),w}else if(_s(f)){let e={};for(const t in f){if(!oi(e)&&!r)break;const a=Ii(await f[t](v,n),y,t);a&&(e=Ne(Ne({},a),_(t,a.message)),b(a.message),r&&(w[h]=e))}if(!oi(e)&&(w[h]=Ne({ref:y},e),!r))return w}return b(!0),w};const Ui={mode:Vs,reValidateMode:Bs,shouldFocusError:!0};function Bi(){let e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=Ne(Ne({},Ui),t),r={submitCount:0,isDirty:!1,isReady:!1,isLoading:ui(n.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:n.errors||{},disabled:n.disabled||!1},a={},s=(_s(n.defaultValues)||_s(n.values))&&Os(n.defaultValues||n.values)||{},i=n.shouldUnregister?{}:Os(s),l={action:!1,mount:!1,watch:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},c=0;const u={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let d=Ne({},u);const m={array:li(),state:li()},p=n.criteriaMode===qs,f=async e=>{if(!n.disabled&&(u.isValid||d.isValid||e)){const e=n.resolver?oi((await y()).errors):await b(a,!0);e!==r.isValid&&m.state.next({isValid:e})}},h=(e,t)=>{!n.disabled&&(u.isValidating||u.validatingFields||d.isValidating||d.validatingFields)&&((e||Array.from(o.mount)).forEach(e=>{e&&(t?Is(r.validatingFields,e,t):hi(r.validatingFields,e))}),m.state.next({validatingFields:r.validatingFields,isValidating:!oi(r.validatingFields)}))},x=(e,t,n,r)=>{const o=As(a,e);if(o){const a=As(i,e,Fs(n)?As(s,e):n);Fs(a)||r&&r.defaultChecked||t?Is(i,e,t?a:_i(o._f)):N(e,a),l.mount&&f()}},g=(e,t,a,i,l)=>{let o=!1,c=!1;const p={name:e};if(!n.disabled){if(!a||i){(u.isDirty||d.isDirty)&&(c=r.isDirty,r.isDirty=p.isDirty=w(),o=c!==p.isDirty);const n=ai(As(s,e),t);c=!!As(r.dirtyFields,e),n?hi(r.dirtyFields,e):Is(r.dirtyFields,e,!0),p.dirtyFields=r.dirtyFields,o=o||(u.dirtyFields||d.dirtyFields)&&c!==!n}if(a){const t=As(r.touchedFields,e);t||(Is(r.touchedFields,e,a),p.touchedFields=r.touchedFields,o=o||(u.touchedFields||d.touchedFields)&&t!==a)}o&&l&&m.state.next(p)}return o?p:{}},v=(t,a,s,i)=>{const l=As(r.errors,t),o=(u.isValid||d.isValid)&&Ds(a)&&r.isValid!==a;var p;if(n.delayError&&s?(p=()=>((e,t)=>{Is(r.errors,e,t),m.state.next({errors:r.errors})})(t,s),e=e=>{clearTimeout(c),c=setTimeout(p,e)},e(n.delayError)):(clearTimeout(c),e=null,s?Is(r.errors,t,s):hi(r.errors,t)),(s?!ai(l,s):l)||!oi(i)||o){const e=Ne(Ne(Ne({},i),o&&Ds(a)?{isValid:a}:{}),{},{errors:r.errors,name:t});r=Ne(Ne({},r),e),m.state.next(e)}},y=async e=>{h(e,!0);const t=await n.resolver(i,n.context,((e,t,n,r)=>{const a={};for(const s of e){const e=As(t,s);e&&Is(a,s,e._f)}return{criteriaMode:n,names:[...e],fields:a,shouldUseNativeValidation:r}})(e||o.mount,a,n.criteriaMode,n.shouldUseNativeValidation));return h(e),t},b=async function(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{valid:!0};for(const s in e){const l=e[s];if(l){const{_f:e}=l,c=xs(l,ys);if(e){const c=o.array.has(e.name),d=l._f&&Pi(l._f);d&&u.validatingFields&&h([s],!0);const m=await Mi(l,o.disabled,i,p,n.shouldUseNativeValidation&&!t,c);if(d&&u.validatingFields&&h([s]),m[e.name]&&(a.valid=!1,t))break;!t&&(As(m,e.name)?c?Ai(r.errors,m,e.name):Is(r.errors,e.name,m[e.name]):hi(r.errors,e.name))}!oi(c)&&await b(c,t,a)}}return a.valid},w=(e,t)=>!n.disabled&&(e&&t&&Is(i,e,t),!ai(T(),s)),j=(e,t,n)=>ni(e,o,Ne({},l.mount?i:Fs(t)?s:ti(e)?{[e]:t}:t),n,t),N=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=As(a,e);let s=t;if(r){const n=r._f;n&&(!n.disabled&&Is(i,e,Ni(t,n)),s=di(n.ref)&&ks(t)?"":t,mi(n.ref)?[...n.ref.options].forEach(e=>e.selected=s.includes(e.value)):n.refs?js(n.ref)?n.refs.forEach(e=>{e.defaultChecked&&e.disabled||(Array.isArray(s)?e.checked=!!s.find(t=>t===e.value):e.checked=s===e.value||!!s)}):n.refs.forEach(e=>e.checked=e.value===s):ci(n.ref)?n.ref.value="":(n.ref.value=s,n.ref.type||m.state.next({name:e,values:Os(i)})))}(n.shouldDirty||n.shouldTouch)&&g(e,s,n.shouldTouch,n.shouldDirty,!0),n.shouldValidate&&C(e)},k=(e,t,n)=>{for(const r in t){if(!t.hasOwnProperty(r))return;const s=t[r],i=e+"."+r,l=As(a,i);(o.array.has(e)||_s(s)||l&&!l._f)&&!Ns(s)?k(i,s,n):N(i,s,n)}},S=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const c=As(a,e),p=o.array.has(e),f=Os(t);Is(i,e,f),p?(m.array.next({name:e,values:Os(i)}),(u.isDirty||u.dirtyFields||d.isDirty||d.dirtyFields)&&n.shouldDirty&&m.state.next({name:e,dirtyFields:yi(s,i),isDirty:w(e,f)})):!c||c._f||ks(f)?N(e,f,n):k(e,f,n),Fi(e,o)&&m.state.next(Ne(Ne({},r),{},{name:e})),m.state.next({name:l.mount?e:void 0,values:Os(i)})},_=async t=>{l.mount=!0;const s=t.target;let c=s.name,x=!0;const w=As(a,c),j=e=>{x=Number.isNaN(e)||Ns(e)&&isNaN(e.getTime())||ai(e,As(i,c,e))},N=Ti(n.mode),k=Ti(n.reValidateMode);if(w){let l,_;const E=s.type?_i(w._f):Es(t),T=t.type===zs||t.type===Ms,O=!((S=w._f).mount&&(S.required||S.min||S.max||S.maxLength||S.minLength||S.pattern||S.validate))&&!n.resolver&&!As(r.errors,c)&&!w._f.deps||((e,t,n,r,a)=>!a.isOnAll&&(!n&&a.isOnTouch?!(t||e):(n?r.isOnBlur:a.isOnBlur)?!e:!(n?r.isOnChange:a.isOnChange)||e))(T,As(r.touchedFields,c),r.isSubmitted,k,N),P=Fi(c,o,T);Is(i,c,E),T?s&&s.readOnly||(w._f.onBlur&&w._f.onBlur(t),e&&e(0)):w._f.onChange&&w._f.onChange(t);const F=g(c,E,T),L=!oi(F)||P;if(!T&&m.state.next({name:c,type:t.type,values:Os(i)}),O)return(u.isValid||d.isValid)&&("onBlur"===n.mode?T&&f():T||f()),L&&m.state.next(Ne({name:c},P?{}:F));if(!T&&P&&m.state.next(Ne({},r)),n.resolver){const{errors:e}=await y([c]);if(j(E),x){const t=Ri(r.errors,a,c),n=Ri(e,a,t.name||c);l=n.error,c=n.name,_=oi(e)}}else h([c],!0),l=(await Mi(w,o.disabled,i,p,n.shouldUseNativeValidation))[c],h([c]),j(E),x&&(l?_=!1:(u.isValid||d.isValid)&&(_=await b(a,!0)));x&&(w._f.deps&&C(w._f.deps),v(c,_,l,F))}var S},E=(e,t)=>{if(As(r.errors,t)&&e.focus)return e.focus(),1},C=async function(e){let t,s,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const l=ii(e);if(n.resolver){const n=await(async e=>{const{errors:t}=await y(e);if(e)for(const n of e){const e=As(t,n);e?Is(r.errors,n,e):hi(r.errors,n)}else r.errors=t;return t})(Fs(e)?e:l);t=oi(n),s=e?!l.some(e=>As(n,e)):t}else e?(s=(await Promise.all(l.map(async e=>{const t=As(a,e);return await b(t&&t._f?{[e]:t}:t)}))).every(Boolean),(s||r.isValid)&&f()):s=t=await b(a);return m.state.next(Ne(Ne(Ne({},!ti(e)||(u.isValid||d.isValid)&&t!==r.isValid?{}:{name:e}),n.resolver||!e?{isValid:t}:{}),{},{errors:r.errors})),i.shouldFocus&&!s&&Li(a,E,e?l:o.mount),s},T=e=>{const t=Ne({},l.mount?i:s);return Fs(e)?t:ti(e)?As(t,e):e.map(e=>As(t,e))},O=(e,t)=>({invalid:!!As((t||r).errors,e),isDirty:!!As((t||r).dirtyFields,e),error:As((t||r).errors,e),isValidating:!!As(r.validatingFields,e),isTouched:!!As((t||r).touchedFields,e)}),P=(e,t,n)=>{const s=(As(a,e,{_f:{}})._f||{}).ref,i=As(r.errors,e)||{},{ref:l,message:o,type:c}=i,u=xs(i,bs);Is(r.errors,e,Ne(Ne(Ne({},u),t),{},{ref:s})),m.state.next({name:e,errors:r.errors,isValid:!1}),n&&n.shouldFocus&&s&&s.focus&&s.focus()},F=e=>m.state.subscribe({next:t=>{var n,a,l;n=e.name,a=t.name,l=e.exact,n&&a&&n!==a&&!ii(n).some(e=>e&&(l?e===a:e.startsWith(a)||a.startsWith(e)))||!((e,t,n,r)=>{n(e);const{name:a}=e,s=xs(e,vs);return oi(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(e=>t[e]===(!r||qs))})(t,e.formState||u,U,e.reRenderRoot)||e.callback(Ne(Ne(Ne({values:Ne({},i)},r),t),{},{defaultValues:s}))}}).unsubscribe,L=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};for(const l of e?ii(e):o.mount)o.mount.delete(l),o.array.delete(l),t.keepValue||(hi(a,l),hi(i,l)),!t.keepError&&hi(r.errors,l),!t.keepDirty&&hi(r.dirtyFields,l),!t.keepTouched&&hi(r.touchedFields,l),!t.keepIsValidating&&hi(r.validatingFields,l),!n.shouldUnregister&&!t.keepDefaultValue&&hi(s,l);m.state.next({values:Os(i)}),m.state.next(Ne(Ne({},r),t.keepDirty?{isDirty:w()}:{})),!t.keepIsValid&&f()},R=e=>{let{disabled:t,name:n}=e;(Ds(t)&&l.mount||t||o.disabled.has(n))&&(t?o.disabled.add(n):o.disabled.delete(n))},A=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=As(a,e);const i=Ds(t.disabled)||Ds(n.disabled);return Is(a,e,Ne(Ne({},r||{}),{},{_f:Ne(Ne({},r&&r._f?r._f:{ref:{name:e}}),{},{name:e,mount:!0},t)})),o.mount.add(e),r?R({disabled:Ds(t.disabled)?t.disabled:n.disabled,name:e}):x(e,!0,t.value),Ne(Ne(Ne({},i?{disabled:t.disabled||n.disabled}:{}),n.progressive?{required:!!t.required,min:Ci(t.min),max:Ci(t.max),minLength:Ci(t.minLength),maxLength:Ci(t.maxLength),pattern:Ci(t.pattern)}:{}),{},{name:e,onChange:_,onBlur:_,ref:i=>{if(i){A(e,t),r=As(a,e);const n=Fs(i.value)&&i.querySelectorAll&&i.querySelectorAll("input,select,textarea")[0]||i,l=(e=>pi(e)||js(e))(n),o=r._f.refs||[];if(l?o.find(e=>e===n):n===r._f.ref)return;Is(a,e,{_f:Ne(Ne({},r._f),l?{refs:[...o.filter(fi),n,...Array.isArray(As(s,e))?[{}]:[]],ref:{type:n.type,name:e}}:{ref:n})}),x(e,!1,void 0,n)}else r=As(a,e,{}),r._f&&(r._f.mount=!1),(n.shouldUnregister||t.shouldUnregister)&&(!Cs(o.array,e)||!l.action)&&o.unMount.add(e)}})},D=()=>n.shouldFocusError&&Li(a,E,o.mount),I=(e,t)=>async s=>{let l;s&&(s.preventDefault&&s.preventDefault(),s.persist&&s.persist());let c=Os(i);if(m.state.next({isSubmitting:!0}),n.resolver){const{errors:e,values:t}=await y();r.errors=e,c=Os(t)}else await b(a);if(o.disabled.size)for(const e of o.disabled)hi(c,e);if(hi(r.errors,"root"),oi(r.errors)){m.state.next({errors:{}});try{await e(c,s)}catch(u){l=u}}else t&&await t(Ne({},r.errors),s),D(),setTimeout(D);if(m.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:oi(r.errors)&&!l,submitCount:r.submitCount+1,errors:r.errors}),l)throw l},z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const c=e?Os(e):s,d=Os(c),p=oi(e),f=p?s:d;if(t.keepDefaultValues||(s=c),!t.keepValues){if(t.keepDirtyValues){const e=new Set([...o.mount,...Object.keys(yi(s,i))]);for(const t of Array.from(e))As(r.dirtyFields,t)?Is(f,t,As(i,t)):S(t,As(f,t))}else{if(Ts&&Fs(e))for(const e of o.mount){const t=As(a,e);if(t&&t._f){const e=Array.isArray(t._f.refs)?t._f.refs[0]:t._f.ref;if(di(e)){const t=e.closest("form");if(t){t.reset();break}}}}if(t.keepFieldsRef)for(const e of o.mount)S(e,As(f,e));else a={}}i=n.shouldUnregister?t.keepDefaultValues?Os(s):{}:Os(f),m.array.next({values:Ne({},f)}),m.state.next({values:Ne({},f)})}o={mount:t.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!u.isValid||!!t.keepIsValid||!!t.keepDirtyValues,l.watch=!!n.shouldUnregister,m.state.next({submitCount:t.keepSubmitCount?r.submitCount:0,isDirty:!p&&(t.keepDirty?r.isDirty:!(!t.keepDefaultValues||ai(e,s))),isSubmitted:!!t.keepIsSubmitted&&r.isSubmitted,dirtyFields:p?{}:t.keepDirtyValues?t.keepDefaultValues&&i?yi(s,i):r.dirtyFields:t.keepDefaultValues&&e?yi(s,e):t.keepDirty?r.dirtyFields:{},touchedFields:t.keepTouched?r.touchedFields:{},errors:t.keepErrors?r.errors:{},isSubmitSuccessful:!!t.keepIsSubmitSuccessful&&r.isSubmitSuccessful,isSubmitting:!1,defaultValues:s})},M=(e,t)=>z(ui(e)?e(i):e,t),U=e=>{r=Ne(Ne({},r),e)},B={control:{register:A,unregister:L,getFieldState:O,handleSubmit:I,setError:P,_subscribe:F,_runSchema:y,_focusError:D,_getWatch:j,_getDirty:w,_setValid:f,_setFieldArray:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],o=arguments.length>2?arguments[2]:void 0,c=arguments.length>3?arguments[3]:void 0,p=!(arguments.length>4&&void 0!==arguments[4])||arguments[4],f=!(arguments.length>5&&void 0!==arguments[5])||arguments[5];if(c&&o&&!n.disabled){if(l.action=!0,f&&Array.isArray(As(a,e))){const t=o(As(a,e),c.argA,c.argB);p&&Is(a,e,t)}if(f&&Array.isArray(As(r.errors,e))){const t=o(As(r.errors,e),c.argA,c.argB);p&&Is(r.errors,e,t),((e,t)=>{!Ls(As(e,t)).length&&hi(e,t)})(r.errors,e)}if((u.touchedFields||d.touchedFields)&&f&&Array.isArray(As(r.touchedFields,e))){const t=o(As(r.touchedFields,e),c.argA,c.argB);p&&Is(r.touchedFields,e,t)}(u.dirtyFields||d.dirtyFields)&&(r.dirtyFields=yi(s,i)),m.state.next({name:e,isDirty:w(e,t),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Is(i,e,t)},_setDisabledField:R,_setErrors:e=>{r.errors=e,m.state.next({errors:r.errors,isValid:!1})},_getFieldArray:e=>Ls(As(l.mount?i:s,e,n.shouldUnregister?As(s,e,[]):[])),_reset:z,_resetDefaultValues:()=>ui(n.defaultValues)&&n.defaultValues().then(e=>{M(e,n.resetOptions),m.state.next({isLoading:!1})}),_removeUnmounted:()=>{for(const e of o.unMount){const t=As(a,e);t&&(t._f.refs?t._f.refs.every(e=>!fi(e)):!fi(t._f.ref))&&L(e)}o.unMount=new Set},_disableForm:e=>{Ds(e)&&(m.state.next({disabled:e}),Li(a,(t,n)=>{const r=As(a,n);r&&(t.disabled=r._f.disabled||e,Array.isArray(r._f.refs)&&r._f.refs.forEach(t=>{t.disabled=r._f.disabled||e}))},0,!1))},_subjects:m,_proxyFormState:u,get _fields(){return a},get _formValues(){return i},get _state(){return l},set _state(e){l=e},get _defaultValues(){return s},get _names(){return o},set _names(e){o=e},get _formState(){return r},get _options(){return n},set _options(e){n=Ne(Ne({},n),e)}},subscribe:e=>(l.mount=!0,d=Ne(Ne({},d),e.formState),F(Ne(Ne({},e),{},{formState:d}))),trigger:C,register:A,handleSubmit:I,watch:(e,t)=>ui(e)?m.state.subscribe({next:n=>"values"in n&&e(j(void 0,t),n)}):j(e,t,!0),setValue:S,getValues:T,reset:M,resetField:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};As(a,e)&&(Fs(t.defaultValue)?S(e,Os(As(s,e))):(S(e,t.defaultValue),Is(s,e,Os(t.defaultValue))),t.keepTouched||hi(r.touchedFields,e),t.keepDirty||(hi(r.dirtyFields,e),r.isDirty=t.defaultValue?w(e,Os(As(s,e))):w()),t.keepError||(hi(r.errors,e),u.isValid&&f()),m.state.next(Ne({},r)))},clearErrors:e=>{e&&ii(e).forEach(e=>hi(r.errors,e)),m.state.next({errors:e?r.errors:{}})},unregister:L,setError:P,setFocus:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const n=As(a,e),r=n&&n._f;if(r){const e=r.refs?r.refs[0]:r.ref;e.focus&&(e.focus(),t.shouldSelect&&ui(e.select)&&e.select())}},getFieldState:O};return Ne(Ne({},B),{},{formControl:B})}function Vi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=r.useRef(void 0),n=r.useRef(void 0),[a,s]=r.useState({isDirty:!1,isValidating:!1,isLoading:ui(e.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1,isReady:!1,defaultValues:ui(e.defaultValues)?void 0:e.defaultValues});if(!t.current)if(e.formControl)t.current=Ne(Ne({},e.formControl),{},{formState:a}),e.defaultValues&&!ui(e.defaultValues)&&e.formControl.reset(e.defaultValues,e.resetOptions);else{const n=Bi(e),{formControl:r}=n,s=xs(n,ws);t.current=Ne(Ne({},s),{},{formState:a})}const i=t.current.control;return i._options=e,ei(()=>{const e=i._subscribe({formState:i._proxyFormState,callback:()=>s(Ne({},i._formState)),reRenderRoot:!0});return s(e=>Ne(Ne({},e),{},{isReady:!0})),i._formState.isReady=!0,e},[i]),r.useEffect(()=>i._disableForm(e.disabled),[i,e.disabled]),r.useEffect(()=>{e.mode&&(i._options.mode=e.mode),e.reValidateMode&&(i._options.reValidateMode=e.reValidateMode)},[i,e.mode,e.reValidateMode]),r.useEffect(()=>{e.errors&&(i._setErrors(e.errors),i._focusError())},[i,e.errors]),r.useEffect(()=>{e.shouldUnregister&&i._subjects.state.next({values:i._getWatch()})},[i,e.shouldUnregister]),r.useEffect(()=>{if(i._proxyFormState.isDirty){const e=i._getDirty();e!==a.isDirty&&i._subjects.state.next({isDirty:e})}},[i,a.isDirty]),r.useEffect(()=>{e.values&&!ai(e.values,n.current)?(i._reset(e.values,Ne({keepFieldsRef:!0},i._options.resetOptions)),n.current=e.values,s(e=>Ne({},e))):i._resetDefaultValues()},[i,e.values]),r.useEffect(()=>{i._state.mount||(i._setValid(),i._state.mount=!0),i._state.watch&&(i._state.watch=!1,i._subjects.state.next(Ne({},i._formState))),i._removeUnmounted()}),t.current.formState=Xs(a,i),t.current}const Hi=(e,t,n)=>{if(e&&"reportValidity"in e){const r=As(n,t);e.setCustomValidity(r&&r.message||""),e.reportValidity()}},qi=(e,t)=>{for(const n in t.fields){const r=t.fields[n];r&&r.ref&&"reportValidity"in r.ref?Hi(r.ref,n,e):r.refs&&r.refs.forEach(t=>Hi(t,n,e))}},$i=(e,t)=>{t.shouldUseNativeValidation&&qi(e,t);const n={};for(const r in e){const a=As(t.fields,r),s=Object.assign(e[r]||{},{ref:a&&a.ref});if(Wi(t.names||Object.keys(e),r)){const e=Object.assign({},As(n,r));Is(e,"root",s),Is(n,r,e)}else Is(n,r,s)}return n},Wi=(e,t)=>e.some(e=>e.startsWith(t+"."));function Ki(e,t,n){return void 0===t&&(t={}),void 0===n&&(n={}),function(r,a,s){try{return Promise.resolve(function(i,l){try{var o=(t.context,Promise.resolve(e["sync"===n.mode?"validateSync":"validate"](r,Object.assign({abortEarly:!1},t,{context:a}))).then(function(e){return s.shouldUseNativeValidation&&qi({},s),{values:n.raw?r:e,errors:{}}}))}catch(Jn){return l(Jn)}return o&&o.then?o.then(void 0,l):o}(0,function(e){if(!e.inner)throw e;return{values:{},errors:$i((t=e,n=!s.shouldUseNativeValidation&&"all"===s.criteriaMode,(t.inner||[]).reduce(function(e,t){if(e[t.path]||(e[t.path]={message:t.message,type:t.type}),n){var r=e[t.path].types,a=r&&r[t.type];e[t.path]=si(t.path,n,e,t.type,a?[].concat(a,t.message):t.message)}return e},{})),s)};var t,n}))}catch(Jn){return Promise.reject(Jn)}}}var Zi=n(575),Gi=n(517),Qi=n(704),Yi=n.n(Qi);const Ji=Object.prototype.toString,Xi=Error.prototype.toString,el=RegExp.prototype.toString,tl="undefined"!==typeof Symbol?Symbol.prototype.toString:()=>"",nl=/^Symbol\((.*)\)(.*)$/;function rl(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e||!0===e||!1===e)return""+e;const n=typeof e;if("number"===n)return function(e){return e!=+e?"NaN":0===e&&1/e<0?"-0":""+e}(e);if("string"===n)return t?'"'.concat(e,'"'):e;if("function"===n)return"[Function "+(e.name||"anonymous")+"]";if("symbol"===n)return tl.call(e).replace(nl,"Symbol($1)");const r=Ji.call(e).slice(8,-1);return"Date"===r?isNaN(e.getTime())?""+e:e.toISOString(e):"Error"===r||e instanceof Error?"["+Xi.call(e)+"]":"RegExp"===r?el.call(e):null}function al(e,t){let n=rl(e,t);return null!==n?n:JSON.stringify(e,function(e,n){let r=rl(this[e],t);return null!==r?r:n},2)}function sl(e){return null==e?[]:[].concat(e)}let il,ll,ol,cl=/\$\{\s*(\w+)\s*\}/g;il=Symbol.toStringTag;class ul{constructor(e,t,n,r){this.name=void 0,this.message=void 0,this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=void 0,this.inner=void 0,this[il]="Error",this.name="ValidationError",this.value=t,this.path=n,this.type=r,this.errors=[],this.inner=[],sl(e).forEach(e=>{if(dl.isError(e)){this.errors.push(...e.errors);const t=e.inner.length?e.inner:[e];this.inner.push(...t)}else this.errors.push(e)}),this.message=this.errors.length>1?"".concat(this.errors.length," errors occurred"):this.errors[0]}}ll=Symbol.hasInstance,ol=Symbol.toStringTag;class dl extends Error{static formatError(e,t){const n=t.label||t.path||"this";return t=Object.assign({},t,{path:n,originalPath:t.path}),"string"===typeof e?e.replace(cl,(e,n)=>al(t[n])):"function"===typeof e?e(t):e}static isError(e){return e&&"ValidationError"===e.name}constructor(e,t,n,r,a){const s=new ul(e,t,n,r);if(a)return s;super(),this.value=void 0,this.path=void 0,this.type=void 0,this.params=void 0,this.errors=[],this.inner=[],this[ol]="Error",this.name=s.name,this.message=s.message,this.type=s.type,this.value=s.value,this.path=s.path,this.errors=s.errors,this.inner=s.inner,Error.captureStackTrace&&Error.captureStackTrace(this,dl)}static[ll](e){return ul[Symbol.hasInstance](e)||super[Symbol.hasInstance](e)}}let ml={default:"${path} is invalid",required:"${path} is a required field",defined:"${path} must be defined",notNull:"${path} cannot be null",oneOf:"${path} must be one of the following values: ${values}",notOneOf:"${path} must not be one of the following values: ${values}",notType:e=>{let{path:t,type:n,value:r,originalValue:a}=e;const s=null!=a&&a!==r?" (cast from the value `".concat(al(a,!0),"`)."):".";return"mixed"!==n?"".concat(t," must be a `").concat(n,"` type, ")+"but the final value was: `".concat(al(r,!0),"`")+s:"".concat(t," must match the configured type. ")+"The validated value was: `".concat(al(r,!0),"`")+s}},pl={length:"${path} must be exactly ${length} characters",min:"${path} must be at least ${min} characters",max:"${path} must be at most ${max} characters",matches:'${path} must match the following: "${regex}"',email:"${path} must be a valid email",url:"${path} must be a valid URL",uuid:"${path} must be a valid UUID",datetime:"${path} must be a valid ISO date-time",datetime_precision:"${path} must be a valid ISO date-time with a sub-second precision of exactly ${precision} digits",datetime_offset:'${path} must be a valid ISO date-time with UTC "Z" timezone',trim:"${path} must be a trimmed string",lowercase:"${path} must be a lowercase string",uppercase:"${path} must be a upper case string"},fl={min:"${path} must be greater than or equal to ${min}",max:"${path} must be less than or equal to ${max}",lessThan:"${path} must be less than ${less}",moreThan:"${path} must be greater than ${more}",positive:"${path} must be a positive number",negative:"${path} must be a negative number",integer:"${path} must be an integer"},hl={min:"${path} field must be later than ${min}",max:"${path} field must be at earlier than ${max}"},xl={isValue:"${path} field must be ${value}"},gl={noUnknown:"${path} field has unspecified keys: ${unknown}",exact:"${path} object contains unknown properties: ${properties}"},vl={min:"${path} field must have at least ${min} items",max:"${path} field must have less than or equal to ${max} items",length:"${path} must have ${length} items"},yl={notType:e=>{const{path:t,value:n,spec:r}=e,a=r.types.length;if(Array.isArray(n)){if(n.length<a)return"".concat(t," tuple value has too few items, expected a length of ").concat(a," but got ").concat(n.length," for value: `").concat(al(n,!0),"`");if(n.length>a)return"".concat(t," tuple value has too many items, expected a length of ").concat(a," but got ").concat(n.length," for value: `").concat(al(n,!0),"`")}return dl.formatError(ml.notType,e)}};Object.assign(Object.create(null),{mixed:ml,string:pl,number:fl,date:hl,object:gl,array:vl,boolean:xl,tuple:yl});const bl=e=>e&&e.__isYupSchema__;class wl{static fromOptions(e,t){if(!t.then&&!t.otherwise)throw new TypeError("either `then:` or `otherwise:` is required for `when()` conditions");let{is:n,then:r,otherwise:a}=t,s="function"===typeof n?n:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return t.every(e=>e===n)};return new wl(e,(e,t)=>{var n;let i=s(...e)?r:a;return null!=(n=null==i?void 0:i(t))?n:t})}constructor(e,t){this.fn=void 0,this.refs=e,this.refs=e,this.fn=t}resolve(e,t){let n=this.refs.map(e=>e.getValue(null==t?void 0:t.value,null==t?void 0:t.parent,null==t?void 0:t.context)),r=this.fn(n,e,t);if(void 0===r||r===e)return e;if(!bl(r))throw new TypeError("conditions must return a schema object");return r.resolve(t)}}const jl="$",Nl=".";class kl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this.key=void 0,this.isContext=void 0,this.isValue=void 0,this.isSibling=void 0,this.path=void 0,this.getter=void 0,this.map=void 0,"string"!==typeof e)throw new TypeError("ref must be a string, got: "+e);if(this.key=e.trim(),""===e)throw new TypeError("ref must be a non-empty string");this.isContext=this.key[0]===jl,this.isValue=this.key[0]===Nl,this.isSibling=!this.isContext&&!this.isValue;let n=this.isContext?jl:this.isValue?Nl:"";this.path=this.key.slice(n.length),this.getter=this.path&&(0,Zi.getter)(this.path,!0),this.map=t.map}getValue(e,t,n){let r=this.isContext?n:this.isValue?e:t;return this.getter&&(r=this.getter(r||{})),this.map&&(r=this.map(r)),r}cast(e,t){return this.getValue(e,null==t?void 0:t.parent,null==t?void 0:t.context)}resolve(){return this}describe(){return{type:"ref",key:this.key}}toString(){return"Ref(".concat(this.key,")")}static isRef(e){return e&&e.__isYupRef}}kl.prototype.__isYupRef=!0;const Sl=e=>null==e;function _l(e){function t(t,n,r){let{value:a,path:s="",options:i,originalValue:l,schema:o}=t;const{name:c,test:u,params:d,message:m,skipAbsent:p}=e;let{parent:f,context:h,abortEarly:x=o.spec.abortEarly,disableStackTrace:g=o.spec.disableStackTrace}=i;const v={value:a,parent:f,context:h};function y(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const t=El(Object.assign({value:a,originalValue:l,label:o.spec.label,path:e.path||s,spec:o.spec,disableStackTrace:e.disableStackTrace||g},d,e.params),v),n=new dl(dl.formatError(e.message||m,t),a,t.path,e.type||c,t.disableStackTrace);return n.params=t,n}const b=x?n:r;let w={path:s,parent:f,type:c,from:i.from,createError:y,resolve:e=>Cl(e,v),options:i,originalValue:l,schema:o};const j=e=>{dl.isError(e)?b(e):e?r(null):b(y())},N=e=>{dl.isError(e)?b(e):n(e)};if(p&&Sl(a))return j(!0);let k;try{var S;if(k=u.call(w,a,w),"function"===typeof(null==(S=k)?void 0:S.then)){if(i.sync)throw new Error('Validation test of type: "'.concat(w.type,'" returned a Promise during a synchronous validate. ')+"This test will finish after the validate call has returned");return Promise.resolve(k).then(j,N)}}catch(_){return void N(_)}j(k)}return t.OPTIONS=e,t}function El(e,t){if(!e)return e;for(const n of Object.keys(e))e[n]=Cl(e[n],t);return e}function Cl(e,t){return kl.isRef(e)?e.getValue(t.value,t.parent,t.context):e}function Tl(e,t,n){let r,a,s,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return t?((0,Zi.forEach)(t,(l,o,c)=>{let u=o?l.slice(1,l.length-1):l,d="tuple"===(e=e.resolve({context:i,parent:r,value:n})).type,m=c?parseInt(u,10):0;if(e.innerType||d){if(d&&!c)throw new Error('Yup.reach cannot implicitly index into a tuple type. the path part "'.concat(s,'" must contain an index to the tuple element, e.g. "').concat(s,'[0]"'));if(n&&m>=n.length)throw new Error("Yup.reach cannot resolve an array item at index: ".concat(l,", in the path: ").concat(t,". ")+"because there is no value at that index. ");r=n,n=n&&n[m],e=d?e.spec.types[m]:e.innerType}if(!c){if(!e.fields||!e.fields[u])throw new Error("The schema does not contain the path: ".concat(t,". ")+"(failed at: ".concat(s,' which is a type: "').concat(e.type,'")'));r=n,n=n&&n[u],e=e.fields[u]}a=u,s=o?"["+l+"]":"."+l}),{schema:e,parent:r,parentPath:a}):{parent:r,parentPath:t,schema:e}}class Ol extends Set{describe(){const e=[];for(const t of this.values())e.push(kl.isRef(t)?t.describe():t);return e}resolveAll(e){let t=[];for(const n of this.values())t.push(e(n));return t}clone(){return new Ol(this.values())}merge(e,t){const n=this.clone();return e.forEach(e=>n.add(e)),t.forEach(e=>n.delete(e)),n}}function Pl(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Map;if(bl(e)||!e||"object"!==typeof e)return e;if(n.has(e))return n.get(e);if(e instanceof Date)t=new Date(e.getTime()),n.set(e,t);else if(e instanceof RegExp)t=new RegExp(e),n.set(e,t);else if(Array.isArray(e)){t=new Array(e.length),n.set(e,t);for(let r=0;r<e.length;r++)t[r]=Pl(e[r],n)}else if(e instanceof Map){t=new Map,n.set(e,t);for(const[r,a]of e.entries())t.set(r,Pl(a,n))}else if(e instanceof Set){t=new Set,n.set(e,t);for(const r of e)t.add(Pl(r,n))}else{if(!(e instanceof Object))throw Error("Unable to clone ".concat(e));t={},n.set(e,t);for(const[r,a]of Object.entries(e))t[r]=Pl(a,n)}return t}function Fl(e){if(null==e||!e.length)return;const t=[];let n="",r=!1,a=!1;for(let s=0;s<e.length;s++){const i=e[s];"["!==i||a?"]"!==i||a?'"'!==i?"."!==i||r||a?n+=i:n&&(t.push(n),n=""):a=!a:(n&&(/^\d+$/.test(n)?t.push(n):t.push(n.replace(/^"|"$/g,"")),n=""),r=!1):(n&&(t.push(...n.split(".").filter(Boolean)),n=""),r=!0)}return n&&t.push(...n.split(".").filter(Boolean)),t}function Ll(e,t){var n;if((null==(n=e.inner)||!n.length)&&e.errors.length)return function(e,t){const n=t?"".concat(t,".").concat(e.path):e.path;return e.errors.map(e=>({message:e,path:Fl(n)}))}(e,t);const r=t?"".concat(t,".").concat(e.path):e.path;return e.inner.flatMap(e=>Ll(e,r))}class Rl{constructor(e){this.type=void 0,this.deps=[],this.tests=void 0,this.transforms=void 0,this.conditions=[],this._mutate=void 0,this.internalTests={},this._whitelist=new Ol,this._blacklist=new Ol,this.exclusiveTests=Object.create(null),this._typeCheck=void 0,this.spec=void 0,this.tests=[],this.transforms=[],this.withMutation(()=>{this.typeError(ml.notType)}),this.type=e.type,this._typeCheck=e.check,this.spec=Object.assign({strip:!1,strict:!1,abortEarly:!0,recursive:!0,disableStackTrace:!1,nullable:!1,optional:!0,coerce:!0},null==e?void 0:e.spec),this.withMutation(e=>{e.nonNullable()})}get _type(){return this.type}clone(e){if(this._mutate)return e&&Object.assign(this.spec,e),this;const t=Object.create(Object.getPrototypeOf(this));return t.type=this.type,t._typeCheck=this._typeCheck,t._whitelist=this._whitelist.clone(),t._blacklist=this._blacklist.clone(),t.internalTests=Object.assign({},this.internalTests),t.exclusiveTests=Object.assign({},this.exclusiveTests),t.deps=[...this.deps],t.conditions=[...this.conditions],t.tests=[...this.tests],t.transforms=[...this.transforms],t.spec=Pl(Object.assign({},this.spec,e)),t}label(e){let t=this.clone();return t.spec.label=e,t}meta(){if(0===arguments.length)return this.spec.meta;let e=this.clone();return e.spec.meta=Object.assign(e.spec.meta||{},arguments.length<=0?void 0:arguments[0]),e}withMutation(e){let t=this._mutate;this._mutate=!0;let n=e(this);return this._mutate=t,n}concat(e){if(!e||e===this)return this;if(e.type!==this.type&&"mixed"!==this.type)throw new TypeError("You cannot `concat()` schema's of different types: ".concat(this.type," and ").concat(e.type));let t=this,n=e.clone();const r=Object.assign({},t.spec,n.spec);return n.spec=r,n.internalTests=Object.assign({},t.internalTests,n.internalTests),n._whitelist=t._whitelist.merge(e._whitelist,e._blacklist),n._blacklist=t._blacklist.merge(e._blacklist,e._whitelist),n.tests=t.tests,n.exclusiveTests=t.exclusiveTests,n.withMutation(t=>{e.tests.forEach(e=>{t.test(e.OPTIONS)})}),n.transforms=[...t.transforms,...n.transforms],n}isType(e){return null==e?!(!this.spec.nullable||null!==e)||!(!this.spec.optional||void 0!==e):this._typeCheck(e)}resolve(e){let t=this;if(t.conditions.length){let n=t.conditions;t=t.clone(),t.conditions=[],t=n.reduce((t,n)=>n.resolve(t,e),t),t=t.resolve(e)}return t}resolveOptions(e){var t,n,r,a;return Object.assign({},e,{from:e.from||[],strict:null!=(t=e.strict)?t:this.spec.strict,abortEarly:null!=(n=e.abortEarly)?n:this.spec.abortEarly,recursive:null!=(r=e.recursive)?r:this.spec.recursive,disableStackTrace:null!=(a=e.disableStackTrace)?a:this.spec.disableStackTrace})}cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.resolve(Object.assign({value:e},t)),r="ignore-optionality"===t.assert,a=n._cast(e,t);if(!1!==t.assert&&!n.isType(a)){if(r&&Sl(a))return a;let s=al(e),i=al(a);throw new TypeError("The value of ".concat(t.path||"field"," could not be cast to a value ")+'that satisfies the schema type: "'.concat(n.type,'". \n\n')+"attempted value: ".concat(s," \n")+(i!==s?"result of cast: ".concat(i):""))}return a}_cast(e,t){let n=void 0===e?e:this.transforms.reduce((t,n)=>n.call(this,t,e,this),e);return void 0===n&&(n=this.getDefault(t)),n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,{path:a,originalValue:s=e,strict:i=this.spec.strict}=t,l=e;i||(l=this._cast(l,Object.assign({assert:!1},t)));let o=[];for(let c of Object.values(this.internalTests))c&&o.push(c);this.runTests({path:a,value:l,originalValue:s,options:t,tests:o},n,e=>{if(e.length)return r(e,l);this.runTests({path:a,value:l,originalValue:s,options:t,tests:this.tests},n,r)})}runTests(e,t,n){let r=!1,{tests:a,value:s,originalValue:i,path:l,options:o}=e,c=e=>{r||(r=!0,t(e,s))},u=e=>{r||(r=!0,n(e,s))},d=a.length,m=[];if(!d)return u([]);let p={value:s,originalValue:i,path:l,options:o,schema:this};for(let f=0;f<a.length;f++){(0,a[f])(p,c,function(e){e&&(Array.isArray(e)?m.push(...e):m.push(e)),--d<=0&&u(m)})}}asNestedTest(e){let{key:t,index:n,parent:r,parentPath:a,originalParent:s,options:i}=e;const l=null!=t?t:n;if(null==l)throw TypeError("Must include `key` or `index` for nested validations");const o="number"===typeof l;let c=r[l];const u=Object.assign({},i,{strict:!0,parent:r,value:c,originalValue:s[l],key:void 0,[o?"index":"key"]:l,path:o||l.includes(".")?"".concat(a||"","[").concat(o?l:'"'.concat(l,'"'),"]"):(a?"".concat(a,"."):"")+t});return(e,t,n)=>this.resolve(u)._validate(c,u,t,n)}validate(e,t){var n;let r=this.resolve(Object.assign({},t,{value:e})),a=null!=(n=null==t?void 0:t.disableStackTrace)?n:r.spec.disableStackTrace;return new Promise((n,s)=>r._validate(e,t,(e,t)=>{dl.isError(e)&&(e.value=t),s(e)},(e,t)=>{e.length?s(new dl(e,t,void 0,void 0,a)):n(t)}))}validateSync(e,t){var n;let r,a=this.resolve(Object.assign({},t,{value:e})),s=null!=(n=null==t?void 0:t.disableStackTrace)?n:a.spec.disableStackTrace;return a._validate(e,Object.assign({},t,{sync:!0}),(e,t)=>{throw dl.isError(e)&&(e.value=t),e},(t,n)=>{if(t.length)throw new dl(t,e,void 0,void 0,s);r=n}),r}isValid(e,t){return this.validate(e,t).then(()=>!0,e=>{if(dl.isError(e))return!1;throw e})}isValidSync(e,t){try{return this.validateSync(e,t),!0}catch(n){if(dl.isError(n))return!1;throw n}}_getDefault(e){let t=this.spec.default;return null==t?t:"function"===typeof t?t.call(this,e):Pl(t)}getDefault(e){return this.resolve(e||{})._getDefault(e)}default(e){if(0===arguments.length)return this._getDefault();return this.clone({default:e})}strict(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this.clone({strict:e})}nullability(e,t){const n=this.clone({nullable:e});return n.internalTests.nullable=_l({message:t,name:"nullable",test(e){return null!==e||this.schema.spec.nullable}}),n}optionality(e,t){const n=this.clone({optional:e});return n.internalTests.optionality=_l({message:t,name:"optionality",test(e){return void 0!==e||this.schema.spec.optional}}),n}optional(){return this.optionality(!0)}defined(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml.defined;return this.optionality(!1,e)}nullable(){return this.nullability(!0)}nonNullable(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml.notNull;return this.nullability(!1,e)}required(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ml.required;return this.clone().withMutation(t=>t.nonNullable(e).defined(e))}notRequired(){return this.clone().withMutation(e=>e.nullable().optional())}transform(e){let t=this.clone();return t.transforms.push(e),t}test(){let e;if(e=1===arguments.length?"function"===typeof(arguments.length<=0?void 0:arguments[0])?{test:arguments.length<=0?void 0:arguments[0]}:arguments.length<=0?void 0:arguments[0]:2===arguments.length?{name:arguments.length<=0?void 0:arguments[0],test:arguments.length<=1?void 0:arguments[1]}:{name:arguments.length<=0?void 0:arguments[0],message:arguments.length<=1?void 0:arguments[1],test:arguments.length<=2?void 0:arguments[2]},void 0===e.message&&(e.message=ml.default),"function"!==typeof e.test)throw new TypeError("`test` is a required parameters");let t=this.clone(),n=_l(e),r=e.exclusive||e.name&&!0===t.exclusiveTests[e.name];if(e.exclusive&&!e.name)throw new TypeError("Exclusive tests must provide a unique `name` identifying the test");return e.name&&(t.exclusiveTests[e.name]=!!e.exclusive),t.tests=t.tests.filter(t=>{if(t.OPTIONS.name===e.name){if(r)return!1;if(t.OPTIONS.test===n.OPTIONS.test)return!1}return!0}),t.tests.push(n),t}when(e,t){Array.isArray(e)||"string"===typeof e||(t=e,e=".");let n=this.clone(),r=sl(e).map(e=>new kl(e));return r.forEach(e=>{e.isSibling&&n.deps.push(e.key)}),n.conditions.push("function"===typeof t?new wl(r,t):wl.fromOptions(r,t)),n}typeError(e){let t=this.clone();return t.internalTests.typeError=_l({message:e,name:"typeError",skipAbsent:!0,test(e){return!!this.schema._typeCheck(e)||this.createError({params:{type:this.schema.type}})}}),t}oneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ml.oneOf,n=this.clone();return e.forEach(e=>{n._whitelist.add(e),n._blacklist.delete(e)}),n.internalTests.whiteList=_l({message:t,name:"oneOf",skipAbsent:!0,test(e){let t=this.schema._whitelist,n=t.resolveAll(this.resolve);return!!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}notOneOf(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:ml.notOneOf,n=this.clone();return e.forEach(e=>{n._blacklist.add(e),n._whitelist.delete(e)}),n.internalTests.blacklist=_l({message:t,name:"notOneOf",test(e){let t=this.schema._blacklist,n=t.resolveAll(this.resolve);return!n.includes(e)||this.createError({params:{values:Array.from(t).join(", "),resolved:n}})}}),n}strip(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=this.clone();return t.spec.strip=e,t}describe(e){const t=(e?this.resolve(e):this).clone(),{label:n,meta:r,optional:a,nullable:s}=t.spec,i={meta:r,label:n,optional:a,nullable:s,default:t.getDefault(e),type:t.type,oneOf:t._whitelist.describe(),notOneOf:t._blacklist.describe(),tests:t.tests.filter((e,t,n)=>n.findIndex(t=>t.OPTIONS.name===e.OPTIONS.name)===t).map(t=>{const n=t.OPTIONS.params&&e?El(Object.assign({},t.OPTIONS.params),e):t.OPTIONS.params;return{name:t.OPTIONS.name,params:n}})};return i}get"~standard"(){const e=this;return{version:1,vendor:"yup",async validate(t){try{return{value:await e.validate(t,{abortEarly:!1})}}catch(n){if(n instanceof dl)return{issues:Ll(n)};throw n}}}}}Rl.prototype.__isYupSchema__=!0;for(const n of["validate","validateSync"])Rl.prototype["".concat(n,"At")]=function(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const{parent:a,parentPath:s,schema:i}=Tl(this,e,t,r.context);return i[n](a&&a[s],Object.assign({},r,{parent:a,path:e}))};for(const n of["equals","is"])Rl.prototype[n]=Rl.prototype.oneOf;for(const n of["not","nope"])Rl.prototype[n]=Rl.prototype.notOneOf;const Al=()=>!0;class Dl extends Rl{constructor(e){super("function"===typeof e?{type:"mixed",check:e}:Object.assign({type:"mixed",check:Al},e))}}Dl.prototype;class Il extends Rl{constructor(){super({type:"boolean",check:e=>(e instanceof Boolean&&(e=e.valueOf()),"boolean"===typeof e)}),this.withMutation(()=>{this.transform((e,t,n)=>{if(n.spec.coerce&&!n.isType(e)){if(/^(true|1)$/i.test(String(e)))return!0;if(/^(false|0)$/i.test(String(e)))return!1}return e})})}isTrue(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xl.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"true"},test:e=>Sl(e)||!0===e})}isFalse(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:xl.isValue;return this.test({message:e,name:"is-value",exclusive:!0,params:{value:"false"},test:e=>Sl(e)||!1===e})}default(e){return super.default(e)}defined(e){return super.defined(e)}optional(){return super.optional()}required(e){return super.required(e)}notRequired(){return super.notRequired()}nullable(){return super.nullable()}nonNullable(e){return super.nonNullable(e)}strip(e){return super.strip(e)}}Il.prototype;const zl=/^(\d{4}|[+-]\d{6})(?:-?(\d{2})(?:-?(\d{2}))?)?(?:[ T]?(\d{2}):?(\d{2})(?::?(\d{2})(?:[,.](\d{1,}))?)?(?:(Z)|([+-])(\d{2})(?::?(\d{2}))?)?)?$/;function Ml(e){var t,n;const r=zl.exec(e);return r?{year:Ul(r[1]),month:Ul(r[2],1)-1,day:Ul(r[3],1),hour:Ul(r[4]),minute:Ul(r[5]),second:Ul(r[6]),millisecond:r[7]?Ul(r[7].substring(0,3)):0,precision:null!=(t=null==(n=r[7])?void 0:n.length)?t:void 0,z:r[8]||void 0,plusMinus:r[9]||void 0,hourOffset:Ul(r[10]),minuteOffset:Ul(r[11])}:null}function Ul(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return Number(e)||t}let Bl=/^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Vl=/^((https?|ftp):)?\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(\#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i,Hl=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i,ql=new RegExp("".concat("^\\d{4}-\\d{2}-\\d{2}","T").concat("\\d{2}:\\d{2}:\\d{2}","(\\.\\d+)?").concat("(([+-]\\d{2}(:?\\d{2})?)|Z)","$")),$l=e=>Sl(e)||e===e.trim(),Wl={}.toString();function Kl(){return new Zl}class Zl extends Rl{constructor(){super({type:"string",check:e=>(e instanceof String&&(e=e.valueOf()),"string"===typeof e)}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce||n.isType(e))return e;if(Array.isArray(e))return e;const r=null!=e&&e.toString?e.toString():e;return r===Wl?e:r})})}required(e){return super.required(e).withMutation(t=>t.test({message:e||ml.required,name:"required",skipAbsent:!0,test:e=>!!e.length}))}notRequired(){return super.notRequired().withMutation(e=>(e.tests=e.tests.filter(e=>"required"!==e.OPTIONS.name),e))}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:pl.max;return this.test({name:"max",exclusive:!0,message:t,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}matches(e,t){let n,r,a=!1;return t&&("object"===typeof t?({excludeEmptyString:a=!1,message:n,name:r}=t):n=t),this.test({name:r||"matches",message:n||pl.matches,params:{regex:e},skipAbsent:!0,test:t=>""===t&&a||-1!==t.search(e)})}email(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl.email;return this.matches(Bl,{name:"email",message:e,excludeEmptyString:!0})}url(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl.url;return this.matches(Vl,{name:"url",message:e,excludeEmptyString:!0})}uuid(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl.uuid;return this.matches(Hl,{name:"uuid",message:e,excludeEmptyString:!1})}datetime(e){let t,n,r="";return e&&("object"===typeof e?({message:r="",allowOffset:t=!1,precision:n}=e):r=e),this.matches(ql,{name:"datetime",message:r||pl.datetime,excludeEmptyString:!0}).test({name:"datetime_offset",message:r||pl.datetime_offset,params:{allowOffset:t},skipAbsent:!0,test:e=>{if(!e||t)return!0;const n=Ml(e);return!!n&&!!n.z}}).test({name:"datetime_precision",message:r||pl.datetime_precision,params:{precision:n},skipAbsent:!0,test:e=>{if(!e||void 0==n)return!0;const t=Ml(e);return!!t&&t.precision===n}})}ensure(){return this.default("").transform(e=>null===e?"":e)}trim(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl.trim;return this.transform(e=>null!=e?e.trim():e).test({message:e,name:"trim",test:$l})}lowercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl.lowercase;return this.transform(e=>Sl(e)?e:e.toLowerCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Sl(e)||e===e.toLowerCase()})}uppercase(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:pl.uppercase;return this.transform(e=>Sl(e)?e:e.toUpperCase()).test({message:e,name:"string_case",exclusive:!0,skipAbsent:!0,test:e=>Sl(e)||e===e.toUpperCase()})}}Kl.prototype=Zl.prototype;function Gl(){return new Ql}class Ql extends Rl{constructor(){super({type:"number",check:e=>(e instanceof Number&&(e=e.valueOf()),"number"===typeof e&&!(e=>e!=+e)(e))}),this.withMutation(()=>{this.transform((e,t,n)=>{if(!n.spec.coerce)return e;let r=e;if("string"===typeof r){if(r=r.replace(/\s/g,""),""===r)return NaN;r=+r}return n.isType(r)||null===r?r:parseFloat(r)})})}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl.min;return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t>=this.resolve(e)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl.max;return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t<=this.resolve(e)}})}lessThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl.lessThan;return this.test({message:t,name:"max",exclusive:!0,params:{less:e},skipAbsent:!0,test(t){return t<this.resolve(e)}})}moreThan(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:fl.moreThan;return this.test({message:t,name:"min",exclusive:!0,params:{more:e},skipAbsent:!0,test(t){return t>this.resolve(e)}})}positive(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl.positive;return this.moreThan(0,e)}negative(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl.negative;return this.lessThan(0,e)}integer(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:fl.integer;return this.test({name:"integer",message:e,skipAbsent:!0,test:e=>Number.isInteger(e)})}truncate(){return this.transform(e=>Sl(e)?e:0|e)}round(e){var t;let n=["ceil","floor","round","trunc"];if("trunc"===(e=(null==(t=e)?void 0:t.toLowerCase())||"round"))return this.truncate();if(-1===n.indexOf(e.toLowerCase()))throw new TypeError("Only valid options for round() are: "+n.join(", "));return this.transform(t=>Sl(t)?t:Math[e](t))}}Gl.prototype=Ql.prototype;let Yl=new Date("");function Jl(){return new Xl}class Xl extends Rl{constructor(){super({type:"date",check(e){return t=e,"[object Date]"===Object.prototype.toString.call(t)&&!isNaN(e.getTime());var t}}),this.withMutation(()=>{this.transform((e,t,n)=>!n.spec.coerce||n.isType(e)||null===e?e:(e=function(e){const t=Ml(e);if(!t)return Date.parse?Date.parse(e):Number.NaN;if(void 0===t.z&&void 0===t.plusMinus)return new Date(t.year,t.month,t.day,t.hour,t.minute,t.second,t.millisecond).valueOf();let n=0;return"Z"!==t.z&&void 0!==t.plusMinus&&(n=60*t.hourOffset+t.minuteOffset,"+"===t.plusMinus&&(n=0-n)),Date.UTC(t.year,t.month,t.day,t.hour,t.minute+n,t.second,t.millisecond)}(e),isNaN(e)?Xl.INVALID_DATE:new Date(e)))})}prepareParam(e,t){let n;if(kl.isRef(e))n=e;else{let r=this.cast(e);if(!this._typeCheck(r))throw new TypeError("`".concat(t,"` must be a Date or a value that can be `cast()` to a Date"));n=r}return n}min(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hl.min,n=this.prepareParam(e,"min");return this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(e){return e>=this.resolve(n)}})}max(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:hl.max,n=this.prepareParam(e,"max");return this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(e){return e<=this.resolve(n)}})}}function eo(e,t){let n=1/0;return e.some((e,r)=>{var a;if(null!=(a=t.path)&&a.includes(e))return n=r,!0}),n}function to(e){return(t,n)=>eo(e,t)-eo(e,n)}Xl.INVALID_DATE=Yl,Jl.prototype=Xl.prototype,Jl.INVALID_DATE=Yl;const no=(e,t,n)=>{if("string"!==typeof e)return e;let r=e;try{r=JSON.parse(e)}catch(a){}return n.isType(r)?r:e};function ro(e){if("fields"in e){const t={};for(const[n,r]of Object.entries(e.fields))t[n]=ro(r);return e.setFields(t)}if("array"===e.type){const t=e.optional();return t.innerType&&(t.innerType=ro(t.innerType)),t}return"tuple"===e.type?e.optional().clone({types:e.spec.types.map(ro)}):"optional"in e?e.optional():e}let ao=e=>"[object Object]"===Object.prototype.toString.call(e);function so(e,t){let n=Object.keys(e.fields);return Object.keys(t).filter(e=>-1===n.indexOf(e))}const io=to([]);function lo(e){return new oo(e)}class oo extends Rl{constructor(e){super({type:"object",check:e=>ao(e)||"function"===typeof e}),this.fields=Object.create(null),this._sortErrors=io,this._nodes=[],this._excludedEdges=[],this.withMutation(()=>{e&&this.shape(e)})}_cast(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};var n;let r=super._cast(e,t);if(void 0===r)return this.getDefault(t);if(!this._typeCheck(r))return r;let a=this.fields,s=null!=(n=t.stripUnknown)?n:this.spec.noUnknown,i=[].concat(this._nodes,Object.keys(r).filter(e=>!this._nodes.includes(e))),l={},o=Object.assign({},t,{parent:l,__validating:t.__validating||!1}),c=!1;for(const u of i){let e=a[u],n=u in r;if(e){let n,a=r[u];o.path=(t.path?"".concat(t.path,"."):"")+u,e=e.resolve({value:a,context:t.context,parent:l});let s=e instanceof Rl?e.spec:void 0,i=null==s?void 0:s.strict;if(null!=s&&s.strip){c=c||u in r;continue}n=t.__validating&&i?r[u]:e.cast(r[u],o),void 0!==n&&(l[u]=n)}else n&&!s&&(l[u]=r[u]);n===u in l&&l[u]===r[u]||(c=!0)}return c?l:r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,{from:a=[],originalValue:s=e,recursive:i=this.spec.recursive}=t;t.from=[{schema:this,value:s},...a],t.__validating=!0,t.originalValue=s,super._validate(e,t,n,(e,a)=>{if(!i||!ao(a))return void r(e,a);s=s||a;let l=[];for(let n of this._nodes){let e=this.fields[n];e&&!kl.isRef(e)&&l.push(e.asNestedTest({options:t,key:n,parent:a,parentPath:t.path,originalParent:s}))}this.runTests({tests:l,value:a,originalValue:s,options:t},n,t=>{r(t.sort(this._sortErrors).concat(e),a)})})}clone(e){const t=super.clone(e);return t.fields=Object.assign({},this.fields),t._nodes=this._nodes,t._excludedEdges=this._excludedEdges,t._sortErrors=this._sortErrors,t}concat(e){let t=super.concat(e),n=t.fields;for(let[r,a]of Object.entries(this.fields)){const e=n[r];n[r]=void 0===e?a:e}return t.withMutation(t=>t.setFields(n,[...this._excludedEdges,...e._excludedEdges]))}_getDefault(e){if("default"in this.spec)return super._getDefault(e);if(!this._nodes.length)return;let t={};return this._nodes.forEach(n=>{var r;const a=this.fields[n];let s=e;null!=(r=s)&&r.value&&(s=Object.assign({},s,{parent:s.value,value:s.value[n]})),t[n]=a&&"getDefault"in a?a.getDefault(s):void 0}),t}setFields(e,t){let n=this.clone();return n.fields=e,n._nodes=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[],r=new Set,a=new Set(t.map(e=>{let[t,n]=e;return"".concat(t,"-").concat(n)}));function s(e,t){let s=(0,Zi.split)(e)[0];r.add(s),a.has("".concat(t,"-").concat(s))||n.push([t,s])}for(const i of Object.keys(e)){let t=e[i];r.add(i),kl.isRef(t)&&t.isSibling?s(t.path,i):bl(t)&&"deps"in t&&t.deps.forEach(e=>s(e,i))}return Yi().array(Array.from(r),n).reverse()}(e,t),n._sortErrors=to(Object.keys(e)),t&&(n._excludedEdges=t),n}shape(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return this.clone().withMutation(n=>{let r=n._excludedEdges;return t.length&&(Array.isArray(t[0])||(t=[t]),r=[...n._excludedEdges,...t]),n.setFields(Object.assign(n.fields,e),r)})}partial(){const e={};for(const[t,n]of Object.entries(this.fields))e[t]="optional"in n&&n.optional instanceof Function?n.optional():n;return this.setFields(e)}deepPartial(){return ro(this)}pick(e){const t={};for(const n of e)this.fields[n]&&(t[n]=this.fields[n]);return this.setFields(t,this._excludedEdges.filter(t=>{let[n,r]=t;return e.includes(n)&&e.includes(r)}))}omit(e){const t=[];for(const n of Object.keys(this.fields))e.includes(n)||t.push(n);return this.pick(t)}from(e,t,n){let r=(0,Zi.getter)(e,!0);return this.transform(a=>{if(!a)return a;let s=a;return((e,t)=>{const n=[...(0,Zi.normalizePath)(t)];if(1===n.length)return n[0]in e;let r=n.pop(),a=(0,Zi.getter)((0,Zi.join)(n),!0)(e);return!(!a||!(r in a))})(a,e)&&(s=Object.assign({},a),n||delete s[e],s[t]=r(a)),s})}json(){return this.transform(no)}exact(e){return this.test({name:"exact",exclusive:!0,message:e||gl.exact,test(e){if(null==e)return!0;const t=so(this.schema,e);return 0===t.length||this.createError({params:{properties:t.join(", ")}})}})}stripUnknown(){return this.clone({noUnknown:!0})}noUnknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gl.noUnknown;"boolean"!==typeof e&&(t=e,e=!0);let n=this.test({name:"noUnknown",exclusive:!0,message:t,test(t){if(null==t)return!0;const n=so(this.schema,t);return!e||0===n.length||this.createError({params:{unknown:n.join(", ")}})}});return n.spec.noUnknown=e,n}unknown(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:gl.noUnknown;return this.noUnknown(!e,t)}transformKeys(e){return this.transform(t=>{if(!t)return t;const n={};for(const r of Object.keys(t))n[e(r)]=t[r];return n})}camelCase(){return this.transformKeys(Gi.camelCase)}snakeCase(){return this.transformKeys(Gi.snakeCase)}constantCase(){return this.transformKeys(e=>(0,Gi.snakeCase)(e).toUpperCase())}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);n.fields={};for(const[a,s]of Object.entries(t.fields)){var r;let t=e;null!=(r=t)&&r.value&&(t=Object.assign({},t,{parent:t.value,value:t.value[a]})),n.fields[a]=s.describe(t)}return n}}lo.prototype=oo.prototype;class co extends Rl{constructor(e){super({type:"array",spec:{types:e},check:e=>Array.isArray(e)}),this.innerType=void 0,this.innerType=e}_cast(e,t){const n=super._cast(e,t);if(!this._typeCheck(n)||!this.innerType)return n;let r=!1;const a=n.map((e,n)=>{const a=this.innerType.cast(e,Object.assign({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return a!==e&&(r=!0),a});return r?a:n}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0;var a;let s=this.innerType,i=null!=(a=t.recursive)?a:this.spec.recursive;null!=t.originalValue&&t.originalValue,super._validate(e,t,n,(a,l)=>{var o;if(!i||!s||!this._typeCheck(l))return void r(a,l);let c=new Array(l.length);for(let n=0;n<l.length;n++){var u;c[n]=s.asNestedTest({options:t,index:n,parent:l,parentPath:t.path,originalParent:null!=(u=t.originalValue)?u:e})}this.runTests({value:l,tests:c,originalValue:null!=(o=t.originalValue)?o:e,options:t},n,e=>r(e.concat(a),l))})}clone(e){const t=super.clone(e);return t.innerType=this.innerType,t}json(){return this.transform(no)}concat(e){let t=super.concat(e);return t.innerType=this.innerType,e.innerType&&(t.innerType=t.innerType?t.innerType.concat(e.innerType):e.innerType),t}of(e){let t=this.clone();if(!bl(e))throw new TypeError("`array.of()` sub-schema must be a valid yup schema not: "+al(e));return t.innerType=e,t.spec=Object.assign({},t.spec,{types:e}),t}length(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:vl.length;return this.test({message:t,name:"length",exclusive:!0,params:{length:e},skipAbsent:!0,test(t){return t.length===this.resolve(e)}})}min(e,t){return t=t||vl.min,this.test({message:t,name:"min",exclusive:!0,params:{min:e},skipAbsent:!0,test(t){return t.length>=this.resolve(e)}})}max(e,t){return t=t||vl.max,this.test({message:t,name:"max",exclusive:!0,params:{max:e},skipAbsent:!0,test(t){return t.length<=this.resolve(e)}})}ensure(){return this.default(()=>[]).transform((e,t)=>this._typeCheck(e)?e:null==t?[]:[].concat(t))}compact(e){let t=e?(t,n,r)=>!e(t,n,r):e=>!!e;return this.transform(e=>null!=e?e.filter(t):e)}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);if(t.innerType){var r;let a=e;null!=(r=a)&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[0]})),n.innerType=t.innerType.describe(a)}return n}}co.prototype;class uo extends Rl{constructor(e){super({type:"tuple",spec:{types:e},check(e){const t=this.spec.types;return Array.isArray(e)&&e.length===t.length}}),this.withMutation(()=>{this.typeError(yl.notType)})}_cast(e,t){const{types:n}=this.spec,r=super._cast(e,t);if(!this._typeCheck(r))return r;let a=!1;const s=n.map((e,n)=>{const s=e.cast(r[n],Object.assign({},t,{path:"".concat(t.path||"","[").concat(n,"]")}));return s!==r[n]&&(a=!0),s});return a?s:r}_validate(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,a=this.spec.types;super._validate(e,t,n,(s,i)=>{var l;if(!this._typeCheck(i))return void r(s,i);let o=[];for(let[n,r]of a.entries()){var c;o[n]=r.asNestedTest({options:t,index:n,parent:i,parentPath:t.path,originalParent:null!=(c=t.originalValue)?c:e})}this.runTests({value:i,tests:o,originalValue:null!=(l=t.originalValue)?l:e,options:t},n,e=>r(e.concat(s),i))})}describe(e){const t=(e?this.resolve(e):this).clone(),n=super.describe(e);return n.innerType=t.spec.types.map((t,n)=>{var r;let a=e;return null!=(r=a)&&r.value&&(a=Object.assign({},a,{parent:a.value,value:a.value[n]})),t.describe(a)}),n}}uo.prototype;const mo=lo({email:Kl().email("Invalid email").required("Email is required"),password:Kl().required("Password is required"),business_subdomain:Kl().when("userType",{is:"business",then:e=>e.required("Business subdomain is required"),otherwise:e=>e.nullable()})}),po=()=>{const{login:e}=as(),[t,n]=(0,r.useState)("business"),[a,s]=(0,r.useState)(!1),{register:i,handleSubmit:l,formState:{errors:o},setValue:c,watch:u}=Vi({resolver:Ki(mo),context:{userType:t}});r.useEffect(()=>{"super_admin"===t&&c("business_subdomain","")},[t,c]);return(0,Xa.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8",children:(0,Xa.jsxs)("div",{className:"max-w-md w-full space-y-8",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h2",{className:"mt-6 text-center text-3xl font-extrabold text-gray-900",children:"Modern POS System"}),(0,Xa.jsx)("p",{className:"mt-2 text-center text-sm text-gray-600",children:"Sign in to your account"})]}),(0,Xa.jsxs)("div",{className:"flex space-x-4 justify-center",children:[(0,Xa.jsx)("button",{type:"button",onClick:()=>n("super_admin"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("super_admin"===t?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Super Admin"}),(0,Xa.jsx)("button",{type:"button",onClick:()=>n("business"),className:"px-4 py-2 text-sm font-medium rounded-md ".concat("business"===t?"bg-primary-600 text-white":"bg-gray-200 text-gray-700 hover:bg-gray-300"),children:"Business User"})]}),(0,Xa.jsxs)("form",{className:"mt-8 space-y-6",onSubmit:l(async n=>{s(!0);try{const r={email:n.email,password:n.password};"business"===t&&n.business_subdomain&&(r.business_subdomain=n.business_subdomain),await e(r)}catch(r){console.error("Login failed:",r)}finally{s(!1)}}),children:[(0,Xa.jsxs)("div",{className:"space-y-4",children:["business"===t&&(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{htmlFor:"business_subdomain",className:"form-label",children:"Business Subdomain"}),(0,Xa.jsx)("input",Ne({id:"business_subdomain",type:"text",className:"form-input",placeholder:"Enter your business subdomain"},i("business_subdomain"))),o.business_subdomain&&(0,Xa.jsx)("p",{className:"form-error",children:o.business_subdomain.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{htmlFor:"email",className:"form-label",children:"Email Address"}),(0,Xa.jsx)("input",Ne({id:"email",type:"email",autoComplete:"email",className:"form-input",placeholder:"Enter your email"},i("email"))),o.email&&(0,Xa.jsx)("p",{className:"form-error",children:o.email.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{htmlFor:"password",className:"form-label",children:"Password"}),(0,Xa.jsx)("input",Ne({id:"password",type:"password",autoComplete:"current-password",className:"form-input",placeholder:"Enter your password"},i("password"))),o.password&&(0,Xa.jsx)("p",{className:"form-error",children:o.password.message})]})]}),(0,Xa.jsx)("div",{children:(0,Xa.jsx)("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-primary-600 hover:bg-primary-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-primary-500 disabled:opacity-50 disabled:cursor-not-allowed",children:a?(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(fs,{}),(0,Xa.jsx)("span",{className:"ml-2",children:"Signing in..."})]}):"Sign in"})}),"super_admin"===t&&(0,Xa.jsxs)("div",{className:"text-center text-sm text-gray-600",children:[(0,Xa.jsx)("p",{children:"Super Admin Access"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Contact system administrator for credentials"})]})]})]})})};var fo=n(950),ho=n.t(fo,2);function xo(){return xo=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},xo.apply(this,arguments)}function go(e,t){if(null==e)return{};var n,r,a={},s=Object.keys(e);for(r=0;r<s.length;r++)n=s[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);const vo=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"];try{window.__reactRouterVersion="6"}catch(Jn){}new Map;const yo=a.startTransition;ho.flushSync,a.useId;function bo(e){let{basename:t,children:n,future:a,window:s}=e,i=r.useRef();var l;null==i.current&&(i.current=(void 0===(l={window:s,v5Compat:!0})&&(l={}),f(function(e,t){let{pathname:n,search:r,hash:a}=e.location;return d("",{pathname:n,search:r,hash:a},t.state&&t.state.usr||null,t.state&&t.state.key||"default")},function(e,t){return"string"===typeof t?t:m(t)},null,l)));let o=i.current,[c,u]=r.useState({action:o.action,location:o.location}),{v7_startTransition:p}=a||{},h=r.useCallback(e=>{p&&yo?yo(()=>u(e)):u(e)},[u,p]);return r.useLayoutEffect(()=>o.listen(h),[o,h]),r.useEffect(()=>pe(a),[a]),r.createElement(xe,{basename:t,children:n,location:c.location,navigationType:c.action,navigator:o,future:a})}const wo="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement,jo=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,No=r.forwardRef(function(e,t){let n,{onClick:a,relative:s,reloadDocument:i,replace:l,state:c,target:u,to:d,preventScrollReset:p,viewTransition:f}=e,h=go(e,vo),{basename:x}=r.useContext(W),g=!1;if("string"===typeof d&&jo.test(d)&&(n=d,wo))try{let e=new URL(window.location.href),t=d.startsWith("//")?new URL(e.protocol+d):new URL(d),n=P(t.pathname,x);t.origin===e.origin&&null!=n?d=n+t.search+t.hash:g=!0}catch(Jn){}let v=function(e,t){let{relative:n}=void 0===t?{}:t;Q()||o(!1);let{basename:a,navigator:s}=r.useContext(W),{hash:i,pathname:l,search:c}=ee(e,{relative:n}),u=l;return"/"!==a&&(u="/"===l?a:D([a,l])),s.createHref({pathname:u,search:c,hash:i})}(d,{relative:s}),y=function(e,t){let{target:n,replace:a,state:s,preventScrollReset:i,relative:l,viewTransition:o}=void 0===t?{}:t,c=X(),u=Y(),d=ee(e,{relative:l});return r.useCallback(t=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(t,n)){t.preventDefault();let n=void 0!==a?a:m(u)===m(d);c(e,{replace:n,state:s,preventScrollReset:i,relative:l,viewTransition:o})}},[u,c,d,a,s,n,e,i,l,o])}(d,{replace:l,state:c,target:u,preventScrollReset:p,relative:s,viewTransition:f});return r.createElement("a",xo({},h,{href:n||v,onClick:g||i?a:function(e){a&&a(e),e.defaultPrevented||y(e)},ref:t,target:u}))});var ko,So;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(ko||(ko={})),function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"}(So||(So={}));const _o=["title","titleId"];function Eo(e,t){let{title:n,titleId:a}=e,s=xs(e,_o);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 13.125C3 12.504 3.504 12 4.125 12h2.25c.621 0 1.125.504 1.125 1.125v6.75C7.5 20.496 6.996 21 6.375 21h-2.25A1.125 1.125 0 0 1 3 19.875v-6.75ZM9.75 8.625c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125v11.25c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V8.625ZM16.5 4.125c0-.621.504-1.125 1.125-1.125h2.25C20.496 3 21 3.504 21 4.125v15.75c0 .621-.504 1.125-1.125 1.125h-2.25a1.125 1.125 0 0 1-1.125-1.125V4.125Z"}))}const Co=r.forwardRef(Eo),To=["title","titleId"];function Oo(e,t){let{title:n,titleId:a}=e,s=xs(e,To);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 21h16.5M4.5 3h15M5.25 3v18m13.5-18v18M9 6.75h1.5m-1.5 3h1.5m-1.5 3h1.5m3-6H15m-1.5 3H15m-1.5 3H15M9 21v-3.375c0-.621.504-1.125 1.125-1.125h3.75c.621 0 1.125.504 1.125 1.125V21"}))}const Po=r.forwardRef(Oo),Fo=["title","titleId"];function Lo(e,t){let{title:n,titleId:a}=e,s=xs(e,Fo);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M18 18.72a9.094 9.094 0 0 0 3.741-.479 3 3 0 0 0-4.682-2.72m.94 3.198.001.031c0 .225-.012.447-.037.666A11.944 11.944 0 0 1 12 21c-2.17 0-4.207-.576-5.963-1.584A6.062 6.062 0 0 1 6 18.719m12 0a5.971 5.971 0 0 0-.941-3.197m0 0A5.995 5.995 0 0 0 12 12.75a5.995 5.995 0 0 0-5.058 2.772m0 0a3 3 0 0 0-4.681 2.72 8.986 8.986 0 0 0 3.74.477m.94-3.197a5.971 5.971 0 0 0-.94 3.197M15 6.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm6 3a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Zm-13.5 0a2.25 2.25 0 1 1-4.5 0 2.25 2.25 0 0 1 4.5 0Z"}))}const Ro=r.forwardRef(Lo),Ao=["title","titleId"];function Do(e,t){let{title:n,titleId:a}=e,s=xs(e,Ao);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 9V5.25A2.25 2.25 0 0 0 13.5 3h-6a2.25 2.25 0 0 0-2.25 2.25v13.5A2.25 2.25 0 0 0 7.5 21h6a2.25 2.25 0 0 0 2.25-2.25V15m3 0 3-3m0 0-3-3m3 3H9"}))}const Io=r.forwardRef(Do),zo=e=>{var t;let{children:n}=e;const r=Y(),{user:a,logout:s}=as(),i=[{name:"Dashboard",href:"/super-admin",icon:Co},{name:"Businesses",href:"/super-admin/businesses",icon:Po}],l=e=>"/super-admin"===e?r.pathname===e:r.pathname.startsWith(e);return(0,Xa.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Xa.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:[(0,Xa.jsx)("div",{className:"flex h-16 items-center justify-center border-b border-gray-200",children:(0,Xa.jsx)("h1",{className:"text-xl font-bold text-gray-900",children:"POS Super Admin"})}),(0,Xa.jsx)("nav",{className:"mt-8 px-4",children:(0,Xa.jsx)("div",{className:"space-y-2",children:i.map(e=>(0,Xa.jsxs)(No,{to:e.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md ".concat(l(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,Xa.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]},e.name))})})]}),(0,Xa.jsxs)("div",{className:"pl-64",children:[(0,Xa.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:(0,Xa.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,Xa.jsx)("div",{children:(0,Xa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:(null===(t=i.find(e=>l(e.href)))||void 0===t?void 0:t.name)||"Super Admin"})}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(Ro,{className:"h-5 w-5 text-gray-400"}),(0,Xa.jsx)("span",{className:"text-sm text-gray-700",children:null===a||void 0===a?void 0:a.full_name})]}),(0,Xa.jsxs)("button",{onClick:s,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,Xa.jsx)(Io,{className:"h-4 w-4"}),(0,Xa.jsx)("span",{children:"Logout"})]})]})]})}),(0,Xa.jsx)("main",{className:"p-6",children:n})]})]})},Mo=()=>{const{user:e,business:t}=as(),[n,a]=(0,r.useState)(!1),[s,i]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{null!==e&&(()=>{if("super_admin"===(null===e||void 0===e?void 0:e.role))return a(!1),void i(!1);t&&"suspended"===t.status?a(!0):a(!1),i(!1)})()},[e,t]),{isBusinessSuspended:n,isLoading:s,businessName:null===t||void 0===t?void 0:t.name,userRole:null===e||void 0===e?void 0:e.role}},Uo=["title","titleId"];function Bo(e,t){let{title:n,titleId:a}=e,s=xs(e,Uo);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Vo=r.forwardRef(Bo),Ho=e=>{let{businessName:t}=e;return(0,Xa.jsx)("div",{className:"min-h-screen bg-gray-100 flex items-center justify-center",children:(0,Xa.jsxs)("div",{className:"max-w-md w-full bg-white shadow-lg rounded-lg p-8 text-center",children:[(0,Xa.jsx)("div",{className:"flex justify-center mb-4",children:(0,Xa.jsx)("div",{className:"bg-red-100 p-3 rounded-full",children:(0,Xa.jsx)(Vo,{className:"h-8 w-8 text-red-600"})})}),(0,Xa.jsx)("h2",{className:"text-xl font-semibold text-gray-900 mb-2",children:"Business Suspended"}),(0,Xa.jsxs)("div",{className:"flex items-center justify-center mb-4",children:[(0,Xa.jsx)(Po,{className:"h-5 w-5 text-gray-400 mr-2"}),(0,Xa.jsx)("span",{className:"text-gray-600",children:t})]}),(0,Xa.jsx)("p",{className:"text-gray-600 mb-6",children:"This business account has been suspended. Access to the POS system, customer dashboard, and settings is temporarily unavailable."}),(0,Xa.jsx)("div",{className:"bg-yellow-50 border border-yellow-200 rounded-md p-4 mb-6",children:(0,Xa.jsxs)("p",{className:"text-sm text-yellow-800",children:[(0,Xa.jsx)("strong",{children:"For business owners:"})," Please contact support to resolve any issues and reactivate your account."]})}),(0,Xa.jsxs)("div",{className:"space-y-3",children:[(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:"Need help? Contact support:"}),(0,Xa.jsxs)("div",{className:"text-sm text-gray-600",children:[(0,Xa.jsx)("p",{children:"Email: support@pos.com"}),(0,Xa.jsx)("p",{children:"Phone: 1-800-POS-HELP"})]})]})]})})},qo=["title","titleId"];function $o(e,t){let{title:n,titleId:a}=e,s=xs(e,qo);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 12 8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25"}))}const Wo=r.forwardRef($o),Ko=["title","titleId"];function Zo(e,t){let{title:n,titleId:a}=e,s=xs(e,Ko);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 7.5-9-5.25L3 7.5m18 0-9 5.25m9-5.25v9l-9 5.25M3 7.5l9 5.25M3 7.5v9l9 5.25m0-9v9"}))}const Go=r.forwardRef(Zo),Qo=["title","titleId"];function Yo(e,t){let{title:n,titleId:a}=e,s=xs(e,Qo);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.568 3H5.25A2.25 2.25 0 0 0 3 5.25v4.318c0 .597.237 1.17.659 1.591l9.581 9.581c.699.699 1.78.872 2.607.33a18.095 18.095 0 0 0 5.223-5.223c.542-.827.369-1.908-.33-2.607L11.16 3.66A2.25 2.25 0 0 0 9.568 3Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 6h.008v.008H6V6Z"}))}const Jo=r.forwardRef(Yo),Xo=["title","titleId"];function ec(e,t){let{title:n,titleId:a}=e,s=xs(e,Xo);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z"}))}const tc=r.forwardRef(ec),nc=["title","titleId"];function rc(e,t){let{title:n,titleId:a}=e,s=xs(e,nc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 19.128a9.38 9.38 0 0 0 2.625.372 9.337 9.337 0 0 0 4.121-.952 4.125 4.125 0 0 0-7.533-2.493M15 19.128v-.003c0-1.113-.285-2.16-.786-3.07M15 19.128v.106A12.318 12.318 0 0 1 8.624 21c-2.331 0-4.512-.645-6.374-1.766l-.001-.109a6.375 6.375 0 0 1 11.964-3.07M12 6.375a3.375 3.375 0 1 1-6.75 0 3.375 3.375 0 0 1 6.75 0Zm8.25 2.25a2.625 2.625 0 1 1-5.25 0 2.625 2.625 0 0 1 5.25 0Z"}))}const ac=r.forwardRef(rc),sc=["title","titleId"];function ic(e,t){let{title:n,titleId:a}=e,s=xs(e,sc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12a7.5 7.5 0 0 0 15 0m-15 0a7.5 7.5 0 1 1 15 0m-15 0H3m16.5 0H21m-1.5 0H12m-8.457 3.077 1.41-.513m14.095-5.13 1.41-.513M5.106 17.785l1.15-.964m11.49-9.642 1.149-.964M7.501 19.795l.75-1.3m7.5-12.99.75-1.3m-6.063 16.658.26-1.477m2.605-14.772.26-1.477m0 17.726-.26-1.477M10.698 4.614l-.26-1.477M16.5 19.794l-.75-1.299M7.5 4.205 12 12m6.894 5.785-1.149-.964M6.256 7.178l-1.15-.964m15.352 8.864-1.41-.513M4.954 9.435l-1.41-.514M12.002 12l-3.75 6.495"}))}const lc=r.forwardRef(ic),oc=e=>{var t;let{children:n}=e;const r=Y(),{user:a,business:s,logout:i}=as(),{isBusinessSuspended:l,isLoading:o,businessName:c,userRole:u}=Mo();if(!o&&l&&"super_admin"!==u)return(0,Xa.jsx)(Ho,{businessName:c});const d=[{name:"Dashboard",href:"/business",icon:Wo},{name:"Products",href:"/business/products",icon:Go},{name:"Categories",href:"/business/categories",icon:Jo},{name:"Customers",href:"/business/customers",icon:Ro},{name:"Inventory",href:"/business/inventory",icon:tc,isPlaceholder:!0},{name:"Reports",href:"/business/reports",icon:Co,submenu:[{name:"Sales Reports",href:"/business/reports"},{name:"Profit Report",href:"/business/profit-report",adminOnly:!0}]}],m=[{name:"Staff",href:"/business/users",icon:ac},{name:"Settings",href:"/business/settings",icon:lc}],p=a&&("business_admin"===a.role||"super_admin"===a.role),f=[...d,...m],h=e=>"/business"===e?r.pathname===e:r.pathname.startsWith(e);return(0,Xa.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Xa.jsxs)("div",{className:"fixed inset-y-0 left-0 z-50 w-64 bg-white shadow-lg",children:[(0,Xa.jsx)("div",{className:"flex h-16 items-center justify-center border-b border-gray-200",children:(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(Po,{className:"h-6 w-6 text-primary-600"}),(0,Xa.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:(null===s||void 0===s?void 0:s.name)||"Business Admin"})]})}),(0,Xa.jsxs)("nav",{className:"mt-8 px-4",children:[(0,Xa.jsx)("div",{className:"space-y-2",children:f.map(e=>(0,Xa.jsx)("div",{children:e.submenu?(0,Xa.jsxs)("div",{className:"space-y-1",children:[(0,Xa.jsxs)(No,{to:e.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md ".concat(h(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,Xa.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]}),(0,Xa.jsx)("div",{className:"ml-8 space-y-1",children:e.submenu.map(e=>e.adminOnly&&!p?null:(0,Xa.jsx)(No,{to:e.href,className:"flex items-center px-3 py-1.5 text-xs font-medium rounded-md ".concat(h(e.href)?"bg-primary-50 text-primary-600":"text-gray-500 hover:bg-gray-50 hover:text-gray-700"),children:e.name},e.name))})]}):e.isPlaceholder?(0,Xa.jsxs)("div",{className:"flex items-center px-4 py-2 text-sm font-medium rounded-md text-gray-400 cursor-not-allowed relative",title:"Coming soon - Inventory management functionality",children:[(0,Xa.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name,(0,Xa.jsx)("span",{className:"ml-auto text-xs bg-yellow-100 text-yellow-600 px-2 py-0.5 rounded-full",children:"Soon"})]}):(0,Xa.jsxs)(No,{to:e.href,className:"flex items-center px-4 py-2 text-sm font-medium rounded-md ".concat(h(e.href)?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900"),children:[(0,Xa.jsx)(e.icon,{className:"mr-3 h-5 w-5"}),e.name]})},e.name))}),(0,Xa.jsx)("div",{className:"mt-8 pt-8 border-t border-gray-200",children:(0,Xa.jsxs)(No,{to:"/pos",className:"flex items-center px-4 py-2 text-sm font-medium rounded-md bg-green-100 text-green-700 hover:bg-green-200",children:[(0,Xa.jsx)(Go,{className:"mr-3 h-5 w-5"}),"Open POS"]})})]})]}),(0,Xa.jsxs)("div",{className:"pl-64",children:[(0,Xa.jsx)("div",{className:"sticky top-0 z-10 bg-white shadow-sm border-b border-gray-200",children:(0,Xa.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,Xa.jsx)("div",{children:(0,Xa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:(null===(t=f.find(e=>h(e.href)))||void 0===t?void 0:t.name)||"Business Admin"})}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(Ro,{className:"h-5 w-5 text-gray-400"}),(0,Xa.jsx)("span",{className:"text-sm text-gray-700",children:null===a||void 0===a?void 0:a.full_name})]}),(0,Xa.jsxs)("button",{onClick:i,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,Xa.jsx)(Io,{className:"h-4 w-4"}),(0,Xa.jsx)("span",{children:"Logout"})]})]})]})}),(0,Xa.jsx)("main",{className:"p-6",children:n})]})]})},cc=["title","titleId"];function uc(e,t){let{title:n,titleId:a}=e,s=xs(e,cc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12h3.75M9 15h3.75M9 18h3.75m3 .75H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08m-5.801 0c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m0 0H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V9.375c0-.621-.504-1.125-1.125-1.125H8.25ZM6.75 12h.008v.008H6.75V12Zm0 3h.008v.008H6.75V15Zm0 3h.008v.008H6.75V18Z"}))}const dc=r.forwardRef(uc),mc=["title","titleId"];function pc(e,t){let{title:n,titleId:a}=e,s=xs(e,mc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 6a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0ZM4.501 20.118a7.5 7.5 0 0 1 14.998 0A17.933 17.933 0 0 1 12 21.75c-2.676 0-5.216-.584-7.499-1.632Z"}))}const fc=r.forwardRef(pc),hc=e=>{let{children:t}=e;const n=Y(),{user:r,business:a,logout:s}=as(),{isBusinessSuspended:i,isLoading:l,businessName:o,userRole:c}=Mo();if(!l&&i&&"super_admin"!==c)return(0,Xa.jsx)(Ho,{businessName:o});const u=[{name:"POS",href:"/pos",icon:Go},{name:"Sales History",href:"/pos/sales",icon:dc}];return(0,Xa.jsxs)("div",{className:"min-h-screen bg-gray-100",children:[(0,Xa.jsx)("div",{className:"sticky top-0 z-20 bg-white shadow-sm border-b border-gray-200",children:(0,Xa.jsxs)("div",{className:"flex h-16 items-center justify-between px-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(Po,{className:"h-6 w-6 text-primary-600"}),(0,Xa.jsx)("h1",{className:"text-lg font-bold text-gray-900",children:(null===a||void 0===a?void 0:a.name)||"POS System"})]}),(0,Xa.jsx)("nav",{className:"flex space-x-4",children:u.map(e=>{return(0,Xa.jsxs)(No,{to:e.href,className:"flex items-center px-3 py-2 text-sm font-medium rounded-md ".concat((t=e.href,("/pos"===t?n.pathname===t:n.pathname.startsWith(t))?"bg-primary-100 text-primary-700":"text-gray-600 hover:bg-gray-50 hover:text-gray-900")),children:[(0,Xa.jsx)(e.icon,{className:"mr-2 h-4 w-4"}),e.name]},e.name);var t})})]}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-4",children:["business_admin"===(null===r||void 0===r?void 0:r.role)&&(0,Xa.jsx)(No,{to:"/business",className:"text-sm text-primary-600 hover:text-primary-700 font-medium",children:"Back to Admin"}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(fc,{className:"h-5 w-5 text-gray-400"}),(0,Xa.jsx)("span",{className:"text-sm text-gray-700",children:null===r||void 0===r?void 0:r.full_name}),(0,Xa.jsxs)("span",{className:"text-xs text-gray-500",children:["(",null===r||void 0===r?void 0:r.role,")"]})]}),(0,Xa.jsxs)("button",{onClick:s,className:"flex items-center space-x-1 text-sm text-gray-500 hover:text-gray-700",children:[(0,Xa.jsx)(Io,{className:"h-4 w-4"}),(0,Xa.jsx)("span",{children:"Logout"})]})]})]})}),(0,Xa.jsx)("main",{className:"p-6",children:t})]})},xc=["title","titleId"];function gc(e,t){let{title:n,titleId:a}=e,s=xs(e,xc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v12m-3-2.818.879.659c1.171.879 3.07.879 4.242 0 1.172-.879 1.172-2.303 0-3.182C13.536 12.219 12.768 12 12 12c-.725 0-1.45-.22-2.003-.659-1.106-.879-1.106-2.303 0-3.182s2.9-.879 4.006 0l.415.33M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const vc=r.forwardRef(gc),yc=()=>{const[e,t]=(0,r.useState)(!0),[n,a]=(0,r.useState)({totalBusinesses:0,activeBusinesses:0,totalUsers:0,recentBusinesses:[]});(0,r.useEffect)(()=>{s()},[]);const s=async()=>{try{const e=(await ha()).data,t=e.filter(e=>"active"===e.status).length,n=e.sort((e,t)=>new Date(t.created_at)-new Date(e.created_at)).slice(0,5);a({totalBusinesses:e.length,activeBusinesses:t,totalUsers:0,recentBusinesses:n})}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{t(!1)}};if(e)return(0,Xa.jsx)(hs,{message:"Loading dashboard..."});const i=[{name:"Total Businesses",value:n.totalBusinesses,icon:Po,color:"bg-blue-500"},{name:"Active Businesses",value:n.activeBusinesses,icon:Co,color:"bg-green-500"},{name:"Total Users",value:n.totalUsers,icon:Ro,color:"bg-purple-500"},{name:"Revenue",value:"$0",icon:vc,color:"bg-yellow-500"}],l=e=>{const t={active:"bg-green-100 text-green-800",suspended:"bg-red-100 text-red-800",inactive:"bg-gray-100 text-gray-800"};return(0,Xa.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(t[e]||t.inactive),children:e})};return(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Dashboard"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Welcome to the Super Admin dashboard"})]}),(0,Xa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:i.map(e=>(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color),children:(0,Xa.jsx)(e.icon,{className:"h-6 w-6 text-white"})}),(0,Xa.jsxs)("div",{className:"ml-4",children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]})]})})},e.name))}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xa.jsxs)("div",{className:"card",children:[(0,Xa.jsx)("div",{className:"card-header",children:(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Recent Businesses"})}),(0,Xa.jsx)("div",{className:"card-body",children:n.recentBusinesses.length>0?(0,Xa.jsx)("div",{className:"space-y-4",children:n.recentBusinesses.map(e=>(0,Xa.jsxs)("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:e.subdomain})]}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[l(e.status),(0,Xa.jsx)("span",{className:"text-xs text-gray-500",children:new Date(e.created_at).toLocaleDateString()})]})]},e.id))}):(0,Xa.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No businesses yet"})})]}),(0,Xa.jsxs)("div",{className:"card",children:[(0,Xa.jsx)("div",{className:"card-header",children:(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"space-y-4",children:[(0,Xa.jsx)("button",{onClick:()=>window.location.href="/super-admin/businesses",className:"w-full btn-primary text-left",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(Po,{className:"h-5 w-5 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium",children:"Manage Businesses"}),(0,Xa.jsx)("p",{className:"text-sm opacity-75",children:"Create, edit, and monitor businesses"})]})]})}),(0,Xa.jsx)("button",{className:"w-full btn-secondary text-left",disabled:!0,children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(Co,{className:"h-5 w-5 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium",children:"View Reports"}),(0,Xa.jsx)("p",{className:"text-sm opacity-75",children:"System-wide analytics (Coming soon)"})]})]})})]})})]})]})]})},bc=["title","titleId"];function wc(e,t){let{title:n,titleId:a}=e,s=xs(e,bc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 4.5v15m7.5-7.5h-15"}))}const jc=r.forwardRef(wc),Nc=["title","titleId"];function kc(e,t){let{title:n,titleId:a}=e,s=xs(e,Nc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const Sc=r.forwardRef(kc),_c=lo({name:Kl().required("Business name is required"),subdomain:Kl().required("Subdomain is required").matches(/^[a-z0-9-]+$/,"Subdomain must contain only lowercase letters, numbers, and hyphens"),contact_email:Kl().email("Invalid email").required("Contact email is required"),phone:Kl(),address:Kl(),admin_name:Kl().required("Admin name is required"),admin_email:Kl().email("Invalid email").required("Admin email is required"),admin_password:Kl().min(6,"Password must be at least 6 characters").required("Password is required"),description:Kl()}),Ec=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(!1),{register:c,handleSubmit:u,formState:{errors:d},reset:m}=Vi({resolver:Ki(_c)});(0,r.useEffect)(()=>{p()},[]);const p=async()=>{try{const e=await ha();t(e.data)}catch(e){console.error("Failed to fetch businesses:",e),da.error("Failed to load businesses")}finally{a(!1)}},f=e=>{const t={active:"bg-green-100 text-green-800",suspended:"bg-red-100 text-red-800",inactive:"bg-gray-100 text-gray-800"};return(0,Xa.jsx)("span",{className:"px-2 py-1 text-xs font-semibold rounded-full ".concat(t[e]||t.inactive),children:e})};return n?(0,Xa.jsx)(hs,{message:"Loading businesses..."}):(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Management"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Manage all businesses in the system"})]}),(0,Xa.jsxs)("button",{onClick:()=>i(!0),className:"btn-primary flex items-center",children:[(0,Xa.jsx)(jc,{className:"h-5 w-5 mr-2"}),"Create Business"]})]}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body p-0",children:e.length>0?(0,Xa.jsx)("div",{className:"overflow-x-auto",children:(0,Xa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xa.jsx)("thead",{className:"bg-gray-50",children:(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Business"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Subdomain"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Created"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:e.map(e=>(0,Xa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(Po,{className:"h-8 w-8 text-gray-400 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:e.name}),e.description&&(0,Xa.jsx)("div",{className:"text-sm text-gray-500",children:e.description})]})]})}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsx)("div",{className:"text-sm text-gray-900",children:e.subdomain})}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,Xa.jsx)("div",{className:"text-sm text-gray-900",children:e.contact_email}),e.phone&&(0,Xa.jsx)("div",{className:"text-sm text-gray-500",children:e.phone})]}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:f(e.status)}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleDateString()}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium",children:(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsxs)("select",{value:e.status,onChange:t=>(async(e,t)=>{try{await ga(e,t),da.success("Business status updated"),p()}catch(n){da.error("Failed to update status")}})(e.id,t.target.value),className:"text-sm border border-gray-300 rounded px-2 py-1",children:[(0,Xa.jsx)("option",{value:"active",children:"Active"}),(0,Xa.jsx)("option",{value:"suspended",children:"Suspended"}),(0,Xa.jsx)("option",{value:"inactive",children:"Inactive"})]}),(0,Xa.jsx)("button",{className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Ro,{className:"h-5 w-5",title:"View Users"})})]})})]},e.id))})]})}):(0,Xa.jsxs)("div",{className:"text-center py-12",children:[(0,Xa.jsx)(Po,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Xa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No businesses"}),(0,Xa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating a new business."}),(0,Xa.jsx)("div",{className:"mt-6",children:(0,Xa.jsxs)("button",{onClick:()=>i(!0),className:"btn-primary",children:[(0,Xa.jsx)(jc,{className:"h-5 w-5 mr-2"}),"Create Business"]})})]})})}),s&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Xa.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[(0,Xa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Create New Business"}),(0,Xa.jsx)("button",{onClick:()=>i(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsxs)("form",{onSubmit:u(async e=>{o(!0);try{await xa(e),da.success("Business created successfully!"),i(!1),m(),p()}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to create business";da.error(e)}finally{o(!1)}}),className:"space-y-4",children:[(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Business Name"}),(0,Xa.jsx)("input",Ne({type:"text",className:"form-input"},c("name"))),d.name&&(0,Xa.jsx)("p",{className:"form-error",children:d.name.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Subdomain"}),(0,Xa.jsx)("input",Ne({type:"text",className:"form-input",placeholder:"business-name"},c("subdomain"))),d.subdomain&&(0,Xa.jsx)("p",{className:"form-error",children:d.subdomain.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Contact Email"}),(0,Xa.jsx)("input",Ne({type:"email",className:"form-input"},c("contact_email"))),d.contact_email&&(0,Xa.jsx)("p",{className:"form-error",children:d.contact_email.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Phone (Optional)"}),(0,Xa.jsx)("input",Ne({type:"text",className:"form-input"},c("phone"))),d.phone&&(0,Xa.jsx)("p",{className:"form-error",children:d.phone.message})]}),(0,Xa.jsxs)("div",{className:"md:col-span-2",children:[(0,Xa.jsx)("label",{className:"form-label",children:"Address (Optional)"}),(0,Xa.jsx)("input",Ne({type:"text",className:"form-input"},c("address"))),d.address&&(0,Xa.jsx)("p",{className:"form-error",children:d.address.message})]}),(0,Xa.jsxs)("div",{className:"md:col-span-2",children:[(0,Xa.jsx)("label",{className:"form-label",children:"Description (Optional)"}),(0,Xa.jsx)("textarea",Ne({className:"form-input",rows:"2"},c("description"))),d.description&&(0,Xa.jsx)("p",{className:"form-error",children:d.description.message})]})]}),(0,Xa.jsxs)("div",{className:"border-t pt-4",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Business Admin Details"}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Admin Name"}),(0,Xa.jsx)("input",Ne({type:"text",className:"form-input"},c("admin_name"))),d.admin_name&&(0,Xa.jsx)("p",{className:"form-error",children:d.admin_name.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Admin Email"}),(0,Xa.jsx)("input",Ne({type:"email",className:"form-input"},c("admin_email"))),d.admin_email&&(0,Xa.jsx)("p",{className:"form-error",children:d.admin_email.message})]}),(0,Xa.jsxs)("div",{className:"md:col-span-2",children:[(0,Xa.jsx)("label",{className:"form-label",children:"Admin Password"}),(0,Xa.jsx)("input",Ne({type:"password",className:"form-input"},c("admin_password"))),d.admin_password&&(0,Xa.jsx)("p",{className:"form-error",children:d.admin_password.message})]})]})]}),(0,Xa.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Xa.jsx)("button",{type:"button",onClick:()=>i(!1),className:"btn-secondary",children:"Cancel"}),(0,Xa.jsx)("button",{type:"submit",disabled:l,className:"btn-primary flex items-center",children:l?(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(fs,{}),(0,Xa.jsx)("span",{className:"ml-2",children:"Creating..."})]}):"Create Business"})]})]})]})})]})},Cc=()=>{const{business:e}=as(),{formatAmount:t}=ms(),[n,a]=(0,r.useState)({totalProducts:0,totalCategories:0,lowStockProducts:0,todaySales:0}),[s,i]=(0,r.useState)([]),[l,o]=(0,r.useState)(!0);(0,r.useEffect)(()=>{c()},[]);const c=async()=>{try{const[e,t,n,r]=await Promise.all([Na(),Aa(),Na({low_stock:!0}),$a()]);a({totalProducts:e.data.length,totalCategories:t.data.length,lowStockProducts:n.data.length,todaySales:r.data.total_revenue||0}),i(n.data.slice(0,5))}catch(e){console.error("Failed to fetch dashboard data:",e)}finally{o(!1)}};if(l)return(0,Xa.jsx)(hs,{message:"Loading dashboard..."});const u=[{name:"Products",value:n.totalProducts,icon:Go,color:"bg-blue-500",link:"/business/products"},{name:"Categories",value:n.totalCategories,icon:Jo,color:"bg-green-500",link:"/business/categories"},{name:"Low Stock Items",value:n.lowStockProducts,icon:Vo,color:"bg-yellow-500",link:"/business/products?low_stock=true"},{name:"Today's Sales",value:t(n.todaySales),icon:Co,color:"bg-purple-500",link:"/pos/sales"}];return(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsxs)("h1",{className:"text-2xl font-bold text-gray-900",children:["Welcome to ",null===e||void 0===e?void 0:e.name,"!"]}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Manage your business operations from this dashboard"})]}),(0,Xa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:u.map(e=>(0,Xa.jsx)(No,{to:e.link,className:"card hover:shadow-md transition-shadow",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)("div",{className:"p-3 rounded-lg ".concat(e.color),children:(0,Xa.jsx)(e.icon,{className:"h-6 w-6 text-white"})}),(0,Xa.jsxs)("div",{className:"ml-4",children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:e.name}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:e.value})]})]})})},e.name))}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xa.jsxs)("div",{className:"card",children:[(0,Xa.jsx)("div",{className:"card-header",children:(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Quick Actions"})}),(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"space-y-3",children:[(0,Xa.jsxs)(No,{to:"/business/products",className:"w-full btn-primary text-left flex items-center",children:[(0,Xa.jsx)(Go,{className:"h-5 w-5 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium",children:"Add Product"}),(0,Xa.jsx)("p",{className:"text-sm opacity-75",children:"Create new products for your inventory"})]})]}),(0,Xa.jsxs)(No,{to:"/business/categories",className:"w-full btn-secondary text-left flex items-center",children:[(0,Xa.jsx)(Jo,{className:"h-5 w-5 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium",children:"Manage Categories"}),(0,Xa.jsx)("p",{className:"text-sm opacity-75",children:"Organize your products with categories"})]})]}),(0,Xa.jsxs)(No,{to:"/pos",className:"w-full btn-success text-left flex items-center",children:[(0,Xa.jsx)(Co,{className:"h-5 w-5 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium",children:"Open POS"}),(0,Xa.jsx)("p",{className:"text-sm opacity-75",children:"Start processing sales"})]})]})]})})]}),(0,Xa.jsxs)("div",{className:"card",children:[(0,Xa.jsx)("div",{className:"card-header",children:(0,Xa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Low Stock Alerts"}),n.lowStockProducts>0&&(0,Xa.jsx)(No,{to:"/business/products?low_stock=true",className:"text-sm text-primary-600 hover:text-primary-700",children:"View All"})]})}),(0,Xa.jsx)("div",{className:"card-body",children:s.length>0?(0,Xa.jsx)("div",{className:"space-y-3",children:s.map(e=>(0,Xa.jsxs)("div",{className:"flex items-center justify-between p-3 bg-yellow-50 rounded-lg border border-yellow-200",children:[(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(Vo,{className:"h-5 w-5 text-yellow-600 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium text-gray-900",children:e.name}),(0,Xa.jsxs)("p",{className:"text-sm text-gray-500",children:["SKU: ",e.sku]})]})]}),(0,Xa.jsxs)("div",{className:"text-right",children:[(0,Xa.jsxs)("p",{className:"font-semibold text-yellow-600",children:[e.quantity," left"]}),(0,Xa.jsxs)("p",{className:"text-sm text-gray-500",children:["$",e.price]})]})]},e.id))}):(0,Xa.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Xa.jsx)(Vo,{className:"mx-auto h-12 w-12 text-gray-400 mb-3"}),(0,Xa.jsx)("p",{children:"No low stock items"}),(0,Xa.jsx)("p",{className:"text-sm",children:"All products have sufficient stock"})]})})]})]}),0===n.totalProducts&&(0,Xa.jsx)("div",{className:"card border-primary-200 bg-primary-50",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"text-center",children:[(0,Xa.jsx)(Go,{className:"mx-auto h-12 w-12 text-primary-600 mb-4"}),(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Get Started with Your Inventory"}),(0,Xa.jsx)("p",{className:"text-gray-600 mb-6",children:"Set up your product catalog to start using the POS system effectively."}),(0,Xa.jsxs)("div",{className:"flex justify-center space-x-4",children:[(0,Xa.jsxs)(No,{to:"/business/categories",className:"btn-secondary",children:[(0,Xa.jsx)(Jo,{className:"h-4 w-4 mr-2"}),"Create Categories"]}),(0,Xa.jsxs)(No,{to:"/business/products",className:"btn-primary",children:[(0,Xa.jsx)(jc,{className:"h-4 w-4 mr-2"}),"Add Products"]})]})]})})})]})},Tc=["title","titleId"];function Oc(e,t){let{title:n,titleId:a}=e,s=xs(e,Tc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 3c2.755 0 5.455.232 8.083.678.533.09.917.556.917 1.096v1.044a2.25 2.25 0 0 1-.659 1.591l-5.432 5.432a2.25 2.25 0 0 0-.659 1.591v2.927a2.25 2.25 0 0 1-1.244 2.013L9.75 21v-6.568a2.25 2.25 0 0 0-.659-1.591L3.659 7.409A2.25 2.25 0 0 1 3 5.818V4.774c0-.54.384-1.006.917-1.096A48.32 48.32 0 0 1 12 3Z"}))}const Pc=r.forwardRef(Oc),Fc=["title","titleId"];function Lc(e,t){let{title:n,titleId:a}=e,s=xs(e,Fc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const Rc=r.forwardRef(Lc),Ac=["title","titleId"];function Dc(e,t){let{title:n,titleId:a}=e,s=xs(e,Ac);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const Ic=r.forwardRef(Dc),zc=["title","titleId"];function Mc(e,t){let{title:n,titleId:a}=e,s=xs(e,zc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m9.75 9.75 4.5 4.5m0-4.5-4.5 4.5M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Uc=r.forwardRef(Mc);const Bc=e=>{let{filters:t={},onFilterChange:n,loading:a=!1,className:s="",showDateRange:i=!0,showSearch:l=!0,searchPlaceholder:o="Search by name, SKU, ID...",initialFilters:c={},debounceMs:u=400,enablePersistence:d=!0,persistenceKey:m="global-filter"}=e;const[p,f]=(0,r.useState)(c),[h,x]=(0,r.useState)(c.search||""),[g,v]=(0,r.useState)(!1),y=[{label:"Today",value:"today"},{label:"Yesterday",value:"yesterday"},{label:"Last 7 Days",value:"last7days"},{label:"This Month",value:"thismonth"},{label:"Last 30 Days",value:"last30days"},{label:"Custom Range",value:"custom"}],b=(0,r.useCallback)(function(e,t){let n;return function(){for(var r=arguments.length,a=new Array(r),s=0;s<r;s++)a[s]=arguments[s];const i=()=>{clearTimeout(n),e(...a)};clearTimeout(n),n=setTimeout(i,t)}}(e=>{w("search",e)},u),[u]),w=(e,t)=>{const r=Ne({},p);""===t||null===t||void 0===t?delete r[e]:r[e]=t,f(r),d&&localStorage.setItem(m,JSON.stringify(r)),n&&n(r)},j=e=>{if("custom"===e)return void w("date_preset",e);const t=(e=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate());switch(e){case"today":return{start_date:n.toISOString().split("T")[0],end_date:n.toISOString().split("T")[0]};case"yesterday":const e=new Date(n);return e.setDate(n.getDate()-1),{start_date:e.toISOString().split("T")[0],end_date:e.toISOString().split("T")[0]};case"last7days":const r=new Date(n);return r.setDate(n.getDate()-7),{start_date:r.toISOString().split("T")[0],end_date:n.toISOString().split("T")[0]};case"thismonth":return{start_date:new Date(t.getFullYear(),t.getMonth(),1).toISOString().split("T")[0],end_date:n.toISOString().split("T")[0]};case"last30days":const a=new Date(n);return a.setDate(n.getDate()-30),{start_date:a.toISOString().split("T")[0],end_date:n.toISOString().split("T")[0]};default:return{start_date:"",end_date:""}}})(e),r=Ne(Ne({},p),{},{date_preset:e,start_date:t.start_date,end_date:t.end_date});f(r),d&&localStorage.setItem(m,JSON.stringify(r)),n&&n(r)};(0,r.useEffect)(()=>{if(d){const t=localStorage.getItem(m);if(t)try{const e=JSON.parse(t);f(e),x(e.search||""),n&&n(e)}catch(e){console.error("Error loading saved filters:",e)}}},[d,m,n]);const N=Object.keys(p).length;return(0,Xa.jsxs)("div",{className:"bg-white border rounded-lg shadow-sm ".concat(s),children:[(0,Xa.jsx)("div",{className:"px-4 py-3 border-b",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(Pc,{className:"h-5 w-5 text-gray-500"}),(0,Xa.jsx)("h3",{className:"text-sm font-medium text-gray-900",children:"Filters"}),N>0&&(0,Xa.jsx)("span",{className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium bg-blue-100 text-blue-800",children:N})]}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[N>0&&(0,Xa.jsx)("button",{onClick:()=>{f({}),x(""),d&&localStorage.removeItem(m),n&&n({})},className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all"}),(0,Xa.jsx)("button",{onClick:()=>v(!g),className:"sm:hidden p-1 text-gray-500 hover:text-gray-700",children:g?(0,Xa.jsx)(Sc,{className:"h-5 w-5"}):(0,Xa.jsx)(Pc,{className:"h-5 w-5"})})]})]})}),(0,Xa.jsx)("div",{className:"p-4 space-y-4 ".concat(g?"block":"hidden sm:block"),children:(0,Xa.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:[i&&(0,Xa.jsxs)("div",{className:"space-y-2",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Date Range"}),(0,Xa.jsxs)("select",{value:p.date_preset||"",onChange:e=>j(e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",children:[(0,Xa.jsx)("option",{value:"",children:"All time"}),y.map(e=>(0,Xa.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),"custom"===p.date_preset&&(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsxs)("div",{className:"space-y-2",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Start Date"}),(0,Xa.jsxs)("div",{className:"relative",children:[(0,Xa.jsx)(Rc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Xa.jsx)("input",{type:"date",value:p.start_date||"",onChange:e=>w("start_date",e.target.value),className:"w-full pl-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"})]})]}),(0,Xa.jsxs)("div",{className:"space-y-2",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"End Date"}),(0,Xa.jsxs)("div",{className:"relative",children:[(0,Xa.jsx)(Rc,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Xa.jsx)("input",{type:"date",value:p.end_date||"",onChange:e=>w("end_date",e.target.value),className:"w-full pl-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"})]})]})]}),l&&(0,Xa.jsxs)("div",{className:"space-y-2",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Search"}),(0,Xa.jsxs)("div",{className:"relative",children:[(0,Xa.jsx)(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Xa.jsx)("input",{type:"text",value:h,onChange:e=>{const t=e.target.value;x(t),b(t)},placeholder:o,className:"w-full pl-10 pr-10 rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm"}),h&&(0,Xa.jsx)("button",{onClick:()=>{x(""),w("search","")},className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-4 w-4"})})]})]}),Object.entries(t).map(e=>{var t;let[n,r]=e;return(0,Xa.jsxs)("div",{className:"space-y-2",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:r.label}),(0,Xa.jsxs)("select",{value:p[n]||"",onChange:e=>w(n,e.target.value),className:"w-full rounded-md border-gray-300 shadow-sm focus:border-blue-500 focus:ring-blue-500 text-sm",disabled:a||r.loading,children:[(0,Xa.jsx)("option",{value:"",children:r.placeholder||"All ".concat(r.label.toLowerCase())}),null===(t=r.options)||void 0===t?void 0:t.map(e=>(0,Xa.jsx)("option",{value:e.value,children:e.label},e.value))]})]},n)})]})}),N>0&&(0,Xa.jsx)("div",{className:"px-4 py-3 border-t bg-gray-50",children:(0,Xa.jsx)("div",{className:"flex flex-wrap gap-2",children:Object.entries(p).map(e=>{var n,r;let[a,s]=e;if(!s||"start_date"===a||"end_date"===a)return null;let i=s;if("date_preset"===a){const e=y.find(e=>e.value===s);i=e?e.label:s}else if("search"===a)i='"'.concat(s,'"');else if(null!==(n=t[a])&&void 0!==n&&n.options){const e=t[a].options.find(e=>e.value===s);i=e?e.label:s}return(0,Xa.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm bg-blue-100 text-blue-800",children:[(0,Xa.jsxs)("span",{className:"font-medium",children:[(null===(r=t[a])||void 0===r?void 0:r.label)||a,":"]}),(0,Xa.jsx)("span",{className:"ml-1",children:i}),(0,Xa.jsx)("button",{onClick:()=>(e=>{"search"===e&&x(""),w(e,null)})(a),className:"ml-2 hover:bg-blue-200 rounded-full p-0.5",children:(0,Xa.jsx)(Uc,{className:"h-3 w-3"})})]},a)})})}),a&&(0,Xa.jsx)("div",{className:"px-4 py-2 border-t",children:(0,Xa.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Xa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-blue-500 mr-2"}),"Applying filters..."]})})]})},Vc=e=>{let{defaultFilters:t={},persistenceKey:n="global-filter",enableUrlSync:a=!1,enablePersistence:s=!0,onFilterChange:i,apiEndpoint:l,apiParams:o={},debounceMs:c=400}=e;const[u,d]=(0,r.useState)(t),[m,p]=(0,r.useState)(!1),[f,h]=(0,r.useState)(null),[x,g]=(0,r.useState)(null),v=(0,r.useCallback)(function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:u;const t=Ne({},o);return Object.entries(e).forEach(e=>{let[n,r]=e;null!==r&&void 0!==r&&""!==r&&(t[n]=r)}),t},[u,o]),y=(0,r.useCallback)(e=>{if(d(e),h(null),s)try{localStorage.setItem(n,JSON.stringify(e))}catch(f){console.warn("Failed to save filters to localStorage:",f)}if(a&&"undefined"!==typeof window){const n=new URL(window.location),r=v(e);Array.from(n.searchParams.keys()).forEach(e=>{(Object.keys(t).includes(e)||["search","start_date","end_date","date_preset"].includes(e))&&n.searchParams.delete(e)}),Object.entries(r).forEach(e=>{let[t,r]=e;r&&n.searchParams.set(t,r)}),window.history.replaceState({},"",n)}i&&i(e,v(e))},[s,n,a,v,i,t]),b=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;if(l){p(!0),h(null);try{const t=v(e||u),n=new URL(l,window.location.origin);Object.entries(t).forEach(e=>{let[t,r]=e;null!==r&&void 0!==r&&""!==r&&n.searchParams.append(t,r)});const r=await fetch(n.toString(),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token")),"Content-Type":"application/json"}});if(!r.ok)throw new Error("HTTP error! status: ".concat(r.status));const a=await r.json();g(a)}catch(f){console.error("Filter data fetch error:",f),h(f.message)}finally{p(!1)}}},[l,u,v]);(0,r.useEffect)(()=>{let e=Ne({},t);if(s)try{const t=localStorage.getItem(n);if(t){const n=JSON.parse(t);e=Ne(Ne({},e),n)}}catch(f){console.warn("Failed to load filters from localStorage:",f)}if(a&&"undefined"!==typeof window){const n=new URLSearchParams(window.location.search),r={};for(const[e,a]of n.entries())(Object.keys(t).includes(e)||["search","start_date","end_date","date_preset"].includes(e))&&(r[e]=a);e=Ne(Ne({},e),r)}d(e)},[t,s,a,n]),(0,r.useEffect)(()=>{if(l){const e=setTimeout(()=>{b()},c);return()=>clearTimeout(e)}},[b,l,c]);const w=(0,r.useCallback)(()=>{y({})},[y]),j=(0,r.useCallback)((e,t)=>{const n=Ne({},u);null===t||void 0===t||""===t?delete n[e]:n[e]=t,y(n)},[u,y]),N=(0,r.useCallback)(function(){return Ne({filters:u,onFilterChange:y,loading:m,error:f,clearFilters:w,updateFilter:j,generateQueryParams:v},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})},[u,y,m,f,w,j,v]),k=(0,r.useCallback)(()=>{b()},[b]),S=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"excel",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(l||t)try{p(!0);const n=v(),r=t||"".concat(l,"/export"),a=new URL(r,window.location.origin);a.searchParams.append("format",e),Object.entries(n).forEach(e=>{let[t,n]=e;null!==n&&void 0!==n&&""!==n&&a.searchParams.append(t,n)});const s=await fetch(a.toString(),{headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))}});if(!s.ok)throw new Error("Export failed: ".concat(s.status));const i=await s.blob(),o=window.URL.createObjectURL(i),c=document.createElement("a");c.href=o,c.download="export_".concat(Date.now(),".").concat("excel"===e?"xlsx":e),document.body.appendChild(c),c.click(),window.URL.revokeObjectURL(o),document.body.removeChild(c)}catch(f){console.error("Export error:",f),h(f.message)}finally{p(!1)}},[l,v]);return{filters:u,loading:m,error:f,data:x,setFilters:y,clearFilters:w,updateFilter:j,refresh:k,exportData:S,generateQueryParams:v,getFilterConfig:N,hasActiveFilters:Object.keys(u).length>0,activeFilterCount:Object.keys(u).length}},Hc=async function(){let e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];const t=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").replace(/[^a-zA-Z0-9]/g,"").toUpperCase().slice(0,4)||"PROD",n=Date.now().toString(36).toUpperCase(),r=Math.random().toString(36).substr(2,3).toUpperCase();let a="".concat(t,"-").concat(n,"-").concat(r),s=1;for(;e.some(e=>e.sku===a);)a="".concat(t,"-").concat(n,"-").concat(r,"-").concat(s),s++;return a},qc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"EAN13";if(!e)return"";let n="";for(let r=0;r<e.length;r++)n+=e.charCodeAt(r).toString().slice(-1);if("EAN13"===t){n=n.padEnd(12,"0").slice(0,12);return n+$c(n)}return"CODE128"===t?e.toUpperCase().replace(/[^A-Z0-9]/g,""):n.slice(0,10)},$c=e=>{let t=0;for(let n=0;n<12;n++){const r=parseInt(e[n]);t+=n%2===0?r:3*r}return((10-t%10)%10).toString()},Wc=e=>{const t=[],n=[],r=new Set,a=new Set;return e.forEach((e,s)=>{var i;const l=[],o=Ne(Ne({},e),{},{line:s+1});e.name&&""!==e.name.trim()||l.push("Name is required"),!e.price||isNaN(parseFloat(e.price))||parseFloat(e.price)<=0?l.push("Valid price is required"):o.price=parseFloat(e.price),!e.product_cost||isNaN(parseFloat(e.product_cost))||parseFloat(e.product_cost)<0?l.push("Valid product cost is required"):o.product_cost=parseFloat(e.product_cost),!e.quantity||isNaN(parseInt(e.quantity))||parseInt(e.quantity)<0?l.push("Valid quantity is required"):o.quantity=parseInt(e.quantity),e.sku&&""!==e.sku.trim()?o.sku=e.sku.trim():o.sku=Hc(e.name),r.has(o.sku)?l.push("Duplicate SKU in import data"):r.add(o.sku),e.barcode&&""!==e.barcode.trim()&&(o.barcode=e.barcode.trim(),a.has(o.barcode)?l.push("Duplicate barcode in import data"):a.add(o.barcode)),e.status&&!["active","inactive"].includes(e.status.toLowerCase())&&l.push('Status must be "active" or "inactive"'),o.status="inactive"===(null===(i=e.status)||void 0===i?void 0:i.toLowerCase())?"inactive":"active",l.length>0?t.push({line:s+1,errors:l,data:e}):n.push(o)}),{validatedData:n,errors:t}},Kc=e=>{const t=e.split("\n").filter(e=>""!==e.trim());if(t.length<2)throw new Error("CSV must have at least a header row and one data row");const n=t[0].split(",").map(e=>e.trim().replace(/"/g,"")),r=[];for(let a=1;a<t.length;a++){const e=t[a].split(",").map(e=>e.trim().replace(/"/g,"")),s={};n.forEach((t,n)=>{s[t.toLowerCase().replace(/\s+/g,"_")]=e[n]||""}),r.push(s)}return r},Zc=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{format:n="80mm",layout:r="barcode_top",includeLogo:a=!1,fontSize:s="normal"}=t,i="58mm"===n?"58mm":"80mm",l="small"===s?"8px":"large"===s?"12px":"10px",o=e.barcode?'\n    <div class="barcode" style="text-align: center; margin: 5px 0;">\n      <div style="font-family: \'Libre Barcode 128\', monospace; font-size: 24px; line-height: 1;">\n        '.concat(e.barcode,'\n      </div>\n      <div style="font-size: 8px; margin-top: 2px;">').concat(e.barcode,"</div>\n    </div>\n  "):"";return"\n    <!DOCTYPE html>\n    <html>\n    <head>\n      <title>Product Label</title>\n      <style>\n        @import url('https://fonts.googleapis.com/css2?family=Libre+Barcode+128&display=swap');\n        body { \n          margin: 0; \n          padding: 5mm; \n          font-family: monospace; \n          font-size: ".concat(l,";\n          width: ").concat(i,';\n        }\n        .label { \n          border: 1px solid #000; \n          padding: 3mm; \n          width: 100%;\n          text-align: center;\n        }\n        .product-name { \n          font-weight: bold; \n          margin: 3px 0; \n          word-wrap: break-word;\n        }\n        .sku { \n          font-size: 8px; \n          margin: 2px 0; \n        }\n        .price { \n          font-size: 12px; \n          font-weight: bold; \n          margin: 3px 0; \n        }\n        @media print {\n          body { margin: 0; padding: 2mm; }\n          .label { border: 1px solid #000; }\n        }\n      </style>\n    </head>\n    <body>\n      <div class="label">\n        ').concat("barcode_top"===r?o:"",'\n        <div class="product-name">').concat(e.name,'</div>\n        <div class="sku">SKU: ').concat(e.sku,'</div>\n        <div class="price">\u20b1').concat(parseFloat(e.price).toFixed(2),"</div>\n        ").concat("barcode_bottom"===r?o:"","\n      </div>\n    </body>\n    </html>\n  ")},Gc=function(e){const t=Zc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=window.open("","_blank","width=400,height=300");n.document.write(t),n.document.close(),setTimeout(()=>{n.print(),setTimeout(()=>{n.close()},1e3)},500)},Qc=[{value:"restock",label:"Inventory Restock"},{value:"sale_return",label:"Sale Return"},{value:"damage",label:"Damaged Items"},{value:"theft",label:"Theft/Loss"},{value:"count_correction",label:"Count Correction"},{value:"transfer_in",label:"Transfer In"},{value:"transfer_out",label:"Transfer Out"},{value:"promotion",label:"Promotional Adjustment"},{value:"other",label:"Other"}],Yc=["title","titleId"];function Jc(e,t){let{title:n,titleId:a}=e,s=xs(e,Yc);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const Xc=r.forwardRef(Jc),eu=["title","titleId"];function tu(e,t){let{title:n,titleId:a}=e,s=xs(e,eu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const nu=r.forwardRef(tu),ru=["title","titleId"];function au(e,t){let{title:n,titleId:a}=e,s=xs(e,ru);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const su=r.forwardRef(au),iu=["title","titleId"];function lu(e,t){let{title:n,titleId:a}=e,s=xs(e,iu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const ou=r.forwardRef(lu),cu=["title","titleId"];function uu(e,t){let{title:n,titleId:a}=e,s=xs(e,cu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 6h9.75M10.5 6a1.5 1.5 0 1 1-3 0m3 0a1.5 1.5 0 1 0-3 0M3.75 6H7.5m3 12h9.75m-9.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-3.75 0H7.5m9-6h3.75m-3.75 0a1.5 1.5 0 0 1-3 0m3 0a1.5 1.5 0 0 0-3 0m-9.75 0h9.75"}))}const du=r.forwardRef(uu),mu=["title","titleId"];function pu(e,t){let{title:n,titleId:a}=e,s=xs(e,mu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.72 13.829c-.24.03-.48.062-.72.096m.72-.096a42.415 42.415 0 0 1 10.56 0m-10.56 0L6.34 18m10.94-4.171c.24.03.48.062.72.096m-.72-.096L17.66 18m0 0 .229 2.523a1.125 1.125 0 0 1-1.12 1.227H7.231c-.662 0-1.18-.568-1.12-1.227L6.34 18m11.318 0h1.091A2.25 2.25 0 0 0 21 15.75V9.456c0-1.081-.768-2.015-1.837-2.175a48.055 48.055 0 0 0-1.913-.247M6.34 18H5.25A2.25 2.25 0 0 1 3 15.75V9.456c0-1.081.768-2.015 1.837-2.175a48.041 48.041 0 0 1 1.913-.247m10.5 0a48.536 48.536 0 0 0-10.5 0m10.5 0V3.375c0-.621-.504-1.125-1.125-1.125h-8.25c-.621 0-1.125.504-1.125 1.125v3.659M18 10.5h.008v.008H18V10.5Zm-3 0h.008v.008H15V10.5Z"}))}const fu=r.forwardRef(pu),hu=["title","titleId"];function xu(e,t){let{title:n,titleId:a}=e,s=xs(e,hu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m2.25 15.75 5.159-5.159a2.25 2.25 0 0 1 3.182 0l5.159 5.159m-1.5-1.5 1.409-1.409a2.25 2.25 0 0 1 3.182 0l2.909 2.909m-18 3.75h16.5a1.5 1.5 0 0 0 1.5-1.5V6a1.5 1.5 0 0 0-1.5-1.5H3.75A1.5 1.5 0 0 0 2.25 6v12a1.5 1.5 0 0 0 1.5 1.5Zm10.5-11.25h.008v.008h-.008V8.25Zm.375 0a.375.375 0 1 1-.75 0 .375.375 0 0 1 .75 0Z"}))}const gu=r.forwardRef(xu),vu=["title","titleId"];function yu(e,t){let{title:n,titleId:a}=e,s=xs(e,vu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const bu=r.forwardRef(yu),wu=["title","titleId"];function ju(e,t){let{title:n,titleId:a}=e,s=xs(e,wu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m14.74 9-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 0 1-2.244 2.077H8.084a2.25 2.25 0 0 1-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 0 0-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 0 1 3.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 0 0-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 0 0-7.5 0"}))}const Nu=r.forwardRef(ju),ku=lo({name:Kl().required("Product name is required"),sku:Kl().required("SKU is required"),price:Gl().positive("Price must be positive").required("Price is required"),product_cost:Gl().min(0,"Product cost cannot be negative").required("Product cost is required"),quantity:Gl().min(0,"Quantity cannot be negative").required("Quantity is required"),description:Kl(),barcode:Kl(),category_id:Kl(),brand:Kl(),supplier:Kl(),low_stock_threshold:Gl().min(1,"Threshold must be at least 1").required("Low stock threshold is required")}),Su=e=>{let{product:t,onClose:n,onAdjust:a}=e;const[s,i]=(0,r.useState)("add"),[l,o]=(0,r.useState)(""),[c,u]=(0,r.useState)(""),[d,m]=(0,r.useState)(""),[p,f]=(0,r.useState)(!1);return(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xa.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full mx-4",children:(0,Xa.jsxs)("div",{className:"p-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Stock Adjustment"}),(0,Xa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsx)("div",{className:"mb-4",children:(0,Xa.jsxs)("p",{className:"text-sm text-gray-600",children:[(0,Xa.jsx)("strong",{children:t.name})," - Current stock: ",(0,Xa.jsx)("strong",{children:t.quantity})]})}),(0,Xa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),!l||parseFloat(l)<=0)zr.error("Please enter a valid quantity");else{f(!0);try{await a({type:s,quantity:parseFloat(l),reason:c,notes:d})}finally{f(!1)}}},className:"space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Adjustment Type"}),(0,Xa.jsxs)("div",{className:"flex space-x-4",children:[(0,Xa.jsxs)("label",{className:"flex items-center",children:[(0,Xa.jsx)("input",{type:"radio",value:"add",checked:"add"===s,onChange:e=>i(e.target.value),className:"mr-2"}),"Add Stock"]}),(0,Xa.jsxs)("label",{className:"flex items-center",children:[(0,Xa.jsx)("input",{type:"radio",value:"subtract",checked:"subtract"===s,onChange:e=>i(e.target.value),className:"mr-2"}),"Remove Stock"]})]})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity"}),(0,Xa.jsx)("input",{type:"number",min:"1",value:l,onChange:e=>o(e.target.value),className:"input w-full",required:!0})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reason"}),(0,Xa.jsxs)("select",{value:c,onChange:e=>u(e.target.value),className:"input w-full",required:!0,children:[(0,Xa.jsx)("option",{value:"",children:"Select reason..."}),Qc.map(e=>(0,Xa.jsx)("option",{value:e.value,children:e.label},e.value))]})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),(0,Xa.jsx)("textarea",{rows:"3",value:d,onChange:e=>m(e.target.value),className:"input w-full",placeholder:"Additional notes..."})]}),(0,Xa.jsxs)("div",{className:"flex justify-end space-x-3",children:[(0,Xa.jsx)("button",{type:"button",onClick:n,className:"btn-secondary",children:"Cancel"}),(0,Xa.jsx)("button",{type:"submit",disabled:p,className:"btn-primary",children:p?"Processing...":"Adjust Stock"})]})]})]})})})},_u=e=>{let{products:t,onClose:n,onPrint:a}=e;const[s,i]=(0,r.useState)({format:"80mm",layout:"barcode_top",fontSize:"normal"});return(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xa.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full mx-4",children:(0,Xa.jsxs)("div",{className:"p-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Print Labels"}),(0,Xa.jsx)("button",{onClick:n,className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsx)("div",{className:"mb-4",children:(0,Xa.jsxs)("p",{className:"text-sm text-gray-600",children:["Printing labels for ",(0,Xa.jsx)("strong",{children:t.length})," product(s)"]})}),(0,Xa.jsxs)("div",{className:"space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paper Format"}),(0,Xa.jsxs)("select",{value:s.format,onChange:e=>i(t=>Ne(Ne({},t),{},{format:e.target.value})),className:"input w-full",children:[(0,Xa.jsx)("option",{value:"58mm",children:"58mm Receipt Paper"}),(0,Xa.jsx)("option",{value:"80mm",children:"80mm Receipt Paper"})]})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Layout"}),(0,Xa.jsxs)("select",{value:s.layout,onChange:e=>i(t=>Ne(Ne({},t),{},{layout:e.target.value})),className:"input w-full",children:[(0,Xa.jsx)("option",{value:"barcode_top",children:"Barcode Above Product Name"}),(0,Xa.jsx)("option",{value:"barcode_bottom",children:"Barcode Below Product Name"})]})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),(0,Xa.jsxs)("select",{value:s.fontSize,onChange:e=>i(t=>Ne(Ne({},t),{},{fontSize:e.target.value})),className:"input w-full",children:[(0,Xa.jsx)("option",{value:"small",children:"Small"}),(0,Xa.jsx)("option",{value:"normal",children:"Normal"}),(0,Xa.jsx)("option",{value:"large",children:"Large"})]})]})]}),(0,Xa.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Xa.jsx)("button",{onClick:n,className:"btn-secondary",children:"Cancel"}),(0,Xa.jsx)("button",{onClick:()=>a(s),className:"btn-primary",children:"Print Labels"})]})]})})})},Eu=()=>{const{formatAmount:e}=ms(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)([]),[i,l]=(0,r.useState)(!0),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[m,p]=(0,r.useState)(null),[f,h]=(0,r.useState)([]),[x,g]=(0,r.useState)(!1),[v,y]=(0,r.useState)(!1),[b,w]=(0,r.useState)(!1),[j,N]=(0,r.useState)(null),[k,S]=(0,r.useState)([]),[_,E]=(0,r.useState)([]),[C,T]=(0,r.useState)(!1),[O,P]=(0,r.useState)(!1),[F,L]=(0,r.useState)(null),[R,A]=(0,r.useState)(!1),[D,I]=(0,r.useState)([]),[z,M]=(0,r.useState)(null),[U,B]=(0,r.useState)(""),[V,H]=(0,r.useState)(!1),[q,$]=(0,r.useState)(null),[W,K]=(0,r.useState)(!1),Z=(0,r.useRef)(null),G=(0,r.useRef)(null),Q={category:{label:"Category",placeholder:"All categories",options:a.map(e=>({value:e.id,label:e.name}))},status:{label:"Status",placeholder:"All statuses",options:[{value:"active",label:"Active"},{value:"inactive",label:"Inactive"},{value:"low_stock",label:"Low Stock"}]}},{filters:Y,setFilters:J,loading:X,generateQueryParams:ee,clearFilters:te,hasActiveFilters:ne}=Vc({defaultFilters:{},persistenceKey:"products-filter",enablePersistence:!0}),re=(0,r.useCallback)(async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;try{l(!0);const t=Ne({},ee(e||Y));"low_stock"===t.status&&(t.low_stock=!0,delete t.status);const r=await Na(t);n(Array.isArray(r.data)?r.data:[])}catch(a){var t,r;console.error("Failed to fetch data:",a),n([]),zr.error("Failed to load data: ".concat((null===(t=a.response)||void 0===t||null===(r=t.data)||void 0===r?void 0:r.detail)||a.message))}finally{l(!1)}},[ee]),{register:ae,handleSubmit:se,formState:{errors:ie},reset:le,setValue:oe,watch:ce}=Vi({resolver:Ki(ku)}),ue=ce("name");(0,r.useEffect)(()=>{de(),re()},[]);const de=async()=>{try{const e=await Aa();s(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Failed to load categories:",e)}},me=()=>{c(!1),d(null),p(null),le()},pe=async e=>{T(!0);try{const t=await e.text();let n;if(!e.name.endsWith(".csv"))return void zr.error("Excel import not yet implemented. Please use CSV format.");n=Kc(t);const{validatedData:r,errors:a}=Wc(n);S(r),E(a),w(!0)}catch(t){zr.error("Failed to process file: "+t.message)}finally{T(!1)}},fe=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"csv";try{const t=ee(),n=await Oa(Ne(Ne({},t),{},{format:e})),r="products_export_".concat((new Date).toISOString().slice(0,10),".").concat(e),a=window.URL.createObjectURL(new Blob([n.data])),s=document.createElement("a");s.href=a,s.setAttribute("download",r),document.body.appendChild(s),s.click(),s.remove(),window.URL.revokeObjectURL(a),zr.success("Products exported successfully!")}catch(r){var t,n;zr.error("Export failed: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}},he=(e,t,n)=>{M("".concat(e,"-").concat(t)),B(n)},xe=async(e,t)=>{try{await Ra(e,{field:t,value:U}),zr.success("".concat(t.charAt(0).toUpperCase()+t.slice(1)," updated successfully")),M(null),re()}catch(n){zr.error("Failed to update ".concat(t))}},ge=()=>{M(null),B("")},ve=e=>0===e.quantity?(0,Xa.jsx)("span",{className:"badge badge-error text-xs",children:"Out of Stock"}):(e=>e.quantity<=(e.low_stock_threshold||10))(e)?(0,Xa.jsx)("span",{className:"badge badge-warning text-xs",children:"Low Stock"}):(0,Xa.jsx)("span",{className:"badge badge-success text-xs",children:"In Stock"});return i?(0,Xa.jsx)(hs,{}):(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Product Management"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Manage your product inventory with advanced features"})]}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsxs)("button",{onClick:()=>{var e;return null===(e=Z.current)||void 0===e?void 0:e.click()},className:"btn-secondary text-sm flex items-center",disabled:C,children:[(0,Xa.jsx)(Xc,{className:"h-4 w-4 mr-2"}),C?"Processing...":"Import"]}),(0,Xa.jsx)("input",{ref:Z,type:"file",accept:".csv,.xlsx,.xls",onChange:e=>{const t=e.target.files[0];t&&(t.name.match(/\.(csv|xlsx|xls)$/)?(N(t),pe(t)):zr.error("Please select a CSV or Excel file"))},className:"hidden"}),(0,Xa.jsxs)("button",{onClick:()=>fe("csv"),className:"btn-secondary text-sm flex items-center",children:[(0,Xa.jsx)(nu,{className:"h-4 w-4 mr-2"}),"Export CSV"]}),(0,Xa.jsxs)("button",{onClick:()=>fe("excel"),className:"btn-secondary text-sm flex items-center",children:[(0,Xa.jsx)(nu,{className:"h-4 w-4 mr-2"}),"Export Excel"]}),(0,Xa.jsxs)("button",{onClick:()=>c(!0),className:"btn-primary flex items-center",children:[(0,Xa.jsx)(jc,{className:"h-4 w-4 mr-2"}),"Add Product"]})]})]}),(0,Xa.jsx)(Bc,{filters:Q,onFilterChange:J,loading:X,initialFilters:Y,searchPlaceholder:"Search products by name, SKU, barcode..."}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body overflow-x-auto",children:[(0,Xa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xa.jsx)("thead",{className:"bg-gray-50",children:(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Product"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"SKU/Barcode"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Price/Cost"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stock"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:t.map(t=>(0,Xa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xa.jsx)("td",{className:"px-6 py-4",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)("div",{className:"flex-shrink-0 h-10 w-10",children:t.image_url?(0,Xa.jsx)("img",{className:"h-10 w-10 rounded object-cover",src:t.image_url,alt:t.name}):(0,Xa.jsx)("div",{className:"h-10 w-10 rounded bg-gray-200 flex items-center justify-center",children:(0,Xa.jsx)(Go,{className:"h-6 w-6 text-gray-400"})})}),(0,Xa.jsxs)("div",{className:"ml-4",children:[(0,Xa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),(0,Xa.jsx)("div",{className:"text-sm text-gray-500",children:t.category_name||"No category"}),t.brand&&(0,Xa.jsxs)("div",{className:"text-xs text-gray-400",children:["Brand: ",t.brand]})]})]})}),(0,Xa.jsxs)("td",{className:"px-6 py-4",children:[(0,Xa.jsx)("div",{className:"text-sm text-gray-900",children:t.sku}),t.barcode&&(0,Xa.jsx)("div",{className:"text-xs text-gray-500",children:t.barcode})]}),(0,Xa.jsx)("td",{className:"px-6 py-4",children:(0,Xa.jsxs)("div",{className:"space-y-1",children:[z==="".concat(t.id,"-price")?(0,Xa.jsx)("div",{className:"flex items-center space-x-1",children:(0,Xa.jsx)("input",{type:"number",step:"0.01",value:U,onChange:e=>B(e.target.value),className:"w-20 px-2 py-1 text-xs border rounded",onBlur:()=>xe(t.id,"price"),onKeyPress:e=>{"Enter"===e.key&&xe(t.id,"price"),"Escape"===e.key&&ge()},autoFocus:!0})}):(0,Xa.jsx)("div",{className:"text-sm font-medium text-blue-600 cursor-pointer hover:text-blue-800",onClick:()=>he(t.id,"price",t.price),children:e(t.price)}),z==="".concat(t.id,"-product_cost")?(0,Xa.jsx)("div",{className:"flex items-center space-x-1",children:(0,Xa.jsx)("input",{type:"number",step:"0.01",value:U,onChange:e=>B(e.target.value),className:"w-20 px-2 py-1 text-xs border rounded",onBlur:()=>xe(t.id,"product_cost"),onKeyPress:e=>{"Enter"===e.key&&xe(t.id,"product_cost"),"Escape"===e.key&&ge()},autoFocus:!0})}):(0,Xa.jsxs)("div",{className:"text-xs text-gray-500 cursor-pointer hover:text-gray-700",onClick:()=>he(t.id,"product_cost",t.product_cost),children:["Cost: ",e(t.product_cost||0)]})]})}),(0,Xa.jsx)("td",{className:"px-6 py-4",children:(0,Xa.jsxs)("div",{className:"space-y-1",children:[z==="".concat(t.id,"-quantity")?(0,Xa.jsx)("div",{className:"flex items-center space-x-1",children:(0,Xa.jsx)("input",{type:"number",value:U,onChange:e=>B(e.target.value),className:"w-20 px-2 py-1 text-xs border rounded",onBlur:()=>xe(t.id,"quantity"),onKeyPress:e=>{"Enter"===e.key&&xe(t.id,"quantity"),"Escape"===e.key&&ge()},autoFocus:!0})}):(0,Xa.jsx)("div",{className:"text-sm text-gray-900 cursor-pointer hover:text-gray-700",onClick:()=>he(t.id,"quantity",t.quantity),children:t.quantity}),ve(t)]})}),(0,Xa.jsx)("td",{className:"px-6 py-4",children:(0,Xa.jsx)("button",{onClick:()=>(async(e,t)=>{try{const n="active"===t?"inactive":"active";await Fa(e,n),zr.success("Product ".concat("active"===n?"activated":"deactivated")),re()}catch(n){zr.error("Failed to update product status")}})(t.id,t.status),className:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium ".concat("active"===t.status?"bg-green-100 text-green-800":"bg-red-100 text-red-800"),children:"active"===t.status?"Active":"Inactive"})}),(0,Xa.jsx)("td",{className:"px-6 py-4",children:(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)("button",{onClick:()=>(e=>{d(e),le(e)})(t),className:"text-blue-600 hover:text-blue-900",title:"Edit Product",children:(0,Xa.jsx)(su,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>(async e=>{p(e),g(!0);try{const t=await Ca(e.id);h(t.data)}catch(t){zr.error("Failed to load cost history"),h([])}finally{g(!1)}})(t),className:"text-green-600 hover:text-green-900",title:"View Cost History",children:(0,Xa.jsx)(ou,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>(e=>{L(e),P(!0)})(t),className:"text-purple-600 hover:text-purple-900",title:"Adjust Stock",children:(0,Xa.jsx)(du,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];I(Array.isArray(e)?e:[e]),A(!0)}(t),className:"text-indigo-600 hover:text-indigo-900",title:"Print Label",children:(0,Xa.jsx)(fu,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>(e=>{$(e),H(!0)})(t),className:"text-yellow-600 hover:text-yellow-900",title:"Upload Image",children:(0,Xa.jsx)(gu,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>(async e=>{try{const t=await La(e,{copy_barcode:!1,copy_quantity:!1});zr.success("Product duplicated: ".concat(t.data.duplicate_name)),re()}catch(r){var t,n;zr.error("Product duplication failed: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}})(t.id),className:"text-cyan-600 hover:text-cyan-900",title:"Duplicate Product",children:(0,Xa.jsx)(bu,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"?')))try{await _a(e),zr.success("Product deleted successfully!"),re()}catch(n){zr.error("Failed to delete product")}})(t.id,t.name),className:"text-red-600 hover:text-red-900",title:"Delete Product",children:(0,Xa.jsx)(Nu,{className:"h-4 w-4"})})]})})]},t.id))})]}),0===t.length&&(0,Xa.jsxs)("div",{className:"text-center py-8",children:[(0,Xa.jsx)(Go,{className:"h-12 w-12 mx-auto text-gray-300 mb-4"}),(0,Xa.jsx)("p",{className:"text-gray-500",children:"No products found"}),ne&&(0,Xa.jsx)("button",{onClick:te,className:"btn-secondary text-sm mt-2",children:"Clear filters"})]})]})}),(o||u)&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xa.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-96 overflow-y-auto",children:(0,Xa.jsxs)("div",{className:"p-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:u?"Edit Product":"Create Product"}),(0,Xa.jsx)("button",{onClick:me,className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsxs)("form",{onSubmit:se(u?async e=>{y(!0);try{await Sa(u.id,e),zr.success("Product updated successfully!"),d(null),le(),re()}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to update product";zr.error(e)}finally{y(!1)}}:async e=>{y(!0);try{e.sku&&""!==e.sku.trim()||(e.sku=await Hc(e.name,t)),!e.barcode&&e.sku&&(e.barcode=qc(e.sku)),await ka(e),zr.success("Product created successfully!"),c(!1),le(),re()}catch(a){var n,r;const e=(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to create product";zr.error(e)}finally{y(!1)}}),children:[(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Name *"}),(0,Xa.jsx)("input",Ne(Ne({type:"text"},ae("name")),{},{className:"input w-full"})),ie.name&&(0,Xa.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ie.name.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"SKU *"}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsx)("input",Ne(Ne({type:"text"},ae("sku")),{},{className:"input flex-1",placeholder:"Leave empty to auto-generate"})),(0,Xa.jsx)("button",{type:"button",onClick:async()=>{const e=await Hc(ue||"Product",t);oe("sku",e)},className:"btn-secondary text-xs px-3 py-2",children:"Generate"})]}),ie.sku&&(0,Xa.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ie.sku.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Price *"}),(0,Xa.jsx)("input",Ne(Ne({type:"number",step:"0.01",min:"0"},ae("price")),{},{className:"input w-full"})),ie.price&&(0,Xa.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ie.price.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Product Cost *"}),(0,Xa.jsx)("input",Ne(Ne({type:"number",step:"0.01",min:"0"},ae("product_cost")),{},{className:"input w-full"})),ie.product_cost&&(0,Xa.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ie.product_cost.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Quantity *"}),(0,Xa.jsx)("input",Ne(Ne({type:"number",min:"0"},ae("quantity")),{},{className:"input w-full"})),ie.quantity&&(0,Xa.jsx)("p",{className:"text-red-500 text-xs mt-1",children:ie.quantity.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Low Stock Alert"}),(0,Xa.jsx)("input",Ne(Ne({type:"number",min:"1"},ae("low_stock_threshold")),{},{className:"input w-full",defaultValue:10}))]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Barcode"}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsx)("input",Ne(Ne({type:"text"},ae("barcode")),{},{className:"input flex-1",placeholder:"Optional"})),(0,Xa.jsx)("button",{type:"button",onClick:()=>{const e=ce("sku");e&&oe("barcode",qc(e))},className:"btn-secondary text-xs px-3 py-2",children:"Generate"})]})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Category"}),(0,Xa.jsxs)("select",Ne(Ne({},ae("category_id")),{},{className:"input w-full",children:[(0,Xa.jsx)("option",{value:"",children:"Select Category"}),a.map(e=>(0,Xa.jsx)("option",{value:e.id,children:e.name},e.id))]}))]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Brand"}),(0,Xa.jsx)("input",Ne(Ne({type:"text"},ae("brand")),{},{className:"input w-full",placeholder:"Optional"}))]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Supplier"}),(0,Xa.jsx)("input",Ne(Ne({type:"text"},ae("supplier")),{},{className:"input w-full",placeholder:"Optional"}))]})]}),(0,Xa.jsxs)("div",{className:"mt-4",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Xa.jsx)("textarea",Ne(Ne({rows:"3"},ae("description")),{},{className:"input w-full",placeholder:"Product description..."}))]}),(0,Xa.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Xa.jsx)("button",{type:"button",onClick:me,className:"btn-secondary",children:"Cancel"}),(0,Xa.jsx)("button",{type:"submit",disabled:v,className:"btn-primary",children:v?"Saving...":u?"Update":"Create"})]})]})]})})}),b&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xa.jsx)("div",{className:"bg-white rounded-lg max-w-4xl w-full mx-4 max-h-96 overflow-y-auto",children:(0,Xa.jsxs)("div",{className:"p-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Import Preview"}),(0,Xa.jsx)("button",{onClick:()=>w(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),_.length>0&&(0,Xa.jsxs)("div",{className:"mb-4 p-3 bg-red-50 border border-red-200 rounded",children:[(0,Xa.jsx)("h4",{className:"font-medium text-red-800 mb-2",children:"Import Errors:"}),(0,Xa.jsx)("ul",{className:"text-sm text-red-700 space-y-1",children:_.slice(0,10).map((e,t)=>(0,Xa.jsxs)("li",{children:["Line ",e.line,": ",e.errors.join(", ")]},t))}),_.length>10&&(0,Xa.jsxs)("p",{className:"text-sm text-red-600 mt-2",children:["...and ",_.length-10," more errors"]})]}),(0,Xa.jsx)("div",{className:"mb-4",children:(0,Xa.jsxs)("p",{className:"text-sm text-gray-600",children:["Ready to import: ",(0,Xa.jsx)("strong",{children:k.length})," products",_.length>0&&(0,Xa.jsxs)("span",{className:"text-red-600 ml-2",children:["(",_.length," errors to fix)"]})]})}),(0,Xa.jsx)("div",{className:"max-h-64 overflow-y-auto border rounded",children:(0,Xa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200 text-sm",children:[(0,Xa.jsx)("thead",{className:"bg-gray-50",children:(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Name"}),(0,Xa.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"SKU"}),(0,Xa.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Price"}),(0,Xa.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Cost"}),(0,Xa.jsx)("th",{className:"px-4 py-2 text-left text-xs font-medium text-gray-500 uppercase",children:"Qty"})]})}),(0,Xa.jsx)("tbody",{className:"divide-y divide-gray-200",children:k.slice(0,20).map((t,n)=>(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("td",{className:"px-4 py-2",children:t.name}),(0,Xa.jsx)("td",{className:"px-4 py-2",children:t.sku}),(0,Xa.jsx)("td",{className:"px-4 py-2",children:e(t.price)}),(0,Xa.jsx)("td",{className:"px-4 py-2",children:e(t.product_cost)}),(0,Xa.jsx)("td",{className:"px-4 py-2",children:t.quantity})]},n))})]})}),(0,Xa.jsxs)("div",{className:"flex justify-end space-x-3 mt-6",children:[(0,Xa.jsx)("button",{onClick:()=>w(!1),className:"btn-secondary",children:"Cancel"}),(0,Xa.jsx)("button",{onClick:async()=>{if(0!==k.length){T(!0);try{const e=await Ta(j);zr.success("Import completed! ".concat(e.data.imported_count," products imported.")),e.data.error_count>0&&zr.error("".concat(e.data.error_count," products had errors.")),w(!1),re()}catch(n){var e,t;zr.error("Import failed: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message))}finally{T(!1)}}},disabled:C||0===k.length,className:"btn-primary",children:C?"Importing...":"Import ".concat(k.length," Products")})]})]})})}),O&&F&&(0,Xa.jsx)(Su,{product:F,onClose:()=>P(!1),onAdjust:async e=>{if(F)try{const t=await Pa(F.id,e);zr.success("Stock adjusted: ".concat(t.data.old_quantity," \u2192 ").concat(t.data.new_quantity)),P(!1),re()}catch(r){var t,n;zr.error("Stock adjustment failed: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message))}}}),R&&(0,Xa.jsx)(_u,{products:D,onClose:()=>A(!1),onPrint:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};D.forEach(t=>{Gc(t,e)}),zr.success("Printing ".concat(D.length," label(s)")),A(!1)}}),V&&q&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xa.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full mx-4",children:(0,Xa.jsxs)("div",{className:"p-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Upload Product Image"}),(0,Xa.jsx)("button",{onClick:()=>H(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsxs)("div",{className:"text-center",children:[(0,Xa.jsx)("div",{className:"mb-4",children:(0,Xa.jsx)("div",{className:"mx-auto h-32 w-32 border-2 border-dashed border-gray-300 rounded-lg flex items-center justify-center",children:q.image_url?(0,Xa.jsx)("img",{src:q.image_url,alt:q.name,className:"h-full w-full object-cover rounded-lg"}):(0,Xa.jsx)(gu,{className:"h-16 w-16 text-gray-400"})})}),(0,Xa.jsxs)("p",{className:"text-sm text-gray-600 mb-4",children:["Upload an image for ",(0,Xa.jsx)("strong",{children:q.name})]}),(0,Xa.jsx)("input",{ref:G,type:"file",accept:"image/*",onChange:async e=>{const t=e.target.files[0];if(t&&q)if(t.type.startsWith("image/"))if(t.size>5242880)zr.error("Image size must be less than 5MB");else{K(!0);try{const e=new FormData;e.append("image",t);if(!(await fetch("/api/products/".concat(q.id,"/image"),{method:"POST",headers:{Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:e})).ok)throw new Error("Image upload failed");zr.success("Product image updated successfully"),H(!1),re()}catch(n){zr.error("Image upload failed: "+n.message)}finally{K(!1)}}else zr.error("Please select an image file")},className:"hidden"}),(0,Xa.jsxs)("div",{className:"flex space-x-3",children:[(0,Xa.jsx)("button",{onClick:()=>{var e;return null===(e=G.current)||void 0===e?void 0:e.click()},disabled:W,className:"btn-primary flex-1",children:W?"Uploading...":"Choose Image"}),(0,Xa.jsx)("button",{onClick:()=>H(!1),className:"btn-secondary flex-1",children:"Cancel"})]})]})]})})}),m&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:(0,Xa.jsx)("div",{className:"bg-white rounded-lg max-w-2xl w-full mx-4 max-h-96 overflow-y-auto",children:(0,Xa.jsxs)("div",{className:"p-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xa.jsxs)("h3",{className:"text-lg font-semibold text-gray-900",children:["Cost History - ",m.name]}),(0,Xa.jsx)("button",{onClick:()=>p(null),className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),x?(0,Xa.jsx)("div",{className:"flex justify-center py-8",children:(0,Xa.jsx)(fs,{})}):(0,Xa.jsx)("div",{className:"space-y-4",children:f.length>0?f.map((t,n)=>(0,Xa.jsx)("div",{className:"border-l-4 border-blue-500 pl-4 py-2",children:(0,Xa.jsx)("div",{className:"flex justify-between items-start",children:(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"font-medium text-lg",children:e(t.cost)}),(0,Xa.jsx)("p",{className:"text-sm text-gray-600",children:new Date(t.effective_from).toLocaleDateString()}),t.notes&&(0,Xa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:t.notes})]})})},n)):(0,Xa.jsx)("p",{className:"text-gray-500 text-center py-8",children:"No cost history available"})})]})})})]})},Cu=lo({name:Kl().required("Category name is required"),description:Kl(),color:Kl().required("Color is required")}),Tu=()=>{const[e,t]=(0,r.useState)([]),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)(!1),{register:d,handleSubmit:m,formState:{errors:p},reset:f,setValue:h,watch:x}=Vi({resolver:Ki(Cu),defaultValues:{color:"#3B82F6"}}),g=x("color");(0,r.useEffect)(()=>{v()},[]);const v=async()=>{try{const e=await Aa();t(e.data)}catch(e){console.error("Failed to fetch categories:",e),da.error("Failed to load categories")}finally{a(!1)}};return n?(0,Xa.jsx)(hs,{message:"Loading categories..."}):(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Category Management"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Organize your products with categories"})]}),(0,Xa.jsxs)("button",{onClick:()=>i(!0),className:"btn-primary flex items-center",children:[(0,Xa.jsx)(jc,{className:"h-5 w-5 mr-2"}),"Add Category"]})]}),e.length>0?(0,Xa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-6",children:e.map(e=>{return(0,Xa.jsx)("div",{className:"card hover:shadow-md transition-shadow",children:(0,Xa.jsxs)("div",{className:"card-body",children:[(0,Xa.jsxs)("div",{className:"flex items-start justify-between mb-4",children:[(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)("div",{className:"w-4 h-4 rounded-full mr-3 ".concat((t=e.color,{"#3B82F6":"bg-blue-500","#10B981":"bg-green-500","#F59E0B":"bg-yellow-500","#EF4444":"bg-red-500","#8B5CF6":"bg-purple-500","#F97316":"bg-orange-500","#06B6D4":"bg-cyan-500","#84CC16":"bg-lime-500","#EC4899":"bg-pink-500","#6B7280":"bg-gray-500"}[t]||"bg-blue-500"))}),(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:e.name})]}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,Xa.jsx)("button",{onClick:()=>(e=>{o(e),h("name",e.name),h("description",e.description||""),h("color",e.color||"#3B82F6")})(e),className:"text-gray-400 hover:text-primary-600 p-1",children:(0,Xa.jsx)(su,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>(async(e,t)=>{if(window.confirm('Are you sure you want to delete "'.concat(t,'"? This action cannot be undone.')))try{await za(e),da.success("Category deleted successfully!"),v()}catch(a){var n,r;const e=(null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||"Failed to delete category";da.error(e)}})(e.id,e.name),className:"text-gray-400 hover:text-red-600 p-1",children:(0,Xa.jsx)(Nu,{className:"h-4 w-4"})})]})]}),e.description&&(0,Xa.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:e.description}),(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{className:"flex items-center text-sm text-gray-500",children:[(0,Xa.jsx)(Go,{className:"h-4 w-4 mr-1"}),(0,Xa.jsxs)("span",{children:[e.product_count," products"]})]}),(0,Xa.jsx)("span",{className:"text-xs text-gray-400",children:new Date(e.created_at).toLocaleDateString()})]})]})},e.id);var t})}):(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"text-center py-12",children:[(0,Xa.jsx)(Jo,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Xa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No categories"}),(0,Xa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by creating your first product category."}),(0,Xa.jsx)("div",{className:"mt-6",children:(0,Xa.jsxs)("button",{onClick:()=>i(!0),className:"btn-primary",children:[(0,Xa.jsx)(jc,{className:"h-5 w-5 mr-2"}),"Add Category"]})})]})})}),(s||l)&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Xa.jsxs)("div",{className:"relative top-20 mx-auto p-5 border w-full max-w-md shadow-lg rounded-md bg-white",children:[(0,Xa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:l?"Edit Category":"Create New Category"}),(0,Xa.jsx)("button",{onClick:()=>{i(!1),o(null),f()},className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsxs)("form",{onSubmit:m(l?async e=>{u(!0);try{await Ia(l.id,e),da.success("Category updated successfully!"),o(null),f(),v()}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to update category";da.error(e)}finally{u(!1)}}:async e=>{u(!0);try{await Da(e),da.success("Category created successfully!"),i(!1),f(),v()}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to create category";da.error(e)}finally{u(!1)}}),className:"space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Category Name"}),(0,Xa.jsx)("input",Ne({type:"text",className:"form-input",placeholder:"e.g., Printing Services"},d("name"))),p.name&&(0,Xa.jsx)("p",{className:"form-error",children:p.name.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Description (Optional)"}),(0,Xa.jsx)("textarea",Ne({className:"form-input",rows:"3",placeholder:"Brief description of this category"},d("description"))),p.description&&(0,Xa.jsx)("p",{className:"form-error",children:p.description.message})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Category Color"}),(0,Xa.jsx)("div",{className:"grid grid-cols-5 gap-3 mt-2",children:[{value:"#3B82F6",name:"Blue",class:"bg-blue-500"},{value:"#10B981",name:"Green",class:"bg-green-500"},{value:"#F59E0B",name:"Yellow",class:"bg-yellow-500"},{value:"#EF4444",name:"Red",class:"bg-red-500"},{value:"#8B5CF6",name:"Purple",class:"bg-purple-500"},{value:"#F97316",name:"Orange",class:"bg-orange-500"},{value:"#06B6D4",name:"Cyan",class:"bg-cyan-500"},{value:"#84CC16",name:"Lime",class:"bg-lime-500"},{value:"#EC4899",name:"Pink",class:"bg-pink-500"},{value:"#6B7280",name:"Gray",class:"bg-gray-500"}].map(e=>(0,Xa.jsxs)("label",{className:"cursor-pointer",children:[(0,Xa.jsx)("input",Ne({type:"radio",className:"sr-only",value:e.value},d("color"))),(0,Xa.jsx)("div",{className:"w-8 h-8 rounded-full ".concat(e.class," ring-2 ring-offset-2 ").concat(g===e.value?"ring-gray-400":"ring-transparent"," hover:ring-gray-300 transition-all")})]},e.value))}),p.color&&(0,Xa.jsx)("p",{className:"form-error",children:p.color.message})]}),(0,Xa.jsxs)("div",{className:"flex justify-end space-x-4 pt-4",children:[(0,Xa.jsx)("button",{type:"button",onClick:()=>{i(!1),o(null),f()},className:"btn-secondary",children:"Cancel"}),(0,Xa.jsx)("button",{type:"submit",disabled:c,className:"btn-primary flex items-center",children:c?(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(fs,{}),(0,Xa.jsx)("span",{className:"ml-2",children:l?"Updating...":"Creating..."})]}):l?"Update Category":"Create Category"})]})]})]})})]})},Ou=()=>{const{formatAmount:e}=ms(),[t,n]=(0,r.useState)([]),[a,s]=(0,r.useState)(!0),[i,l]=(0,r.useState)(""),[o,c]=(0,r.useState)(!1),[u,d]=(0,r.useState)(null),[m,p]=(0,r.useState)({name:"",email:"",phone:"",address:""});(0,r.useEffect)(()=>{f()},[i]);const f=async()=>{try{s(!0);const e=await Ma({search:i,limit:100});n(e.data)}catch(e){da.error("Failed to load customers"),console.error("Error loading customers:",e)}finally{s(!1)}},h=t.filter(e=>e.name.toLowerCase().includes(i.toLowerCase())||e.email&&e.email.toLowerCase().includes(i.toLowerCase())||e.phone&&e.phone.includes(i));return a?(0,Xa.jsx)(hs,{}):(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{className:"flex justify-between items-center",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Customer Management"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Manage your customer database"})]}),(0,Xa.jsx)("button",{onClick:()=>c(!0),className:"btn-primary",children:"Add Customer"})]}),(0,Xa.jsx)("div",{className:"flex space-x-4",children:(0,Xa.jsx)("div",{className:"flex-1",children:(0,Xa.jsx)("input",{type:"text",placeholder:"Search customers by name, email, or phone...",value:i,onChange:e=>l(e.target.value),className:"input w-full"})})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body p-0",children:0===h.length?(0,Xa.jsxs)("div",{className:"text-center py-12",children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"No Customers Found"}),(0,Xa.jsx)("p",{className:"text-gray-500 mb-4",children:i?"No customers match your search.":"Start by adding your first customer."}),(0,Xa.jsx)("button",{onClick:()=>c(!0),className:"btn-primary",children:"Add Customer"})]}):(0,Xa.jsx)("div",{className:"overflow-x-auto",children:(0,Xa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xa.jsx)("thead",{className:"bg-gray-50",children:(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Contact Info"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Stats"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Joined"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:h.map(t=>(0,Xa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("div",{className:"text-sm font-medium text-gray-900",children:t.name}),t.address&&(0,Xa.jsx)("div",{className:"text-sm text-gray-500",children:t.address})]})}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsxs)("div",{children:[t.email&&(0,Xa.jsx)("div",{className:"text-sm text-gray-900",children:t.email}),t.phone&&(0,Xa.jsx)("div",{className:"text-sm text-gray-500",children:t.phone}),!t.email&&!t.phone&&(0,Xa.jsx)("span",{className:"text-sm text-gray-400",children:"No contact info"})]})}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:(0,Xa.jsxs)("div",{children:[(0,Xa.jsxs)("div",{children:[e(t.total_spent||0)," total"]}),(0,Xa.jsxs)("div",{className:"text-gray-500",children:[t.visit_count||0," visits"]})]})}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(t.created_at).toLocaleDateString()}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,Xa.jsx)("button",{onClick:()=>(e=>{d(e),p({name:e.name||"",email:e.email||"",phone:e.phone||"",address:e.address||""}),c(!0)})(t),className:"text-blue-600 hover:text-blue-900",children:"Edit"}),(0,Xa.jsx)("button",{onClick:()=>(async e=>{if(window.confirm('Are you sure you want to delete "'.concat(e.name,'"?')))try{await Va(e.id),da.success("Customer deleted successfully"),f()}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to delete customer";da.error(e)}})(t),className:"text-red-600 hover:text-red-900",children:"Delete"})]})]},t.id))})]})})})}),o&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Xa.jsx)("div",{className:"relative top-20 mx-auto p-5 border w-96 shadow-lg rounded-md bg-white",children:(0,Xa.jsxs)("div",{className:"mt-3",children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-4",children:u?"Edit Customer":"Add New Customer"}),(0,Xa.jsxs)("form",{onSubmit:async e=>{if(e.preventDefault(),m.name.trim())try{u?(await Ba(u.id,m),da.success("Customer updated successfully")):(await Ua(m),da.success("Customer created successfully")),c(!1),d(null),p({name:"",email:"",phone:"",address:""}),f()}catch(r){var t,n;const e=(null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||"Failed to save customer";da.error(e)}else da.error("Customer name is required")},className:"space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Name *"}),(0,Xa.jsx)("input",{type:"text",value:m.name,onChange:e=>p(Ne(Ne({},m),{},{name:e.target.value})),className:"input w-full",required:!0,placeholder:"Customer name"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,Xa.jsx)("input",{type:"email",value:m.email,onChange:e=>p(Ne(Ne({},m),{},{email:e.target.value})),className:"input w-full",placeholder:"customer@example.com"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Phone"}),(0,Xa.jsx)("input",{type:"tel",value:m.phone,onChange:e=>p(Ne(Ne({},m),{},{phone:e.target.value})),className:"input w-full",placeholder:"Phone number"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:"Address"}),(0,Xa.jsx)("textarea",{value:m.address,onChange:e=>p(Ne(Ne({},m),{},{address:e.target.value})),className:"input w-full",rows:"3",placeholder:"Customer address"})]}),(0,Xa.jsxs)("div",{className:"flex space-x-3 pt-4",children:[(0,Xa.jsx)("button",{type:"submit",className:"btn-primary flex-1",children:u?"Update Customer":"Add Customer"}),(0,Xa.jsx)("button",{type:"button",onClick:()=>{c(!1),d(null),p({name:"",email:"",phone:"",address:""})},className:"btn-secondary flex-1",children:"Cancel"})]})]})]})})})]})},Pu=()=>(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Staff Management"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Manage cashiers and staff members"})]}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"text-center py-12",children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900 mb-2",children:"Coming Soon"}),(0,Xa.jsx)("p",{className:"text-gray-500",children:"Staff management interface will be available soon."})]})})})]});const Fu=new class{constructor(){this.device=null,this.server=null,this.service=null,this.characteristic=null,this.isConnected=!1,this.printerModel="POS-9200-L",this.commands={INIT:[27,64],CUT:[29,86,66,0],FEED_LINE:[10],CENTER:[27,97,1],LEFT:[27,97,0],BOLD_ON:[27,69,1],BOLD_OFF:[27,69,0],SMALL_FONT:[27,77,1],NORMAL_FONT:[27,77,0],LARGE_FONT:[29,33,17]}}isBluetoothSupported(){return"undefined"!==typeof navigator&&void 0!==navigator.bluetooth}async connect(){if(!this.isBluetoothSupported())throw new Error("Web Bluetooth API is not supported in this browser");try{return this.device=await navigator.bluetooth.requestDevice({filters:[{name:"POS-9200-L"},{namePrefix:"POS-"},{services:["000018f0-0000-1000-8000-00805f9b34fb"]}],optionalServices:["000018f0-0000-1000-8000-00805f9b34fb"]}),this.server=await this.device.gatt.connect(),this.service=await this.server.getPrimaryService("000018f0-0000-1000-8000-00805f9b34fb"),this.characteristic=await this.service.getCharacteristic("00002af1-0000-1000-8000-00805f9b34fb"),this.isConnected=!0,await this.sendCommand(this.commands.INIT),{success:!0,deviceName:this.device.name||"POS-9200-L",deviceId:this.device.id,message:"Successfully connected to POS-9200-L printer"}}catch(e){throw this.isConnected=!1,new Error("Failed to connect to printer: ".concat(e.message))}}async disconnect(){try{return this.server&&this.server.connected&&await this.server.disconnect(),this.device=null,this.server=null,this.service=null,this.characteristic=null,this.isConnected=!1,{success:!0,message:"Printer disconnected successfully"}}catch(e){throw new Error("Failed to disconnect: ".concat(e.message))}}async sendCommand(e){if(!this.isConnected||!this.characteristic)throw new Error("Printer not connected");try{const t=new Uint8Array(e);await this.characteristic.writeValue(t)}catch(t){throw new Error("Failed to send command: ".concat(t.message))}}async printText(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isConnected)throw new Error("Printer not connected");try{const{align:n="left",bold:r=!1,fontSize:a="normal",lineFeed:s=!0}=t;switch("center"===n?await this.sendCommand(this.commands.CENTER):await this.sendCommand(this.commands.LEFT),a){case"small":await this.sendCommand(this.commands.SMALL_FONT);break;case"large":await this.sendCommand(this.commands.LARGE_FONT);break;default:await this.sendCommand(this.commands.NORMAL_FONT)}r&&await this.sendCommand(this.commands.BOLD_ON);const i=(new TextEncoder).encode(e);await this.characteristic.writeValue(i),r&&await this.sendCommand(this.commands.BOLD_OFF),await this.sendCommand(this.commands.NORMAL_FONT),await this.sendCommand(this.commands.LEFT),s&&await this.sendCommand(this.commands.FEED_LINE)}catch(n){throw new Error("Failed to print text: ".concat(n.message))}}async printReceipt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.isConnected)throw new Error("Printer not connected");try{var n,r,a,s;const{paper_size:l="80",characters_per_line:o=32,cut_paper:c=!0,open_drawer:u=!1}=t,d=(null===(n=e.business)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.currency)||"USD",m={USD:"$",EUR:"\u20ac",GBP:"\xa3",JPY:"\xa5",AUD:"A$",CAD:"C$",CHF:"CHF ",CNY:"\xa5",SEK:"kr",NZD:"NZ$",MXN:"$",SGD:"S$",HKD:"HK$",NOK:"kr",PHP:"\u20b1",THB:"\u0e3f",TRY:"\u20ba",RUB:"\u20bd",INR:"\u20b9",KRW:"\u20a9",BRL:"R$"}[d]||d+" ",p=e=>{const t=parseFloat(e)||0;return["NOK","SEK","CHF"].includes(d)?"".concat(t.toFixed(2)," ").concat(m.trim()):"".concat(m).concat(t.toFixed(2))};if(await this.sendCommand(this.commands.INIT),e.business){var i;if(await this.printText(e.business.name,{align:"center",bold:!0,fontSize:"large"}),e.business.address&&await this.printText(e.business.address,{align:"center"}),e.business.contact_email&&await this.printText(e.business.contact_email,{align:"center"}),e.business.phone&&await this.printText(e.business.phone,{align:"center"}),null!==(i=e.business.settings)&&void 0!==i&&i.receipt_header){await this.printText("");const t=e.business.settings.receipt_header.split("\n");for(const e of t)e.trim()&&await this.printText(e.trim(),{align:"center"})}await this.printText("-".repeat(o),{align:"center"})}await this.printText("".concat(e.transaction_type||"SALE",": ").concat(e.transaction_number),{bold:!0}),await this.printText("Date: ".concat(new Date(e.timestamp).toLocaleString())),e.customer&&await this.printText("Customer: ".concat(e.customer.name)),await this.printText("-".repeat(o));for(const t of e.items){const e=t.product_name.substring(0,o);await this.printText(e);const n="".concat(t.quantity,"x"),r=p(t.unit_price),a=p(t.total_price),s="".concat(n," ").concat(r).padEnd(o-a.length)+a;await this.printText(s)}await this.printText("-".repeat(o));const f="Subtotal:".padEnd(o-12)+p(e.subtotal).padStart(12);if(await this.printText(f),e.tax_amount>0){const t="Tax:".padEnd(o-12)+p(e.tax_amount).padStart(12);await this.printText(t)}if(e.discount_amount>0){const t="Discount:".padEnd(o-12)+"-".concat(p(e.discount_amount)).padStart(12);await this.printText(t)}await this.printText("=".repeat(o));const h="TOTAL:".padEnd(o-12)+p(e.total_amount).padStart(12);if(await this.printText(h,{bold:!0,fontSize:"large"}),e.payment_method&&e.received_amount){await this.printText("Payment: ".concat(e.payment_method.toUpperCase()));const t="Paid:".padEnd(o-12)+p(e.received_amount).padStart(12);await this.printText(t);const n="Change:".padEnd(o-12)+p(e.change_amount||0).padStart(12);await this.printText(n)}if(await this.printText(""),await this.printText("Thank you for your business!",{align:"center"}),null!==(a=e.business)&&void 0!==a&&null!==(s=a.settings)&&void 0!==s&&s.receipt_footer){await this.printText("");const t=e.business.settings.receipt_footer.split("\n");for(const e of t)e.trim()&&await this.printText(e.trim(),{align:"center"})}return e.notes&&(await this.printText(""),await this.printText("Note: ".concat(e.notes),{align:"center"})),e.reprint&&(await this.printText(""),await this.printText("REPRINT - ".concat((new Date).toLocaleString()),{align:"center",fontSize:"small"})),await this.sendCommand(this.commands.FEED_LINE),await this.sendCommand(this.commands.FEED_LINE),c&&await this.sendCommand(this.commands.CUT),u&&await this.openCashDrawer(),{success:!0,message:"Receipt printed successfully",charactersPerLine:o,paperSize:l}}catch(l){throw new Error("Failed to print receipt: ".concat(l.message))}}async openCashDrawer(){try{const e=[27,112,0,25,250];await this.sendCommand(e)}catch(e){console.error("Failed to open cash drawer:",e)}}async testPrinter(){if(!this.isConnected)throw new Error("Printer not connected");try{return await this.printText("=".repeat(32),{align:"center"}),await this.printText("PRINTER TEST",{align:"center",bold:!0,fontSize:"large"}),await this.printText("POS-9200-L Thermal Printer",{align:"center"}),await this.printText("=".repeat(32),{align:"center"}),await this.printText(""),await this.printText("Connection: OK",{bold:!0}),await this.printText("Device: ".concat(this.device.name||"POS-9200-L")),await this.printText("Status: Connected"),await this.printText("Test Time: ".concat((new Date).toLocaleString())),await this.printText(""),await this.printText("Font Sizes:",{bold:!0}),await this.printText("Small font size",{fontSize:"small"}),await this.printText("Normal font size",{fontSize:"normal"}),await this.printText("Large font size",{fontSize:"large"}),await this.printText(""),await this.printText("Test completed successfully!",{align:"center",bold:!0}),await this.sendCommand(this.commands.FEED_LINE),await this.sendCommand(this.commands.CUT),{success:!0,message:"Printer test completed successfully",device:this.device.name||"POS-9200-L"}}catch(e){throw new Error("Printer test failed: ".concat(e.message))}}getStatus(){var e;return{isConnected:this.isConnected,device:this.device?{name:this.device.name||"POS-9200-L",id:this.device.id,connected:(null===(e=this.server)||void 0===e?void 0:e.connected)||!1}:null,printerModel:this.printerModel}}},Lu=Fu;const Ru=new class{constructor(){this.printerTypes={LOCAL:"local",NETWORK:"network",BLUETOOTH:"bluetooth"},this.currentPrinter=null,this.printerSettings=null,this.supportedPrinters=this.detectSupportedPrinters()}detectSupportedPrinters(){const e={};return e.bluetooth="undefined"!==typeof navigator&&void 0!==navigator.bluetooth,e.serial="undefined"!==typeof navigator&&void 0!==navigator.serial,e.local="undefined"!==typeof window&&"function"===typeof window.print,e.network=!0,e}getAvailablePrinters(){const e=[];return this.supportedPrinters.local&&(e.push({id:"local-default",name:"Default System Printer",type:this.printerTypes.LOCAL,description:"Use browser's default print dialog",icon:"\ud83d\udda8\ufe0f",capabilities:["text","graphics","color"],recommended:!0}),e.push({id:"local-receipt",name:"Local Receipt Printer",type:this.printerTypes.LOCAL,description:"Local thermal receipt printer",icon:"\ud83e\uddfe",capabilities:["text","monochrome"],settings:{paper_size:"80mm",characters_per_line:32}})),e.push({id:"network-thermal",name:"Network Thermal Printer",type:this.printerTypes.NETWORK,description:"Wi-Fi or Ethernet connected thermal printer",icon:"\ud83d\udce1",capabilities:["text","monochrome","fast"],settings:{ip_address:"192.168.1.100",port:9100,paper_size:"80mm"}}),e.push({id:"network-inkjet",name:"Network Inkjet/Laser",type:this.printerTypes.NETWORK,description:"Wi-Fi connected inkjet or laser printer",icon:"\ud83d\udda8\ufe0f",capabilities:["text","graphics","color"],settings:{ip_address:"192.168.1.101",port:631}}),this.supportedPrinters.bluetooth&&(e.push({id:"bluetooth-pos9200l",name:"POS-9200-L (Bluetooth)",type:this.printerTypes.BLUETOOTH,description:"POS-9200-L thermal printer via Bluetooth",icon:"\ud83d\udcf6",capabilities:["text","monochrome","portable"],recommended:!0,settings:{device_name:"POS-9200-L",paper_size:"80mm",characters_per_line:32}}),e.push({id:"bluetooth-generic",name:"Generic Bluetooth Printer",type:this.printerTypes.BLUETOOTH,description:"Any Bluetooth-enabled thermal printer",icon:"\ud83d\udcf6",capabilities:["text","monochrome"],settings:{device_name:"",paper_size:"80mm",auto_detect:!0}}),e.push({id:"bluetooth-mobile",name:"Mobile Bluetooth Printer",type:this.printerTypes.BLUETOOTH,description:"Portable Bluetooth receipt printer",icon:"\ud83d\udcf1",capabilities:["text","monochrome","battery"],settings:{device_name:"",paper_size:"58mm",characters_per_line:24}})),e}async configurePrinter(e){return this.currentPrinter=e,this.printerSettings=e.settings||{},e.type===this.printerTypes.BLUETOOTH?await this.initializeBluetoothPrinter(e):e.type===this.printerTypes.NETWORK?await this.initializeNetworkPrinter(e):e.type===this.printerTypes.LOCAL&&await this.initializeLocalPrinter(e),{success:!0,message:"Configured ".concat(e.name," successfully"),printer:e}}async initializeBluetoothPrinter(e){if(!this.supportedPrinters.bluetooth)throw new Error("Bluetooth not supported in this browser");return"bluetooth-pos9200l"===e.id?Lu:null}async initializeNetworkPrinter(e){return console.log("Initializing network printer at ".concat(e.settings.ip_address,":").concat(e.settings.port)),{type:"network",config:e,status:"initialized"}}async initializeLocalPrinter(e){return console.log("Initializing local printer: ".concat(e.name)),{type:"local",config:e,status:"initialized"}}async testPrint(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"connection";if(!this.currentPrinter)throw new Error("No printer configured");const t=this.generateTestData(e);switch(this.currentPrinter.type){case this.printerTypes.BLUETOOTH:return await this.testBluetoothPrint(t);case this.printerTypes.NETWORK:return await this.testNetworkPrint(t);case this.printerTypes.LOCAL:return await this.testLocalPrint(t);default:throw new Error("Unsupported printer type")}}async testBluetoothPrint(e){return"bluetooth-pos9200l"===this.currentPrinter.id?(Lu.isConnected||await Lu.connect(),await Lu.testPrinter()):await this.testGenericBluetoothPrint(e)}async testGenericBluetoothPrint(e){try{const e=await navigator.bluetooth.requestDevice({acceptAllDevices:!0,optionalServices:["000018f0-0000-1000-8000-00805f9b34fb","0000ff00-0000-1000-8000-00805f9b34fb"]}),t=await e.gatt.connect(),n=await t.getPrimaryServices();let r=null;for(const a of n){const e=await a.getCharacteristics();for(const t of e)if(t.properties.write||t.properties.writeWithoutResponse){r=t;break}if(r)break}if(r){const n=(new TextEncoder).encode("TEST PRINT - Generic Bluetooth Printer\n\n");return await r.writeValue(n),await t.disconnect(),{success:!0,message:"Generic Bluetooth printer test completed",device:e.name||"Generic Bluetooth Printer"}}throw new Error("No writable characteristic found")}catch(t){throw new Error("Generic Bluetooth test failed: ".concat(t.message))}}async testNetworkPrint(e){try{if((await fetch("/api/printer/network/test",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({printer:this.currentPrinter,testData:e})})).ok)return{success:!0,message:"Network printer test sent to ".concat(this.currentPrinter.settings.ip_address),details:"Check printer for test output"};throw new Error("Network printer test failed")}catch(t){return{success:!0,message:"Network printer test simulated for ".concat(this.currentPrinter.name),details:"Test would be sent to ".concat(this.currentPrinter.settings.ip_address,":").concat(this.currentPrinter.settings.port),simulated:!0}}}async testLocalPrint(e){try{const t=window.open("","_blank","width=400,height=600"),n='\n        <!DOCTYPE html>\n        <html>\n        <head>\n          <title>Printer Test</title>\n          <style>\n            body { font-family: monospace; margin: 20px; }\n            .header { text-align: center; font-weight: bold; }\n            .separator { border-bottom: 1px solid #000; margin: 10px 0; }\n            .test-item { margin: 5px 0; }\n          </style>\n        </head>\n        <body>\n          <div class="header">\n            <h2>PRINTER TEST</h2>\n            <div>'.concat(this.currentPrinter.name,'</div>\n          </div>\n          <div class="separator"></div>\n          <div class="test-item"><strong>Test Type:</strong> ').concat(e.type,'</div>\n          <div class="test-item"><strong>Date:</strong> ').concat(e.timestamp,'</div>\n          <div class="test-item"><strong>Printer:</strong> ').concat(this.currentPrinter.description,'</div>\n          <div class="separator"></div>\n          <div class="test-item">Font Size Test:</div>\n          <div style="font-size: 10px;">Small Font (10px)</div>\n          <div style="font-size: 12px;">Normal Font (12px)</div>\n          <div style="font-size: 14px;">Large Font (14px)</div>\n          <div class="separator"></div>\n          <div class="test-item">Alignment Test:</div>\n          <div style="text-align: left;">Left Aligned Text</div>\n          <div style="text-align: center;">Center Aligned Text</div>\n          <div style="text-align: right;">Right Aligned Text</div>\n          <div class="separator"></div>\n          <div class="header">Test Completed Successfully!</div>\n          <script>\n            window.onload = function() {\n              setTimeout(function() {\n                window.print();\n                setTimeout(function() {\n                  window.close();\n                }, 1000);\n              }, 500);\n            };\n          <\/script>\n        </body>\n        </html>\n      ');return t.document.write(n),t.document.close(),{success:!0,message:"Local printer test initiated - Check print dialog",details:"Test page sent to system print dialog"}}catch(t){throw new Error("Local printer test failed: ".concat(t.message))}}async printReceipt(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!this.currentPrinter)throw new Error("No printer configured");const n=Ne(Ne({},this.printerSettings),t);switch(this.currentPrinter.type){case this.printerTypes.BLUETOOTH:return await this.printBluetoothReceipt(e,n);case this.printerTypes.NETWORK:return await this.printNetworkReceipt(e,n);case this.printerTypes.LOCAL:return await this.printLocalReceipt(e,n);default:throw new Error("Unsupported printer type")}}async printBluetoothReceipt(e,t){if("bluetooth-pos9200l"===this.currentPrinter.id)return await Lu.printReceipt(e,t);throw new Error("Generic Bluetooth receipt printing not yet implemented")}async printNetworkReceipt(e,t){try{if((await fetch("/api/printer/network/receipt",{method:"POST",headers:{"Content-Type":"application/json",Authorization:"Bearer ".concat(localStorage.getItem("token"))},body:JSON.stringify({printer:this.currentPrinter,receiptData:e,settings:t})})).ok)return{success:!0,message:"Receipt sent to network printer",printer:this.currentPrinter.name};throw new Error("Network printing failed")}catch(n){throw new Error("Network receipt printing failed: ".concat(n.message))}}async printLocalReceipt(e,t){const n=this.generateReceiptHTML(e,t),r=window.open("","_blank","width=400,height=600");return r.document.write(n),r.document.close(),{success:!0,message:"Receipt sent to local printer",details:"Check print dialog"}}generateTestData(e){var t;const n={type:e,timestamp:(new Date).toLocaleString(),printer:null===(t=this.currentPrinter)||void 0===t?void 0:t.name};switch(e){case"connection":return Ne(Ne({},n),{},{title:"Connection Test",content:"Testing printer connection and basic functionality"});case"formatting":return Ne(Ne({},n),{},{title:"Formatting Test",content:"Testing fonts, alignment, and text formatting"});case"receipt":return Ne(Ne({},n),{},{title:"Receipt Test",content:"Testing complete receipt printing functionality"});default:return n}}generateReceiptHTML(e,t){var n,r,a,s,i,l,o,c,u;const d=t.characters_per_line||32,m=(null===(n=e.business)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.currency)||"USD",p={USD:"$",EUR:"\u20ac",GBP:"\xa3",JPY:"\xa5",AUD:"A$",CAD:"C$",CHF:"CHF ",CNY:"\xa5",SEK:"kr",NZD:"NZ$",MXN:"$",SGD:"S$",HKD:"HK$",NOK:"kr",PHP:"\u20b1",THB:"\u0e3f",TRY:"\u20ba",RUB:"\u20bd",INR:"\u20b9",KRW:"\u20a9",BRL:"R$"}[m]||m+" ",f=e=>{const t=parseFloat(e)||0;return["NOK","SEK","CHF"].includes(m)?"".concat(t.toFixed(2)," ").concat(p.trim()):"".concat(p).concat(t.toFixed(2))};return"\n      <!DOCTYPE html>\n      <html>\n      <head>\n        <title>Receipt</title>\n        <style>\n          body { \n            font-family: monospace; \n            font-size: 12px;\n            margin: 0;\n            padding: 20px;\n            width: ".concat(8*d,'px;\n          }\n          .center { text-align: center; }\n          .bold { font-weight: bold; }\n          .separator { border-bottom: 1px solid #000; margin: 5px 0; }\n          .item-line { display: flex; justify-content: space-between; }\n          @media print {\n            body { margin: 0; padding: 5mm; }\n          }\n        </style>\n      </head>\n      <body>\n        <div class="center bold">\n          ').concat((null===(a=e.business)||void 0===a?void 0:a.name)||"BUSINESS NAME",'\n        </div>\n        <div class="center">\n          ').concat((null===(s=e.business)||void 0===s?void 0:s.address)||"",'\n        </div>\n        <div class="center">\n          ').concat((null===(i=e.business)||void 0===i?void 0:i.contact_email)||"","\n        </div>\n        ").concat(null!==(l=e.business)&&void 0!==l&&null!==(o=l.settings)&&void 0!==o&&o.receipt_header?'\n          <div class="center" style="margin: 10px 0; white-space: pre-line;">\n            '.concat(e.business.settings.receipt_header,"\n          </div>\n        "):"",'\n        <div class="separator"></div>\n        <div><strong>').concat(e.transaction_type||"SALE",":</strong> ").concat(e.transaction_number,"</div>\n        <div><strong>Date:</strong> ").concat(new Date(e.timestamp).toLocaleString(),"</div>\n        ").concat(e.customer?"<div><strong>Customer:</strong> ".concat(e.customer.name,"</div>"):"",'\n        <div class="separator"></div>\n        ').concat(e.items.map(e=>"\n          <div>".concat(e.product_name,'</div>\n          <div class="item-line">\n            <span>').concat(e.quantity,"x ").concat(f(e.unit_price),"</span>\n            <span>").concat(f(e.total_price),"</span>\n          </div>\n        ")).join(""),'\n        <div class="separator"></div>\n        <div class="item-line">\n          <span>Subtotal:</span>\n          <span>').concat(f(e.subtotal),"</span>\n        </div>\n        ").concat(e.tax_amount>0?'\n          <div class="item-line">\n            <span>Tax:</span>\n            <span>'.concat(f(e.tax_amount),"</span>\n          </div>\n        "):"","\n        ").concat(e.discount_amount>0?'\n          <div class="item-line">\n            <span>Discount:</span>\n            <span>-'.concat(f(e.discount_amount),"</span>\n          </div>\n        "):"",'\n        <div class="separator"></div>\n        <div class="item-line bold">\n          <span>TOTAL:</span>\n          <span>').concat(f(e.total_amount),"</span>\n        </div>\n        ").concat("cash"===e.payment_method?'\n          <div class="item-line">\n            <span>Cash Received:</span>\n            <span>'.concat(f(e.received_amount),'</span>\n          </div>\n          <div class="item-line">\n            <span>Change:</span>\n            <span>').concat(f(e.change_amount),"</span>\n          </div>\n        "):'\n          <div class="item-line">\n            <span>Payment Method:</span>\n            <span>'.concat(e.payment_method,"</span>\n          </div>\n        "),'\n        <div class="center">\n          Thank you for your business!\n        </div>\n        ').concat(null!==(c=e.business)&&void 0!==c&&null!==(u=c.settings)&&void 0!==u&&u.receipt_footer?'\n          <div class="center" style="margin: 10px 0; white-space: pre-line;">\n            '.concat(e.business.settings.receipt_footer,"\n          </div>\n        "):"","\n        <script>\n          window.onload = function() {\n            setTimeout(function() {\n              window.print();\n            }, 500);\n          };\n        <\/script>\n      </body>\n      </html>\n    ")}getStatus(){if(!this.currentPrinter)return{configured:!1,message:"No printer configured"};const e={configured:!0,printer:this.currentPrinter,settings:this.printerSettings};return this.currentPrinter.type===this.printerTypes.BLUETOOTH?Ne(Ne({},e),Lu.getStatus()):Ne(Ne({},e),{},{isConnected:!0,status:"Ready"})}getSupportedFeatures(){return{printerTypes:Object.values(this.printerTypes),browserSupport:this.supportedPrinters,testTypes:["connection","formatting","receipt"],capabilities:["text","graphics","color","monochrome","network","bluetooth","local"]}}},Au=Ru,Du=["title","titleId"];function Iu(e,t){let{title:n,titleId:a}=e,s=xs(e,Du);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m0 12.75h7.5m-7.5 3H12M10.5 2.25H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"}))}const zu=r.forwardRef(Iu),Mu=["title","titleId"];function Uu(e,t){let{title:n,titleId:a}=e,s=xs(e,Mu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 0 1-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0 1 15 18.257V17.25m6-12V15a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 15V5.25m18 0A2.25 2.25 0 0 0 18.75 3H5.25A2.25 2.25 0 0 0 3 5.25m18 0V12a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 12V5.25"}))}const Bu=r.forwardRef(Uu),Vu=["title","titleId"];function Hu(e,t){let{title:n,titleId:a}=e,s=xs(e,Vu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.288 15.038a5.25 5.25 0 0 1 7.424 0M5.106 11.856c3.807-3.808 9.98-3.808 13.788 0M1.924 8.674c5.565-5.565 14.587-5.565 20.152 0M12.53 18.22l-.53.53-.53-.53a.75.75 0 0 1 1.06 0Z"}))}const qu=r.forwardRef(Hu),$u=["title","titleId"];function Wu(e,t){let{title:n,titleId:a}=e,s=xs(e,$u);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const Ku=r.forwardRef(Wu),Zu=["title","titleId"];function Gu(e,t){let{title:n,titleId:a}=e,s=xs(e,Zu);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const Qu=r.forwardRef(Gu),Yu=()=>{const{refreshCurrency:e,formatAmount:t}=ms(),[n,a]=(0,r.useState)(!0),[s,i]=(0,r.useState)(!1),[l,o]=(0,r.useState)(null),[c,u]=(0,r.useState)("general"),[d,m]=(0,r.useState)(!1),[p,f]=(0,r.useState)(null),[h,x]=(0,r.useState)(null),[g]=(0,r.useState)(us()),[v,y]=(0,r.useState)([]),[b,w]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[_,E]=(0,r.useState)({name:"",description:"",address:"",phone:"",contact_email:"",logo_url:null}),[C,T]=(0,r.useState)({currency:"USD",tax_rate:0,receipt_header:"",receipt_footer:"",low_stock_threshold:10,printer_type:"bluetooth",selected_printer:null,printer_settings:{paper_size:"80",characters_per_line:32,enable_logo:!0,enable_barcode:!1,auto_print:!1,font_size:"normal",cut_paper:!0,open_drawer:!1,printer_name:"default",ip_address:"192.168.1.100",port:9100,device_name:"POS-9200-L"}}),O=[{id:"general",name:"General",icon:lc},{id:"business",name:"Business Details",icon:Po},{id:"printer",name:"Printer Settings",icon:fu},{id:"receipts",name:"Receipts",icon:zu}],P=[{value:"58",label:"58mm",chars:24},{value:"80",label:"80mm",chars:32},{value:"112",label:"112mm (4 inch)",chars:48}];(0,r.useEffect)(()=>{(async()=>{await R(),L(),F();const e=(await va()).data.settings||{};if(e.selected_printer){const n=Au.getAvailablePrinters().find(t=>t.id===e.selected_printer);if(n){w(n);try{await Au.configurePrinter(n)}catch(t){console.error("Failed to configure saved printer:",t)}}}})()},[]);const F=()=>{const e=Au.getAvailablePrinters();if(y(e),!b&&e.length>0){const t=e.find(e=>e.recommended)||e[0];w(t)}},L=()=>{const e=Lu.getStatus();x(e)},R=async()=>{try{a(!0);const e=await va();o(e.data),E({name:e.data.name||"",description:e.data.description||"",address:e.data.address||"",phone:e.data.phone||"",contact_email:e.data.contact_email||"",logo_url:e.data.logo_url||null}),e.data.logo_url&&f(e.data.logo_url);const t=e.data.settings||{};T(e=>Ne(Ne(Ne({},e),t),{},{printer_settings:Ne(Ne({},e.printer_settings),t.printer_settings||{})}))}catch(e){da.error("Failed to load business information"),console.error("Error loading business info:",e)}finally{a(!1)}},A=async e=>{const t=e.target.files[0];if(!t)return;if(["image/jpeg","image/jpg","image/png","image/gif","image/webp"].includes(t.type))if(t.size>5242880)da.error("File size must be less than 5MB");else{m(!0);try{const e=(await wa(t)).data.logo_url;E(t=>Ne(Ne({},t),{},{logo_url:e})),f("".concat(e,"?t=").concat(Date.now())),da.success("Logo uploaded successfully!")}catch(a){var n,r;da.error("Failed to upload logo: "+((null===(n=a.response)||void 0===n||null===(r=n.data)||void 0===r?void 0:r.detail)||a.message)),console.error("Error uploading logo:",a)}finally{m(!1)}}else da.error("Invalid file type. Only JPEG, PNG, GIF, WebP allowed.")},D=async()=>{m(!0);try{await ja(),E(e=>Ne(Ne({},e),{},{logo_url:null})),f(null),da.success("Logo removed successfully!")}catch(n){var e,t;da.error("Failed to remove logo: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message)),console.error("Error removing logo:",n)}finally{m(!1)}},I=async function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"connection";if(b)try{N(!0),S(null),await Au.configurePrinter(b);const t=await Au.testPrint(e);S(t),da.success(t.message)}catch(t){const e=t.message||"Printer test failed";da.error(e),S({success:!1,message:e,error:!0})}finally{N(!1)}else da.error("Please select a printer first")},z=(e,t)=>{T(n=>Ne(Ne({},n),{},{printer_settings:Ne(Ne({},n.printer_settings),{},{[e]:t})}))},M=(e,t)=>{if(T(n=>Ne(Ne({},n),{},{printer_settings:Ne(Ne({},n.printer_settings),{},{[e]:t})})),"paper_size"===e){const e=P.find(e=>e.value===t);e&&T(t=>Ne(Ne({},t),{},{printer_settings:Ne(Ne({},t.printer_settings),{},{characters_per_line:e.chars})}))}};return n?(0,Xa.jsx)(hs,{}):(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Business Settings"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Configure your business and enhanced receipt printer options"})]}),l&&(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xa.jsx)("div",{className:"flex-shrink-0",children:l.logo_url||p?(0,Xa.jsx)("img",{src:p||l.logo_url,alt:"Business Logo",className:"w-16 h-16 rounded-lg object-cover border"}):(0,Xa.jsx)(Po,{className:"h-16 w-16 text-blue-500"})}),(0,Xa.jsxs)("div",{className:"flex-1",children:[(0,Xa.jsx)("h2",{className:"text-xl font-semibold text-gray-900",children:l.name}),(0,Xa.jsx)("p",{className:"text-gray-600",children:l.description}),(0,Xa.jsxs)("p",{className:"text-sm text-gray-500",children:["Contact: ",l.contact_email," | Phone: ",l.phone||"Not set"]})]}),(0,Xa.jsxs)("div",{className:"flex flex-col space-y-2",children:[(0,Xa.jsxs)("label",{className:"btn-primary text-xs px-3 py-1 cursor-pointer relative overflow-hidden",children:[d?"Uploading...":"Upload Logo",(0,Xa.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:A,disabled:d})]}),(l.logo_url||p)&&(0,Xa.jsx)("button",{onClick:D,className:"btn-secondary text-xs px-3 py-1",disabled:s,children:"Remove Logo"})]})]})})}),(0,Xa.jsx)("div",{className:"border-b border-gray-200",children:(0,Xa.jsx)("nav",{className:"-mb-px flex space-x-8",children:O.map(e=>(0,Xa.jsxs)("button",{onClick:()=>u(e.id),className:"flex items-center py-2 px-1 border-b-2 font-medium text-sm ".concat(c===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:[(0,Xa.jsx)(e.icon,{className:"h-5 w-5 mr-2"}),e.name]},e.id))})}),(0,Xa.jsxs)("div",{className:"space-y-6",children:["general"===c&&(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body space-y-6",children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"General Settings"}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsxs)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Currency ",(0,Xa.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,Xa.jsxs)("select",{value:C.currency,onChange:e=>T(Ne(Ne({},C),{},{currency:e.target.value})),className:"input w-full ".concat(C.currency?"":"border-red-300"),required:!0,children:[(0,Xa.jsx)("option",{value:"",children:"Select currency..."}),g.map(e=>(0,Xa.jsxs)("option",{value:e.code,children:[e.code," (",e.symbol,") - ",e.name]},e.code))]}),!C.currency&&(0,Xa.jsx)("p",{className:"text-red-500 text-xs mt-1",children:"Currency is required"}),(0,Xa.jsx)("p",{className:"text-gray-500 text-xs mt-1",children:"Selected currency will be used throughout the POS system"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Tax Rate (%)"}),(0,Xa.jsx)("input",{type:"number",min:"0",max:"100",step:"0.01",value:C.tax_rate,onChange:e=>T(Ne(Ne({},C),{},{tax_rate:parseFloat(e.target.value)||0})),className:"input w-full",placeholder:"0.00"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Low Stock Threshold"}),(0,Xa.jsx)("input",{type:"number",min:"1",value:C.low_stock_threshold,onChange:e=>T(Ne(Ne({},C),{},{low_stock_threshold:parseInt(e.target.value)||10})),className:"input w-full",placeholder:"10"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Alert when product quantity falls below this number"})]})]})]})}),"business"===c&&(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body space-y-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(Po,{className:"h-6 w-6 text-gray-600"}),(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Business Details"})]}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Business Name *"}),(0,Xa.jsx)("input",{type:"text",value:_.name,onChange:e=>E(Ne(Ne({},_),{},{name:e.target.value})),className:"input w-full",placeholder:"Enter business name",required:!0})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Contact Email *"}),(0,Xa.jsx)("input",{type:"email",value:_.contact_email,onChange:e=>E(Ne(Ne({},_),{},{contact_email:e.target.value})),className:"input w-full",placeholder:"Enter contact email",required:!0})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Phone Number"}),(0,Xa.jsx)("input",{type:"tel",value:_.phone,onChange:e=>E(Ne(Ne({},_),{},{phone:e.target.value})),className:"input w-full",placeholder:"Enter phone number"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Address"}),(0,Xa.jsx)("textarea",{rows:"3",value:_.address,onChange:e=>E(Ne(Ne({},_),{},{address:e.target.value})),className:"input w-full",placeholder:"Enter business address"})]}),(0,Xa.jsxs)("div",{className:"md:col-span-2",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),(0,Xa.jsx)("textarea",{rows:"3",value:_.description,onChange:e=>E(Ne(Ne({},_),{},{description:e.target.value})),className:"input w-full",placeholder:"Enter business description"})]})]}),(0,Xa.jsxs)("div",{className:"border-t pt-6",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Business Logo"}),(0,Xa.jsxs)("div",{className:"flex items-start space-x-6",children:[(0,Xa.jsx)("div",{className:"flex-1",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-center w-32 h-32 border-2 border-dashed border-gray-300 rounded-lg relative overflow-hidden",children:[p?(0,Xa.jsx)("img",{src:p,alt:"Business Logo",className:"w-full h-full object-contain"}):(0,Xa.jsxs)("div",{className:"text-center",children:[(0,Xa.jsx)(Po,{className:"mx-auto h-8 w-8 text-gray-400"}),(0,Xa.jsx)("span",{className:"text-xs text-gray-500 mt-2",children:"No Logo"})]}),(0,Xa.jsx)("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",accept:"image/*",onChange:A,disabled:d})]})}),(0,Xa.jsxs)("div",{className:"flex-1",children:[(0,Xa.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Upload a logo for your business. This will appear on receipts and reports."}),(0,Xa.jsxs)("div",{className:"space-y-2",children:[(0,Xa.jsx)("p",{className:"text-xs text-gray-500",children:"\u2022 Supported formats: JPEG, PNG, GIF, WebP"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500",children:"\u2022 Maximum size: 5MB"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500",children:"\u2022 Recommended: Square aspect ratio (1:1)"})]}),(0,Xa.jsxs)("div",{className:"flex space-x-3 mt-4",children:[(0,Xa.jsx)("button",{type:"button",onClick:()=>document.querySelector('input[type="file"]').click(),disabled:d,className:"btn-secondary text-sm",children:d?"Uploading...":"Choose File"}),p&&(0,Xa.jsx)("button",{type:"button",onClick:D,disabled:d,className:"btn-danger text-sm",children:"Remove Logo"})]})]})]})]}),(0,Xa.jsx)("div",{className:"flex justify-end",children:(0,Xa.jsx)("button",{onClick:async()=>{i(!0);try{await ba(_),await R(),da.success("Business details updated successfully!")}catch(n){var e,t;da.error("Failed to save business details: "+((null===(e=n.response)||void 0===e||null===(t=e.data)||void 0===t?void 0:t.detail)||n.message)),console.error("Error saving business details:",n)}finally{i(!1)}},disabled:s,className:"btn-primary",children:s?"Saving...":"Save Business Details"})})]})}),"printer"===c&&(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2 mb-6",children:[(0,Xa.jsx)(fu,{className:"h-6 w-6 text-gray-600"}),(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Enhanced Printer Options"})]}),(0,Xa.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mb-6",children:v.map(e=>{var t;const n=(e=>{switch(e){case"local":return Bu;case"network":return qu;case"bluetooth":return Ku;default:return fu}})(e.type);return(0,Xa.jsx)("div",{className:"border-2 rounded-lg p-4 cursor-pointer transition-all ".concat((null===b||void 0===b?void 0:b.id)===e.id?"border-blue-500 bg-blue-50":"border-gray-200 hover:border-gray-300"),onClick:()=>(async e=>{w(e),T(t=>Ne(Ne({},t),{},{printer_type:e.type,selected_printer:e.id,printer_settings:Ne(Ne({},t.printer_settings),e.settings)})),S(null);try{await Au.configurePrinter(e),da.success("Selected ".concat(e.name))}catch(t){console.error("Failed to configure printer:",t)}})(e),children:(0,Xa.jsxs)("div",{className:"flex items-start space-x-3",children:[(0,Xa.jsx)(n,{className:"h-8 w-8 text-gray-600 mt-1 flex-shrink-0"}),(0,Xa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 truncate",children:e.name}),e.recommended&&(0,Xa.jsx)("span",{className:"text-xs bg-green-100 text-green-800 px-2 py-1 rounded-full",children:"Recommended"})]}),(0,Xa.jsx)("p",{className:"text-sm text-gray-500 mb-2",children:e.description}),(0,Xa.jsx)("div",{className:"flex flex-wrap gap-1",children:null===(t=e.capabilities)||void 0===t?void 0:t.map(e=>(0,Xa.jsx)("span",{className:"text-xs bg-gray-100 text-gray-600 px-2 py-1 rounded",children:e},e))})]}),(null===b||void 0===b?void 0:b.id)===e.id&&(0,Xa.jsx)(Qu,{className:"h-5 w-5 text-green-500 flex-shrink-0"})]})},e.id)})}),"network"===(null===b||void 0===b?void 0:b.type)&&(0,Xa.jsxs)("div",{className:"border-t pt-6",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Network Configuration"}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"IP Address"}),(0,Xa.jsx)("input",{type:"text",value:C.printer_settings.ip_address,onChange:e=>z("ip_address",e.target.value),className:"input w-full",placeholder:"192.168.1.100"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Port"}),(0,Xa.jsx)("input",{type:"number",value:C.printer_settings.port,onChange:e=>z("port",parseInt(e.target.value)),className:"input w-full",placeholder:"9100"})]})]})]}),(0,Xa.jsxs)("div",{className:"border-t pt-6",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-4",children:"Test Print Functions"}),(0,Xa.jsxs)("div",{className:"flex flex-wrap gap-3 mb-4",children:[(0,Xa.jsxs)("button",{onClick:()=>I("connection"),disabled:j||!b,className:"btn-primary text-sm",children:[(0,Xa.jsx)(fu,{className:"h-4 w-4 mr-2"}),j?"Testing...":"Test Connection"]}),(0,Xa.jsx)("button",{onClick:()=>I("formatting"),disabled:j||!b,className:"btn-secondary text-sm",children:"\ud83d\udcdd Test Formatting"}),(0,Xa.jsx)("button",{onClick:()=>I("receipt"),disabled:j||!b,className:"btn-secondary text-sm",children:"\ud83e\uddfe Test Receipt"})]}),k&&(0,Xa.jsx)("div",{className:"p-3 rounded-lg border ".concat(k.success?"bg-green-50 border-green-200":"bg-red-50 border-red-200"),children:(0,Xa.jsxs)("div",{className:"flex items-start space-x-2",children:[k.success?(0,Xa.jsx)(Qu,{className:"h-5 w-5 text-green-500 mt-0.5"}):(0,Xa.jsx)(Uc,{className:"h-5 w-5 text-red-500 mt-0.5"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium ".concat(k.success?"text-green-800":"text-red-800"),children:k.message}),k.details&&(0,Xa.jsx)("p",{className:"text-xs mt-1 ".concat(k.success?"text-green-600":"text-red-600"),children:k.details}),k.simulated&&(0,Xa.jsx)("p",{className:"text-xs mt-1 text-blue-600",children:"\u26a0\ufe0f This was a simulated test. Actual network printing requires backend configuration."})]})]})}),(0,Xa.jsxs)("p",{className:"text-xs text-gray-500 mt-3",children:["Selected Printer: ",(0,Xa.jsx)("strong",{children:(null===b||void 0===b?void 0:b.name)||"None"}),(null===b||void 0===b?void 0:b.type)&&(0,Xa.jsxs)(Xa.Fragment,{children:[" \u2022 Type: ",(0,Xa.jsx)("strong",{children:b.type})]})]})]})]})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body space-y-6",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900",children:"Basic Configuration"}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Paper Size"}),(0,Xa.jsx)("select",{value:C.printer_settings.paper_size,onChange:e=>M("paper_size",e.target.value),className:"input w-full",children:P.map(e=>(0,Xa.jsxs)("option",{value:e.value,children:[e.label," (",e.chars," characters per line)"]},e.value))})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Font Size"}),(0,Xa.jsxs)("select",{value:C.printer_settings.font_size,onChange:e=>M("font_size",e.target.value),className:"input w-full",children:[(0,Xa.jsx)("option",{value:"small",children:"Small"}),(0,Xa.jsx)("option",{value:"normal",children:"Normal"}),(0,Xa.jsx)("option",{value:"large",children:"Large"})]})]})]}),(0,Xa.jsxs)("div",{className:"space-y-3",children:[(0,Xa.jsxs)("label",{className:"flex items-center",children:[(0,Xa.jsx)("input",{type:"checkbox",checked:C.printer_settings.auto_print,onChange:e=>M("auto_print",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,Xa.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Auto-print receipts after sale completion"})]}),(0,Xa.jsxs)("label",{className:"flex items-center",children:[(0,Xa.jsx)("input",{type:"checkbox",checked:C.printer_settings.cut_paper,onChange:e=>M("cut_paper",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,Xa.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Auto cut paper after printing"})]}),(0,Xa.jsxs)("label",{className:"flex items-center",children:[(0,Xa.jsx)("input",{type:"checkbox",checked:C.printer_settings.open_drawer,onChange:e=>M("open_drawer",e.target.checked),className:"rounded border-gray-300 text-blue-600 shadow-sm focus:border-blue-300 focus:ring focus:ring-blue-200 focus:ring-opacity-50"}),(0,Xa.jsx)("span",{className:"ml-2 text-sm text-gray-700",children:"Open cash drawer after printing"})]})]})]})})]}),"receipts"===c&&(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body space-y-6",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(zu,{className:"h-6 w-6 text-gray-600"}),(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Receipt Content"})]}),(0,Xa.jsxs)("div",{className:"space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Header"}),(0,Xa.jsx)("textarea",{rows:"3",value:C.receipt_header,onChange:e=>T(Ne(Ne({},C),{},{receipt_header:e.target.value})),className:"input w-full",placeholder:"Welcome to our store!\nThank you for shopping with us."}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Text displayed at the top of receipts (after business name)"})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Receipt Footer"}),(0,Xa.jsx)("textarea",{rows:"3",value:C.receipt_footer,onChange:e=>T(Ne(Ne({},C),{},{receipt_footer:e.target.value})),className:"input w-full",placeholder:"Visit us again!\nFollow us on social media @ourstore"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500 mt-1",children:"Text displayed at the bottom of receipts"})]})]}),(0,Xa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-md",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Receipt Preview"}),(0,Xa.jsxs)("div",{className:"font-mono text-xs bg-white p-3 rounded border",style:{width:"".concat(8*C.printer_settings.characters_per_line,"px"),fontSize:"small"===C.printer_settings.font_size?"10px":"large"===C.printer_settings.font_size?"14px":"12px"},children:[(0,Xa.jsxs)("div",{className:"text-center border-b pb-2 mb-2",children:[(0,Xa.jsx)("div",{className:"font-bold",children:(null===l||void 0===l?void 0:l.name)||"BUSINESS NAME"}),C.receipt_header&&(0,Xa.jsx)("div",{className:"mt-1",children:C.receipt_header})]}),(0,Xa.jsxs)("div",{className:"space-y-1",children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Sample Item"}),(0,Xa.jsx)("span",{children:t(10)})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Test Product"}),(0,Xa.jsx)("span",{children:t(5.5)})]}),(0,Xa.jsx)("div",{className:"border-t pt-1 mt-2",children:(0,Xa.jsxs)("div",{className:"flex justify-between font-bold",children:[(0,Xa.jsx)("span",{children:"TOTAL"}),(0,Xa.jsx)("span",{children:t(15.5)})]})})]}),C.receipt_footer&&(0,Xa.jsx)("div",{className:"text-center border-t pt-2 mt-2",children:C.receipt_footer})]})]})]})})]}),(0,Xa.jsx)("div",{className:"flex justify-end",children:(0,Xa.jsx)("button",{onClick:async()=>{if(C.currency&&""!==C.currency.trim()){i(!0);try{await ya(C),await e(),da.success("Settings saved successfully!")}catch(r){var t,n;da.error("Failed to save settings: "+((null===(t=r.response)||void 0===t||null===(n=t.data)||void 0===n?void 0:n.detail)||r.message)),console.error("Error saving settings:",r)}finally{i(!1)}}else da.error("Currency is required")},disabled:s,className:"btn-primary",children:s?"Saving...":"Save Settings"})})]})},Ju=["title","titleId"];function Xu(e,t){let{title:n,titleId:a}=e,s=xs(e,Ju);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const ed=r.forwardRef(Xu),td=()=>{var e,t,n,a;const{formatAmount:s}=ms(),[i,l]=(0,r.useState)(null),[o,c]=(0,r.useState)([]),[u,d]=(0,r.useState)({}),m={category:{label:"Category",placeholder:"All categories",options:o.map(e=>({value:e.id,label:e.name}))},payment_method:{label:"Payment Method",placeholder:"All payment methods",options:[{value:"cash",label:"Cash"},{value:"card",label:"Card"},{value:"bank_transfer",label:"Bank Transfer"}]},status:{label:"Status",placeholder:"All statuses",options:[{value:"completed",label:"Completed"},{value:"pending",label:"Pending"},{value:"cancelled",label:"Cancelled"}]}},{filters:p,setFilters:f,loading:h,generateQueryParams:x,clearFilters:g,hasActiveFilters:v}=Vc({defaultFilters:{date_preset:"last30days"},persistenceKey:"reports-filter",enablePersistence:!0});(0,r.useEffect)(()=>{y(),b()},[]);const y=async()=>{try{const e=await Aa();c(Array.isArray(e.data)?e.data:[])}catch(e){console.error("Failed to load categories:",e)}},b=async()=>{try{const e=await Ja();l(e.data)}catch(e){console.error("Failed to load daily summary:",e)}},w=async function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"excel";const n="".concat(e,"-").concat(t);try{d(e=>Ne(Ne({},e),{},{[n]:!0}));const r=x();let a,s;switch(e){case"sales":a=await Za(Ne({format:t},r)),s="sales_report.".concat("excel"===t?"xlsx":t);break;case"inventory":a=await Ga(Ne({format:t},r)),s="inventory_report.".concat("excel"===t?"xlsx":t);break;case"customers":a=await Qa(Ne({format:t},r)),s="customers_report.".concat("excel"===t?"xlsx":t);break;default:throw new Error("Invalid report type")}const i=new Blob([a.data]),l=window.URL.createObjectURL(i),o=document.createElement("a");o.href=l,o.download=s,document.body.appendChild(o),o.click(),document.body.removeChild(o),window.URL.revokeObjectURL(l),da.success("".concat(e.charAt(0).toUpperCase()+e.slice(1)," report downloaded successfully with current filters applied"))}catch(s){var r,a;console.error("Download error:",s);const t=(null===(r=s.response)||void 0===r||null===(a=r.data)||void 0===a?void 0:a.detail)||"Failed to download ".concat(e," report");da.error(t)}finally{d(e=>Ne(Ne({},e),{},{[n]:!1}))}},j=(e,t)=>u["".concat(e,"-").concat(t)];return(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Reports & Analytics"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Generate and download business reports with advanced filtering"})]}),i&&(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Today's Sales"}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(e=i.sales)||void 0===e?void 0:e.total_sales)||0})]}),(0,Xa.jsx)(Co,{className:"h-8 w-8 text-blue-500"})]})})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Today's Revenue"}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:s((null===(t=i.sales)||void 0===t?void 0:t.total_revenue)||0)})]}),(0,Xa.jsx)(nu,{className:"h-8 w-8 text-green-500"})]})})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Items Sold"}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(n=i.products)||void 0===n?void 0:n.total_items_sold)||0})]}),(0,Xa.jsx)(Go,{className:"h-8 w-8 text-purple-500"})]})})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Customers Served"}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:(null===(a=i.customers)||void 0===a?void 0:a.unique_customers_served)||0})]}),(0,Xa.jsx)(ac,{className:"h-8 w-8 text-orange-500"})]})})})]}),(0,Xa.jsx)(Bc,{filters:m,onFilterChange:f,loading:h,initialFilters:p,className:"mb-6",searchPlaceholder:"Search reports by customer, product, SKU..."}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 xl:grid-cols-3 gap-6",children:[(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body",children:[(0,Xa.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(Co,{className:"h-6 w-6 text-blue-500 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Sales Reports"}),(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:"Detailed sales transaction reports"})]})]})}),(0,Xa.jsxs)("div",{className:"space-y-3",children:[(0,Xa.jsxs)("p",{className:"text-sm text-gray-600",children:[v?"Filtered sales data":"All sales data"," \u2022 Export with current filters applied"]}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsxs)("button",{onClick:()=>w("sales","excel"),disabled:j("sales","excel"),className:"btn-primary text-sm flex items-center",children:[(0,Xa.jsx)(ed,{className:"h-4 w-4 mr-1"}),j("sales","excel")?"Downloading...":"Download Excel"]}),(0,Xa.jsxs)("button",{onClick:()=>w("sales","pdf"),disabled:j("sales","pdf"),className:"btn-secondary text-sm flex items-center",children:[(0,Xa.jsx)(ed,{className:"h-4 w-4 mr-1"}),j("sales","pdf")?"Downloading...":"Download PDF"]})]})]})]})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body",children:[(0,Xa.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(Go,{className:"h-6 w-6 text-green-500 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Inventory Reports"}),(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:"Stock levels and product analytics"})]})]})}),(0,Xa.jsxs)("div",{className:"space-y-3",children:[(0,Xa.jsxs)("p",{className:"text-sm text-gray-600",children:[v?"Filtered inventory data":"All inventory data"," \u2022 Export with current filters applied"]}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsxs)("button",{onClick:()=>w("inventory","excel"),disabled:j("inventory","excel"),className:"btn-primary text-sm flex items-center",children:[(0,Xa.jsx)(ed,{className:"h-4 w-4 mr-1"}),j("inventory","excel")?"Downloading...":"Download Excel"]}),(0,Xa.jsxs)("button",{onClick:()=>w("inventory","pdf"),disabled:j("inventory","pdf"),className:"btn-secondary text-sm flex items-center",children:[(0,Xa.jsx)(ed,{className:"h-4 w-4 mr-1"}),j("inventory","pdf")?"Downloading...":"Download PDF"]})]})]})]})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body",children:[(0,Xa.jsx)("div",{className:"flex items-center justify-between mb-4",children:(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)(ac,{className:"h-6 w-6 text-purple-500 mr-3"}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h3",{className:"text-lg font-medium text-gray-900",children:"Customer Reports"}),(0,Xa.jsx)("p",{className:"text-sm text-gray-500",children:"Customer analytics and purchase history"})]})]})}),(0,Xa.jsxs)("div",{className:"space-y-3",children:[(0,Xa.jsxs)("p",{className:"text-sm text-gray-600",children:[v?"Filtered customer data":"All customer data"," \u2022 Export with current filters applied"]}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsxs)("button",{onClick:()=>w("customers","excel"),disabled:j("customers","excel"),className:"btn-primary text-sm flex items-center",children:[(0,Xa.jsx)(ed,{className:"h-4 w-4 mr-1"}),j("customers","excel")?"Downloading...":"Download Excel"]}),(0,Xa.jsxs)("button",{onClick:()=>w("customers","pdf"),disabled:j("customers","pdf"),className:"btn-secondary text-sm flex items-center",children:[(0,Xa.jsx)(ed,{className:"h-4 w-4 mr-1"}),j("customers","pdf")?"Downloading...":"Download PDF"]})]})]})]})})]}),v&&(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsx)("div",{className:"flex items-center",children:(0,Xa.jsxs)("div",{className:"flex items-center text-sm text-blue-600",children:[(0,Xa.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full mr-2"}),"Filters are active - All exports will include filtered data only"]})}),(0,Xa.jsx)("button",{onClick:g,className:"text-sm text-gray-500 hover:text-gray-700",children:"Clear all filters"})]})})})]})},nd=["title","titleId"];function rd(e,t){let{title:n,titleId:a}=e,s=xs(e,nd);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6 9 12.75l4.286-4.286a11.948 11.948 0 0 1 4.306 6.43l.776 2.898m0 0 3.182-5.511m-3.182 5.51-5.511-3.181"}))}const ad=r.forwardRef(rd),sd=["title","titleId"];function id(e,t){let{title:n,titleId:a}=e,s=xs(e,sd);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18 9 11.25l4.306 4.306a11.95 11.95 0 0 1 5.814-5.518l2.74-1.22m0 0-5.94-2.281m5.94 2.28-2.28 5.941"}))}const ld=r.forwardRef(id),od=()=>{const{user:e}=as(),[t,n]=(0,r.useState)(!1),[a,s]=(0,r.useState)({}),[i,l]=(0,r.useState)("last30days"),[o,c]=(0,r.useState)(""),[u,d]=(0,r.useState)(""),m=e&&("business_admin"===e.role||"super_admin"===e.role);(0,r.useEffect)(()=>{const e=new Date,t=new Date(e.getTime()-2592e6);c(t.toISOString().split("T")[0]),d(e.toISOString().split("T")[0])},[]);const p=async e=>{if(!m)return void da.error("You don't have permission to access profit reports");if("custom"===i&&(!o||!u))return void da.error("Please select both start and end dates");if(o&&u&&o>u)return void da.error("Start date cannot be later than end date");const t="profit-".concat(e);try{s(e=>Ne(Ne({},e),{},{[t]:!0}));const n=(()=>{const e=new Date,t=new Date(e.getTime()-864e5);switch(i){case"today":return{start_date:e.toISOString().split("T")[0],end_date:e.toISOString().split("T")[0]};case"yesterday":return{start_date:t.toISOString().split("T")[0],end_date:t.toISOString().split("T")[0]};case"last7days":return{start_date:new Date(e.getTime()-6048e5).toISOString().split("T")[0],end_date:e.toISOString().split("T")[0]};case"thismonth":return{start_date:new Date(e.getFullYear(),e.getMonth(),1).toISOString().split("T")[0],end_date:e.toISOString().split("T")[0]};case"last30days":return{start_date:new Date(e.getTime()-2592e6).toISOString().split("T")[0],end_date:e.toISOString().split("T")[0]};default:return{start_date:o,end_date:u}}})(),r=await Ya(Ne({format:e},n)),a=r.headers["content-disposition"];let l="profit-report.".concat("excel"===e?"xlsx":e);if(a){const e=a.match(/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/);e&&e[1]&&(l=e[1].replace(/['"]/g,""))}const c=new Blob([r.data]),d=window.URL.createObjectURL(c),m=document.createElement("a");m.href=d,m.download=l,document.body.appendChild(m),m.click(),document.body.removeChild(m),window.URL.revokeObjectURL(d),da.success("Profit report downloaded successfully (".concat(e.toUpperCase(),")"))}catch(l){var n,r,a;console.error("Download error:",l);let e="Failed to download profit report";403===(null===(n=l.response)||void 0===n?void 0:n.status)?e="You don't have permission to access profit reports":null!==(r=l.response)&&void 0!==r&&null!==(a=r.data)&&void 0!==a&&a.detail&&(e=l.response.data.detail),da.error(e)}finally{s(e=>Ne(Ne({},e),{},{[t]:!1}))}},f=e=>a["profit-".concat(e)];return m?t?(0,Xa.jsx)(hs,{message:"Loading profit report..."}):(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Profit Report"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"Analyze your business profitability with detailed cost and revenue insights"})]}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body",children:[(0,Xa.jsxs)("div",{className:"flex items-center mb-4",children:[(0,Xa.jsx)(Rc,{className:"h-6 w-6 text-blue-500 mr-2"}),(0,Xa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Date Range Filter"})]}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Quick Presets"}),(0,Xa.jsxs)("select",{className:"form-input",value:i,onChange:e=>l(e.target.value),children:[(0,Xa.jsx)("option",{value:"today",children:"Today"}),(0,Xa.jsx)("option",{value:"yesterday",children:"Yesterday"}),(0,Xa.jsx)("option",{value:"last7days",children:"Last 7 Days"}),(0,Xa.jsx)("option",{value:"thismonth",children:"This Month"}),(0,Xa.jsx)("option",{value:"last30days",children:"Last 30 Days"}),(0,Xa.jsx)("option",{value:"custom",children:"Custom Range"})]})]}),"custom"===i&&(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"Start Date"}),(0,Xa.jsx)("input",{type:"date",className:"form-input",value:o,onChange:e=>c(e.target.value)})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"form-label",children:"End Date"}),(0,Xa.jsx)("input",{type:"date",className:"form-input",value:u,onChange:e=>d(e.target.value)})]})]})]}),(0,Xa.jsx)("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg",children:(0,Xa.jsxs)("p",{className:"text-sm text-blue-700",children:[(0,Xa.jsx)(ou,{className:"inline h-4 w-4 mr-1"}),"Selected Range: ",(0,Xa.jsx)("strong",{children:(()=>{switch(i){case"today":return"Today";case"yesterday":return"Yesterday";case"last7days":return"Last 7 Days";case"thismonth":return"This Month";case"last30days":default:return"Last 30 Days";case"custom":return"".concat(o," to ").concat(u)}})()})]})})]})}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Gross Sales"}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-green-600",children:"Available in Export"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500",children:"Total revenue from sales"})]}),(0,Xa.jsx)(vc,{className:"h-8 w-8 text-green-500"})]})})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Cost of Goods Sold"}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-orange-600",children:"Available in Export"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500",children:"Total cost of sold items"})]}),(0,Xa.jsx)(ad,{className:"h-8 w-8 text-orange-500"})]})})}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsx)("div",{className:"card-body",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"text-sm font-medium text-gray-600",children:"Net Profit"}),(0,Xa.jsx)("p",{className:"text-2xl font-bold text-blue-600",children:"Available in Export"}),(0,Xa.jsx)("p",{className:"text-xs text-gray-500",children:"Gross Sales - COGS"})]}),(0,Xa.jsx)(ld,{className:"h-8 w-8 text-blue-500"})]})})})]}),(0,Xa.jsx)("div",{className:"card",children:(0,Xa.jsxs)("div",{className:"card-body",children:[(0,Xa.jsxs)("div",{className:"flex items-center mb-6",children:[(0,Xa.jsx)(nu,{className:"h-6 w-6 text-purple-500 mr-2"}),(0,Xa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Export Profit Report"})]}),(0,Xa.jsx)("div",{className:"space-y-4",children:(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h3",{className:"font-medium text-gray-900 mb-3",children:"Detailed Profit Analysis"}),(0,Xa.jsx)("p",{className:"text-sm text-gray-600 mb-4",children:"Comprehensive profit report with line-by-line analysis including:"}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 text-sm text-gray-600 mb-6",children:[(0,Xa.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Xa.jsx)("li",{children:"Date/Time of each transaction"}),(0,Xa.jsx)("li",{children:"Invoice/Transaction ID"}),(0,Xa.jsx)("li",{children:"Item name and SKU"}),(0,Xa.jsx)("li",{children:"Quantity sold"})]}),(0,Xa.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Xa.jsx)("li",{children:"Unit price and unit cost"}),(0,Xa.jsx)("li",{children:"Line profit calculations"}),(0,Xa.jsx)("li",{children:"KPIs: Gross Sales, COGS, Profit"}),(0,Xa.jsx)("li",{children:"Historical cost snapshots"})]})]}),(0,Xa.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,Xa.jsx)("button",{onClick:()=>p("excel"),disabled:f("excel"),className:"btn-primary flex items-center",children:f("excel")?(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}),"Generating Excel..."]}):(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(nu,{className:"h-4 w-4 mr-2"}),"Export to Excel"]})}),(0,Xa.jsx)("button",{onClick:()=>p("csv"),disabled:f("csv"),className:"btn-secondary flex items-center",children:f("csv")?(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Generating CSV..."]}):(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(nu,{className:"h-4 w-4 mr-2"}),"Export to CSV"]})}),(0,Xa.jsx)("button",{onClick:()=>p("pdf"),disabled:f("pdf"),className:"btn-outline flex items-center",children:f("pdf")?(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600 mr-2"}),"Generating PDF..."]}):(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(nu,{className:"h-4 w-4 mr-2"}),"Export to PDF"]})})]})]})})]})}),(0,Xa.jsx)("div",{className:"bg-green-50 border border-green-200 rounded-md p-4",children:(0,Xa.jsx)("div",{className:"flex",children:(0,Xa.jsxs)("div",{className:"ml-3",children:[(0,Xa.jsx)("h3",{className:"text-sm font-medium text-green-800",children:"Profit Report Features"}),(0,Xa.jsx)("div",{className:"mt-2 text-sm text-green-700",children:(0,Xa.jsxs)("ul",{className:"list-disc pl-5 space-y-1",children:[(0,Xa.jsxs)("li",{children:[(0,Xa.jsx)("strong",{children:"Historical Accuracy:"})," Uses cost snapshots from time of sale for precise profit calculations"]}),(0,Xa.jsxs)("li",{children:[(0,Xa.jsx)("strong",{children:"Comprehensive Data:"})," Includes line-by-line profit analysis with all transaction details"]}),(0,Xa.jsxs)("li",{children:[(0,Xa.jsx)("strong",{children:"Multiple Formats:"})," Excel (with formulas), CSV (data analysis), PDF (presentation)"]}),(0,Xa.jsxs)("li",{children:[(0,Xa.jsx)("strong",{children:"Business Headers:"})," All exports include your business information and logo"]}),(0,Xa.jsxs)("li",{children:[(0,Xa.jsx)("strong",{children:"KPI Summary:"})," Gross Sales, Cost of Goods Sold, and Net Profit totals"]}),(0,Xa.jsxs)("li",{children:[(0,Xa.jsx)("strong",{children:"Date Filtering:"})," Flexible date range selection with quick presets"]}),(0,Xa.jsxs)("li",{children:[(0,Xa.jsx)("strong",{children:"Admin Only:"})," Secure access restricted to business administrators"]})]})})]})})})]}):(0,Xa.jsx)("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:(0,Xa.jsxs)("div",{className:"text-center",children:[(0,Xa.jsx)(Vo,{className:"mx-auto h-12 w-12 text-red-500"}),(0,Xa.jsx)("h3",{className:"mt-2 text-lg font-medium text-gray-900",children:"Access Denied"}),(0,Xa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"You don't have permission to view this section. Profit reports are only available to administrators."})]})})},cd=["title","titleId"];function ud(e,t){let{title:n,titleId:a}=e,s=xs(e,cd);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 10.5c0 7.142-7.5 11.25-7.5 11.25S4.5 17.642 4.5 10.5a7.5 7.5 0 1 1 15 0Z"}))}const dd=r.forwardRef(ud),md=["title","titleId"];function pd(e,t){let{title:n,titleId:a}=e,s=xs(e,md);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 3h1.386c.51 0 .955.343 1.087.835l.383 1.437M7.5 14.25a3 3 0 0 0-3 3h15.75m-12.75-3h11.218c1.121-2.3 2.1-4.684 2.924-7.138a60.114 60.114 0 0 0-16.536-1.84M7.5 14.25 5.106 5.272M6 20.25a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Zm12.75 0a.75.75 0 1 1-1.5 0 .75.75 0 0 1 1.5 0Z"}))}const fd=r.forwardRef(pd),hd=["title","titleId"];function xd(e,t){let{title:n,titleId:a}=e,s=xs(e,hd);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M5 12h14"}))}const gd=r.forwardRef(xd),vd=["title","titleId"];function yd(e,t){let{title:n,titleId:a}=e,s=xs(e,vd);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 18.75a60.07 60.07 0 0 1 15.797 2.101c.727.198 1.453-.342 1.453-1.096V18.75M3.75 4.5v.75A.75.75 0 0 1 3 6h-.75m0 0v-.375c0-.621.504-1.125 1.125-1.125H20.25M2.25 6v9m18-10.5v.75c0 .414.336.75.75.75h.75m-1.5-1.5h.375c.621 0 1.125.504 1.125 1.125v9.75c0 .621-.504 1.125-1.125 1.125h-.375m1.5-1.5H21a.75.75 0 0 0-.75.75v.75m0 0H3.75m0 0h-.375a1.125 1.125 0 0 1-1.125-1.125V15m1.5 1.5v-.75A.75.75 0 0 0 3 15h-.75M15 10.5a3 3 0 1 1-6 0 3 3 0 0 1 6 0Zm3 0h.008v.008H18V10.5Zm-12 0h.008v.008H6V10.5Z"}))}const bd=r.forwardRef(yd),wd=["title","titleId"];function jd(e,t){let{title:n,titleId:a}=e,s=xs(e,wd);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const Nd=r.forwardRef(jd),kd=()=>{const{business:e,user:t}=as(),{formatAmount:n,currency:a}=ms(),s=X(),[i,l]=(0,r.useState)(new Date),[o,c]=(0,r.useState)(null),[u,d]=(0,r.useState)(Intl.DateTimeFormat().resolvedOptions().timeZone),[m,p]=(0,r.useState)([]),[f,h]=(0,r.useState)([]),[x,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(!0),[b,w]=(0,r.useState)([]),[j,N]=(0,r.useState)(null),[k,S]=(0,r.useState)("sale"),[_,E]=(0,r.useState)("cash"),[C,T]=(0,r.useState)(""),[O,P]=(0,r.useState)(""),[F,L]=(0,r.useState)(""),[R,A]=(0,r.useState)(""),[D,I]=(0,r.useState)(0),[z,M]=(0,r.useState)(!1),[U,B]=(0,r.useState)(!1),[V,H]=(0,r.useState)(""),[q,$]=(0,r.useState)([]),[W,K]=(0,r.useState)(!1),[Z,G]=(0,r.useState)("cash"),[Q,Y]=(0,r.useState)(""),[J,ee]=(0,r.useState)(""),[te,ne]=(0,r.useState)("amount"),[re,ae]=(0,r.useState)(""),[se,ie]=(0,r.useState)(""),[le,oe]=(0,r.useState)(""),[ce,ue]=(0,r.useState)(!1),[de,me]=(0,r.useState)(""),[pe,fe]=(0,r.useState)(null),[he,xe]=(0,r.useState)([]),ge=(0,r.useRef)(null),ve=(0,r.useRef)(null),ye=(0,r.useCallback)(async()=>{try{const e={};F&&(e.category_id=F);const[t,n,r]=await Promise.all([Na(e),Aa(),Ma()]);p(t.data),h(n.data),g(r.data)}catch(e){console.error("Failed to fetch data:",e),zr.error("Failed to load POS data")}finally{y(!1)}},[F]),be=(0,r.useCallback)(async e=>{if(e&&!(e.length<3))try{const t=(await Ea(e.trim())).data;je(t),A(""),ge.current&&(ge.current.value="",ge.current.focus()),zr.success("\u2705 ".concat(t.name," added to cart"),{duration:2e3,position:"top-center"}),ge.current&&(ge.current.style.backgroundColor="#c6f6d5",setTimeout(()=>{ge.current&&(ge.current.style.backgroundColor="",ge.current.focus())},800))}catch(t){console.error("Barcode scan error:",t),zr.error("Item not found",{duration:3e3,position:"top-center"}),A(""),ge.current&&(ge.current.style.backgroundColor="#fed7d7",ge.current.value="",setTimeout(()=>{ge.current&&(ge.current.style.backgroundColor="",ge.current.focus())},1200))}},[]);(0,r.useEffect)(()=>{var t,n;console.log("\ud83c\udfe2 POS Business Context Debug:",{businessExists:!!e,businessName:null===e||void 0===e?void 0:e.name,hasSettings:!(null===e||void 0===e||!e.settings),settingsKeys:null!==e&&void 0!==e&&e.settings?Object.keys(e.settings):[],receiptHeader:null===e||void 0===e||null===(t=e.settings)||void 0===t?void 0:t.receipt_header,receiptFooter:null===e||void 0===e||null===(n=e.settings)||void 0===n?void 0:n.receipt_footer,fullBusiness:e})},[e]),(0,r.useEffect)(()=>{ye();const e=localStorage.getItem("pos-held-orders");e&&xe(JSON.parse(e)),we()},[ye]);const we=async()=>{try{navigator.geolocation?navigator.geolocation.getCurrentPosition(async e=>{const{latitude:t,longitude:n}=e.coords;c({latitude:t,longitude:n});try{const e=await fetch("https://api.timezonedb.com/v2.1/get-zone?key=demo&format=json&by=position&lat=".concat(t,"&lng=").concat(n));if(e.ok){const t=await e.json();t.zoneName&&(d(t.zoneName),zr.success("\ud83d\udccd Location detected: ".concat(t.zoneName),{duration:3e3}))}}catch(r){console.log("Using browser timezone as fallback"),zr("\ud83d\udccd Using browser timezone",{duration:2e3})}},e=>{console.log("Location access denied or failed:",e),zr("\ud83d\udccd Using system timezone (location access denied)",{duration:3e3})},{timeout:1e4,enableHighAccuracy:!0}):zr("\ud83d\udccd Using system timezone (location not supported)",{duration:3e3})}catch(t){console.error("Location initialization error:",t)}const e=setInterval(()=>{l(new Date)},1e3);return()=>clearInterval(e)};(0,r.useEffect)(()=>{var t;null!==e&&void 0!==e&&null!==(t=e.settings)&&void 0!==t&&t.tax_rate&&I(e.settings.tax_rate)},[e]),(0,r.useEffect)(()=>{const e=setInterval(()=>{var e,t,n,r,a,s,i,l;!ge.current||W||document.activeElement===ge.current||null!==(e=document.activeElement)&&void 0!==e&&null!==(t=e.tagName)&&void 0!==t&&t.toLowerCase().includes("input")||null!==(n=document.activeElement)&&void 0!==n&&null!==(r=n.tagName)&&void 0!==r&&r.toLowerCase().includes("select")||null!==(a=document.activeElement)&&void 0!==a&&null!==(s=a.tagName)&&void 0!==s&&s.toLowerCase().includes("textarea")||null!==(i=document.activeElement)&&void 0!==i&&null!==(l=i.tagName)&&void 0!==l&&l.toLowerCase().includes("button")||ge.current.focus()},500);return()=>{clearInterval(e)}},[W]),(0,r.useEffect)(()=>{const e=e=>{if("Enter"===e.key&&ge.current===document.activeElement&&R.trim()){e.preventDefault();const t=R.trim();be(t)}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[R,be]),(0,r.useEffect)(()=>{const e=e=>{var t,n,r;const a=document.activeElement,s="input"===(null===a||void 0===a||null===(t=a.tagName)||void 0===t?void 0:t.toLowerCase())||"textarea"===(null===a||void 0===a||null===(n=a.tagName)||void 0===n?void 0:n.toLowerCase())||"select"===(null===a||void 0===a||null===(r=a.tagName)||void 0===r?void 0:r.toLowerCase());if(W&&(null===a||void 0===a||!a.closest(".payment-modal")))return;if(U)return;const i=a===ge.current;if(!s||W||i)switch(e.key){case"F6":if(e.preventDefault(),0===b.length||z)return;Me();break;case"F7":if(e.preventDefault(),0===b.length)return;Ce();break;case"F8":if(e.preventDefault(),0===b.length)return;_e();break;case"F9":e.preventDefault(),B(!0)}};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[b.length,z,W,U]),(0,r.useEffect)(()=>{ge.current&&!v&&ge.current.focus()},[v]),(0,r.useEffect)(()=>{v||(()=>{const e=localStorage.getItem("pos-settle-data");if(e)try{const t=JSON.parse(e);if(console.log("Settle mode detected:",t),localStorage.removeItem("pos-settle-data"),t.items&&t.items.length>0){const e=t.items.map(e=>({product_id:e.product_id,product_name:e.product_name,product_sku:e.sku,quantity:e.quantity,unit_price:e.unit_price,total_price:e.total_price,unit_cost_snapshot:e.unit_cost_snapshot||0}));w(e)}t.customer&&N({id:t.customer.id,name:t.customer.name}),fe({isSettling:!0,originalSaleId:t.saleId,remainingBalance:t.remainingBalance,originalSale:t.originalSale}),setTimeout(()=>{Y(t.remainingBalance.toString()),K(!0),zr.success("Settlement mode: Balance due ".concat(n(t.remainingBalance)))},1e3)}catch(t){console.error("Error handling settle mode:",t),zr.error("Error loading settlement data")}})()},[v,n]);const je=e=>{w(t=>t.find(t=>t.product_id===e.id)?t.map(t=>t.product_id===e.id?Ne(Ne({},t),{},{quantity:t.quantity+1,total_price:(t.quantity+1)*t.unit_price}):t):[...t,{product_id:e.id,product_name:e.name,product_sku:e.sku,quantity:1,unit_price:e.price,total_price:e.price,unit_cost_snapshot:e.product_cost||0}])},ke=(e,t)=>{t<=0?Se(e):w(n=>n.map(n=>n.product_id===e?Ne(Ne({},n),{},{quantity:t,total_price:t*n.unit_price}):n))},Se=e=>{w(t=>t.filter(t=>t.product_id!==e))},_e=()=>{w([]),N(null),T(""),P(""),zr.success("Cart cleared")},Ee=()=>{B(!1),H(""),$([])},Ce=()=>{if(0===b.length)return void zr.error("Cart is empty");const e={id:Date.now(),timestamp:new Date,cart:[...b],customer:j,discount:C,notes:O},t=[...he,e];xe(t),localStorage.setItem("pos-held-orders",JSON.stringify(t)),_e(),zr.success("Order held successfully")},Te=()=>{const e=b.reduce((e,t)=>e+t.total_price,0),t=parseFloat(C)||0,n=e-t,r=n*(D/100),a=n+r;return{subtotal:e.toFixed(2),discount:t.toFixed(2),taxAmount:r.toFixed(2),total:a.toFixed(2)}},Oe=()=>{const e=b.reduce((e,t)=>e+t.total_price,0);let t=0;const n=parseFloat(J)||0;n>0&&(t="percentage"===te?Math.min(e*(n/100),e):Math.min(n,e));const r=e-t,a=r*(D/100),s=r+a;return{subtotal:e.toFixed(2),discount:t.toFixed(2),taxAmount:a.toFixed(2),total:s.toFixed(2),change:"cash"===Z&&Q?Math.max(0,parseFloat(Q)-parseFloat(s)).toFixed(2):"0.00"}},Pe=()=>{const e=Oe(),t=parseFloat(le)||0,r=parseFloat(e.total),a=ve.current,s=a?a.value:"",i=document.querySelector('input[placeholder="0.00"]'),l=i?i.value:"";console.log("Payment validation - comprehensive debug:",{modalReceivedAmount:Q,inputRefValue:s,fallbackInputValue:l,modalPaymentMethod:Z,modalDownpayment:le,downpaymentAmount:t,totals:e});let o=null,c=!1;if(t>0)t>=r?(o=t,c=!1):(o=t,c=!0);else if("cash"===Z){const e=Q||s||l||"0",t=parseFloat(e)||0;console.log("Payment validation final:",{receivedStr:e,received:t,total:r,comparison:t>=r,sources:{state:Q,ref:s,fallback:l}});if(t<r-.01)return zr.error("Insufficient payment. Required: ".concat(n(r),", Received: ").concat(n(t))),void console.log("Payment failed - insufficient amount");o=t,me(t)}else o=r;E(Z),T(parseFloat(e.discount)),P(re),localStorage.setItem("pos-discount-type",te),K(!1),console.log("Payment confirmed successfully",{isDownpaymentSale:c,receivedAmountForTransaction:o}),Fe(o,c,t)},Fe=async function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1&&void 0!==arguments[1]&&arguments[1],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;if(console.log("handleTransaction called with:",{cartLength:b.length,transactionMode:k,paymentMethod:_,receivedAmount:de,validatedReceivedAmount:r,modalReceivedAmount:Q,modalPaymentMethod:Z,isDownpaymentSale:a,downpaymentAmount:s}),0===b.length)return zr.error("Cart is empty"),void console.log("Transaction failed: Cart is empty");const i=Te();console.log("Transaction totals calculated:",i);const l=r||parseFloat(de)||0;if("sale"!==k||"cash"!==_||a)a&&console.log("Skipping secondary payment validation for downpayment sale",{isDownpaymentSale:a,finalReceivedAmount:l,downpaymentAmount:s});else{const e=parseFloat(i.subtotal),t=parseFloat(i.discount)||0,s=parseFloat(i.taxAmount),o=e-t+s;console.log("Secondary payment validation:",{subtotal:e,discount:t,taxAmount:s,requiredAmount:o,finalReceivedAmount:l,originalReceivedAmount:de,validatedReceivedAmount:r,isDownpaymentSale:a});const c=Math.round(100*o)/100,u=Math.round(100*l)/100;if(u<c)return console.log("Transaction failed: Secondary payment validation failed"),void zr.error("Insufficient payment. Required: ".concat(n(c),", Received: ").concat(n(u)))}console.log("Starting transaction processing..."),M(!0);try{const r={customer_id:(null===j||void 0===j?void 0:j.id)||null,cashier_id:(null===t||void 0===t?void 0:t.id)||null,cashier_name:(null===t||void 0===t?void 0:t.email)||(null===t||void 0===t?void 0:t.name)||"Unknown Cashier",items:b.map(e=>Ne(Ne({},e),{},{sku:e.product_sku||e.sku,unit_price_snapshot:e.unit_price,unit_cost_snapshot:e.unit_cost_snapshot||0})),subtotal:parseFloat(i.subtotal),tax_amount:parseFloat(i.taxAmount),discount_amount:parseFloat(i.discount)||0,total_amount:parseFloat(i.total),payment_method:_,payment_ref_code:"ewallet"===_&&null!==se&&void 0!==se&&se.trim()?se.trim():null,received_amount:l,change_amount:a||"cash"!==_?0:Math.max(0,l-parseFloat(i.total)),notes:O.trim()||null,created_at:(new Date).toISOString(),status:a?"ongoing":"completed",downpayment_amount:a?s:null,balance_due:a?parseFloat(i.total)-s:null,finalized_at:a?null:(new Date).toISOString()};let S;if("sale"===k){var o,c,u,d,m,p,f,h,x,g,v,y,w;if(S=await qa(r),zr.success(a?"Downpayment recorded! Sale #".concat(S.data.sale_number," - Balance Due: ").concat(n(r.balance_due)):"Sale completed! Sale #".concat(S.data.sale_number)),console.log("Autoprint debug - Business settings structure:",{business:e,settings:null===e||void 0===e?void 0:e.settings,printer_settings:null===e||void 0===e||null===(o=e.settings)||void 0===o?void 0:o.printer_settings,auto_print_path1:null===e||void 0===e||null===(c=e.settings)||void 0===c||null===(u=c.printer_settings)||void 0===u?void 0:u.auto_print,auto_print_path2:null===e||void 0===e||null===(d=e.settings)||void 0===d?void 0:d.auto_print,condition1:null===e||void 0===e||null===(m=e.settings)||void 0===m||null===(p=m.printer_settings)||void 0===p?void 0:p.auto_print,condition2:null===e||void 0===e||null===(f=e.settings)||void 0===f?void 0:f.auto_print,finalCondition:(null===e||void 0===e||null===(h=e.settings)||void 0===h||null===(x=h.printer_settings)||void 0===x?void 0:x.auto_print)||(null===e||void 0===e||null===(g=e.settings)||void 0===g?void 0:g.auto_print)}),null!==e&&void 0!==e&&null!==(v=e.settings)&&void 0!==v&&null!==(y=v.printer_settings)&&void 0!==y&&y.auto_print||null!==e&&void 0!==e&&null!==(w=e.settings)&&void 0!==w&&w.auto_print){console.log("Auto-print enabled, attempting to print...",null===e||void 0===e?void 0:e.settings);Ie(S.data,"sale");await Le(S.data,"sale")}else{var N;console.log("Auto-print disabled or setting not found",{businessSettings:null===e||void 0===e?void 0:e.settings,printerSettings:null===e||void 0===e||null===(N=e.settings)||void 0===N?void 0:N.printer_settings,reason:"Condition evaluated to false"})}ce&&(console.log("Printing order slip for transaction:",S.data),await Re(S.data,a))}else S=await Ka(r),zr.success("Invoice created! Invoice #".concat(S.data.invoice_number));_e(),me(""),E("cash"),ye()}catch(T){var S,C;let e;if(console.error("Transaction error:",T),null!==(S=T.response)&&void 0!==S&&null!==(C=S.data)&&void 0!==C&&C.detail){const t=T.response.data.detail;e="string"===typeof t?t:Array.isArray(t)?t.map(e=>{var t;return"".concat(null===(t=e.loc)||void 0===t?void 0:t.join("."),": ").concat(e.msg)}).join(", "):"object"===typeof t?JSON.stringify(t):"Validation error occurred"}else e="Failed to ".concat("sale"===k?"complete sale":"create invoice");zr.error(e)}finally{M(!1)}},Le=async(t,n)=>{try{var r;const m=(null===e||void 0===e||null===(r=e.settings)||void 0===r?void 0:r.printer_type)||"local",p=Ie(t,n);if(console.log("Auto-print attempt:",{printerType:m,attempt:(new Date).toISOString(),transactionId:t.sale_number||t.invoice_number}),"bluetooth"===m){var a;if(!Lu.getStatus().isConnected)return console.log("Auto-print skipped - Bluetooth printer not connected"),void zr("Auto-print skipped - Bluetooth printer not connected");await Lu.printReceipt(p,null===e||void 0===e||null===(a=e.settings)||void 0===a?void 0:a.printer_settings),console.log("Auto-print success via Bluetooth"),zr.success("Receipt auto-printed via Bluetooth")}else if("local"===m)try{var s,i,l;console.log("Configuring local printer for auto-print..."),await Au.configurePrinter({id:"system-default",name:(null===e||void 0===e||null===(s=e.settings)||void 0===s?void 0:s.selected_printer)||"Default System Printer",type:"local",settings:null===e||void 0===e||null===(i=e.settings)||void 0===i?void 0:i.printer_settings}),await Au.printReceipt(p,null===e||void 0===e||null===(l=e.settings)||void 0===l?void 0:l.printer_settings),console.log("Auto-print success via enhanced printer service"),zr.success("Receipt auto-printed to system printer")}catch(d){console.log("Direct printing failed, using browser fallback:",d),await Ae(p),console.log("Auto-print fallback completed"),zr.success("Receipt auto-printed (browser fallback)")}else{var o,c,u;console.log("Configuring network printer for auto-print..."),await Au.configurePrinter({id:"network-printer",name:(null===e||void 0===e||null===(o=e.settings)||void 0===o?void 0:o.selected_printer)||"Network Printer",type:m,settings:null===e||void 0===e||null===(c=e.settings)||void 0===c?void 0:c.printer_settings}),await Au.printReceipt(p,null===e||void 0===e||null===(u=e.settings)||void 0===u?void 0:u.printer_settings),console.log("Auto-print success via network printer"),zr.success("Receipt auto-printed to network printer")}}catch(m){console.error("Auto-print failed:",m);try{console.log("Attempting emergency fallback print...");const e=Ie(t,n);await Ae(e),console.log("Emergency fallback print completed"),zr("Receipt printed (emergency fallback)")}catch(p){console.error("All auto-print methods failed:",p),console.log("Auto-print failed silently, transaction still completed successfully")}}},Re=async(t,n)=>{try{var r;console.log("Order slip print requested:",{transactionData:t,isDownpaymentSale:n});const m=Ne(Ne({},Ie(t,"sale")),{},{isOrderSlip:!0,isDownpayment:n}),p=(null===e||void 0===e||null===(r=e.settings)||void 0===r?void 0:r.printer_type)||"local";if("bluetooth"===p){var a;if(!Lu.getStatus().isConnected)return console.log("Order slip print skipped - Bluetooth printer not connected"),void zr("Order slip print skipped - Bluetooth printer not connected");await Lu.printReceipt(m,null===e||void 0===e||null===(a=e.settings)||void 0===a?void 0:a.printer_settings),console.log("Order slip printed via Bluetooth"),zr.success("Order slip printed via Bluetooth")}else if("local"===p)try{var s,i,l;await Au.configurePrinter({id:"system-default",name:(null===e||void 0===e||null===(s=e.settings)||void 0===s?void 0:s.selected_printer)||"Default System Printer",type:"local",settings:null===e||void 0===e||null===(i=e.settings)||void 0===i?void 0:i.printer_settings}),await Au.printReceipt(m,null===e||void 0===e||null===(l=e.settings)||void 0===l?void 0:l.printer_settings),console.log("Order slip printed via enhanced printer service"),zr.success("Order slip printed to system printer")}catch(d){console.log("Direct order slip printing failed, using browser fallback:",d),await Ae(m),console.log("Order slip print fallback completed"),zr.success("Order slip printed (browser fallback)")}else{var o,c,u;await Au.configurePrinter({id:"network-printer",name:(null===e||void 0===e||null===(o=e.settings)||void 0===o?void 0:o.selected_printer)||"Network Printer",type:p,settings:null===e||void 0===e||null===(c=e.settings)||void 0===c?void 0:c.printer_settings}),await Au.printReceipt(m,null===e||void 0===e||null===(u=e.settings)||void 0===u?void 0:u.printer_settings),console.log("Order slip printed via network printer"),zr.success("Order slip printed to network printer")}}catch(m){console.error("Order slip print failed:",m);try{console.log("Attempting emergency fallback for order slip...");const e=Ne(Ne({},Ie(t,"sale")),{},{isOrderSlip:!0,isDownpayment:n});await Ae(e),console.log("Emergency order slip fallback completed"),zr("Order slip printed (emergency fallback)")}catch(p){console.error("All order slip print methods failed:",p),zr.error("Failed to print order slip")}}},Ae=async e=>new Promise((t,n)=>{try{const r=De(e);document.querySelectorAll('iframe[data-print-frame="true"]').forEach(e=>{try{document.body.removeChild(e)}catch(Jn){console.log("Frame already removed:",Jn)}});const a=document.createElement("iframe");a.setAttribute("data-print-frame","true"),a.style.position="absolute",a.style.left="-9999px",a.style.top="-9999px",a.style.width="1px",a.style.height="1px",a.style.border="none",document.body.appendChild(a);const s=a.contentDocument||a.contentWindow.document;s.open(),s.write(r),s.close();const i=()=>{setTimeout(()=>{try{a.contentWindow&&"function"===typeof a.contentWindow.print?(a.contentWindow.print(),console.log("Browser print initiated successfully"),setTimeout(()=>{try{a&&a.parentNode&&document.body.removeChild(a)}catch(e){console.log("Print frame cleanup error (non-critical):",e)}},3e3),t()):n(new Error("Print function not available"))}catch(e){console.error("Print execution error:",e);try{a&&a.parentNode&&document.body.removeChild(a)}catch(r){console.log("Error cleanup failed:",r)}n(e)}},500)};a.contentDocument&&"complete"===a.contentDocument.readyState?i():(a.onload=i,setTimeout(i,2e3))}catch(r){console.error("Browser print fallback setup failed:",r),n(r)}}),De=t=>{var r,a;const s=(null===e||void 0===e?void 0:e.name)||"Business Name",i=(null===e||void 0===e?void 0:e.address)||"",l=(null===e||void 0===e?void 0:e.contact_email)||"",o=(null===e||void 0===e?void 0:e.phone)||"",c=(null===e||void 0===e?void 0:e.logo_url)||"",u=(null===e||void 0===e||null===(r=e.settings)||void 0===r?void 0:r.receipt_header)||"",d=(null===e||void 0===e||null===(a=e.settings)||void 0===a?void 0:a.receipt_footer)||"";return console.log("\ud83e\uddfe Receipt Generation Debug:",{businessExists:!!e,settingsExists:!(null===e||void 0===e||!e.settings),receiptHeader:u,receiptFooter:d,fullSettings:null===e||void 0===e?void 0:e.settings}),"\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <title>Receipt</title>\n          <style>\n            @media print {\n              @page { margin: 0; size: 80mm auto; }\n              body { margin: 0; }\n            }\n            body {\n              font-family: 'Courier New', 'Consolas', 'Monaco', monospace;\n              font-size: 10px;\n              font-stretch: condensed;\n              line-height: 1.1;\n              margin: 0;\n              padding: 15px;\n              width: 280px;\n              color: #000;\n            }\n            .center { text-align: center; }\n            .bold { font-weight: bold; }\n            .line { border-bottom: 1px dashed #000; margin: 4px 0; }\n            .flex { display: flex; justify-content: space-between; }\n            .logo { \n              max-width: 120px; \n              max-height: 80px; \n              margin: 0 auto 8px auto; \n              display: block;\n            }\n            .header { \n              border-bottom: 1px solid #000; \n              padding-bottom: 8px; \n              margin-bottom: 8px; \n            }\n            .total { \n              border-top: 1px solid #000; \n              padding-top: 4px; \n              margin-top: 4px; \n            }\n            .receipt-header {\n              font-size: 9px;\n              margin: 6px 0;\n              white-space: pre-line;\n            }\n            .receipt-footer {\n              font-size: 9px;\n              margin: 6px 0;\n              white-space: pre-line;\n            }\n            .business-info {\n              font-size: 9px;\n              margin: 2px 0;\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"header center\">\n            ".concat(c?'<img src="'.concat(c,'" alt="Logo" class="logo" />'):"",'\n            <div class="bold" style="font-size: 14px;">').concat(s,"</div>\n            ").concat(i?'<div class="business-info">'.concat(i,"</div>"):"","\n            ").concat(o?'<div class="business-info">Tel: '.concat(o,"</div>"):"","\n            ").concat(l?'<div class="business-info">Email: '.concat(l,"</div>"):"",'\n            <div class="business-info">TIN: ').concat((null===e||void 0===e?void 0:e.tin)||"N/A","</div>\n            ").concat(u?'<div class="receipt-header">'.concat(u,"</div>"):"",'\n          </div>\n\n          <div>\n            <div class="bold">').concat(t.isOrderSlip?"ORDER SLIP":t.transaction_type,": ").concat(t.transaction_number,"</div>\n            ").concat(t.isOrderSlip&&t.isDownpayment?'<div class="bold" style="font-size: 10px; color: #d97706;">DOWNPAYMENT ORDER</div>':"",'\n            <div style="font-size: 9px;">Date: ').concat(new Date(t.timestamp).toLocaleString(),'</div>\n            <div style="font-size: 9px;">Cashier: ').concat(t.cashier_name||"System","</div>\n            ").concat(t.customer?'<div style="font-size: 9px;">Customer: '.concat(t.customer.name,"</div>"):'<div style="font-size: 9px;">Customer: Walk-in</div>','\n          </div>\n\n          <div class="line"></div>\n\n          ').concat(t.items.map(e=>'\n            <div style="font-size: 9px; margin: 2px 0;">\n              <div class="bold">'.concat(e.product_name,'</div>\n              <div class="flex">\n                <span>').concat(e.quantity," x ").concat(n(e.unit_price),"</span>\n                <span>").concat(n(e.total_price),"</span>\n              </div>\n            </div>\n          ")).join(""),'\n\n          <div class="line"></div>\n\n          <div class="flex" style="font-size: 9px;">\n            <span>Subtotal:</span>\n            <span>').concat(n(t.subtotal),"</span>\n          </div>\n          ").concat(t.tax_amount>0?'\n            <div class="flex" style="font-size: 9px;">\n              <span>Tax:</span>\n              <span>'.concat(n(t.tax_amount),"</span>\n            </div>\n          "):"","\n          ").concat(t.discount_amount>0?'\n            <div class="flex" style="font-size: 9px;">\n              <span>Discount:</span>\n              <span>-'.concat(n(t.discount_amount),"</span>\n            </div>\n          "):"",'\n          \n          <div class="flex total bold" style="font-size: 11px;">\n            <span>TOTAL:</span>\n            <span>').concat(n(t.total_amount),"</span>\n          </div>\n\n          ").concat("cash"===t.payment_method?'\n            <div class="flex" style="font-size: 9px;">\n              <span>Cash Received:</span>\n              <span>'.concat(n(t.received_amount),'</span>\n            </div>\n            <div class="flex" style="font-size: 9px;">\n              <span>Change:</span>\n              <span>').concat(n(t.change_amount),"</span>\n            </div>\n          "):'\n            <div class="flex" style="font-size: 9px;">\n              <span>Payment Method:</span>\n              <span>'.concat(t.payment_method,"</span>\n            </div>\n          "),"\n\n          ").concat(t.notes?'\n            <div class="line"></div>\n            <div style="font-size: 9px;">Notes: '.concat(t.notes,"</div>\n          "):"",'\n\n          <div class="line"></div>\n          <div class="center" style="font-size: 9px;">\n            ').concat(t.isOrderSlip?t.isDownpayment?"Order Slip - Downpayment Received":"Order Slip - Kitchen Copy":"Thank you for your business!","\n          </div>\n          ").concat(d?'<div class="center receipt-footer">'.concat(d,"</div>"):"","\n        </body>\n      </html>\n    ")},Ie=function(n){var r,a;let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"sale";return console.log("\ud83e\uddfe Receipt Data Generation Debug:",{businessExists:!!e,hasSettings:!(null===e||void 0===e||!e.settings),receiptHeader:null===e||void 0===e||null===(r=e.settings)||void 0===r?void 0:r.receipt_header,receiptFooter:null===e||void 0===e||null===(a=e.settings)||void 0===a?void 0:a.receipt_footer}),{business:e,transaction_number:n.sale_number||n.invoice_number,transaction_type:s.toUpperCase(),timestamp:new Date(n.created_at||new Date),customer:j,cashier_name:n.cashier_name||(null===t||void 0===t?void 0:t.email)||(null===t||void 0===t?void 0:t.name)||"System",items:n.items||b,subtotal:n.subtotal,tax_amount:n.tax_amount,discount_amount:n.discount_amount,total_amount:n.total_amount,payment_method:n.payment_method,received_amount:n.received_amount,change_amount:n.change_amount,notes:n.notes||O}},ze=m.filter(e=>{const t=!R||e.name.toLowerCase().includes(R.toLowerCase())||e.sku.toLowerCase().includes(R.toLowerCase())||e.barcode&&e.barcode.includes(R),n=!F||e.category_id===F;return t&&n}),Me=()=>{0!==b.length?(G("cash"),Y(""),ee(C),ne(localStorage.getItem("pos-discount-type")||"amount"),ae(O),ie(""),oe(""),ue(!1),K(!0)):zr.error("Cart is empty")};return v?(0,Xa.jsx)("div",{className:"flex items-center justify-center h-96",children:(0,Xa.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}):(0,Xa.jsxs)("div",{className:"h-screen flex bg-gray-50",children:[(0,Xa.jsxs)("div",{className:"w-2/3 bg-white border-r flex flex-col",children:[(0,Xa.jsxs)("div",{className:"p-3 border-b bg-white flex-shrink-0",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-3",children:[(0,Xa.jsx)("h2",{className:"text-lg font-semibold text-gray-900",children:"Products"}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-4",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2 text-sm text-gray-600 bg-gray-50 px-3 py-1 rounded-lg",children:[(0,Xa.jsx)(dd,{className:"h-4 w-4"}),(0,Xa.jsxs)("span",{children:[i.toLocaleDateString("en-US",{timeZone:u,weekday:"short",month:"short",day:"numeric"})," \u2022 ",i.toLocaleTimeString("en-US",{timeZone:u,hour:"numeric",minute:"2-digit",second:"2-digit"})]})]}),(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsxs)("button",{onClick:()=>s("/pos/sales-history"),className:"flex items-center space-x-1 px-3 py-1 bg-blue-100 hover:bg-blue-200 text-blue-700 rounded-lg text-sm transition-colors",title:"View Sales History",children:[(0,Xa.jsx)(dc,{className:"h-4 w-4"}),(0,Xa.jsx)("span",{children:"Sales History"})]}),(0,Xa.jsxs)("button",{onClick:()=>B(!0),className:"flex items-center space-x-1 px-3 py-1 bg-green-100 hover:bg-green-200 text-green-700 rounded-lg text-sm transition-colors",title:"Price Inquiry (F9)",children:[(0,Xa.jsx)(Ic,{className:"h-4 w-4"}),(0,Xa.jsx)("span",{children:"Price Inquiry"})]})]})]})]}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsxs)("div",{className:"flex-1 relative",children:[(0,Xa.jsx)(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Xa.jsx)("input",{ref:ge,type:"text",placeholder:"Search products or scan barcode...",value:R,onChange:e=>A(e.target.value),className:"input pl-10 text-sm",autoFocus:!0})]}),(0,Xa.jsxs)("select",{value:F,onChange:e=>L(e.target.value),className:"input text-sm min-w-0",children:[(0,Xa.jsx)("option",{value:"",children:"All Categories"}),f.map(e=>(0,Xa.jsx)("option",{value:e.id,children:e.name},e.id))]})]})]}),(0,Xa.jsx)("div",{className:"p-3 border-b bg-gray-50 flex-shrink-0",children:(0,Xa.jsxs)("div",{className:"flex space-x-1 overflow-x-auto",children:[(0,Xa.jsx)("button",{onClick:()=>L(""),className:"category-tab text-xs whitespace-nowrap ".concat(F?"":"active"),children:"All"}),f.map(e=>(0,Xa.jsx)("button",{onClick:()=>L(e.id),className:"category-tab text-xs whitespace-nowrap ".concat(F===e.id?"active":""),children:e.name},e.id))]})}),(0,Xa.jsxs)("div",{className:"flex-1 overflow-y-auto p-3",children:[(0,Xa.jsx)("div",{className:"grid grid-cols-2 gap-2",children:ze.map(e=>(0,Xa.jsx)("div",{onClick:()=>je(e),className:"product-card cursor-pointer",children:(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)(Go,{className:"h-6 w-6 text-blue-500 flex-shrink-0"}),(0,Xa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xa.jsx)("h4",{className:"font-medium text-sm text-gray-900 truncate",children:e.name}),(0,Xa.jsxs)("p",{className:"text-xs text-gray-500 truncate",children:["SKU: ",e.sku]}),(0,Xa.jsxs)("div",{className:"flex items-center justify-between mt-1",children:[(0,Xa.jsx)("span",{className:"text-sm font-semibold text-blue-600",children:n(e.price)}),(0,Xa.jsxs)("span",{className:"text-xs text-gray-500",children:["Stock: ",e.quantity]})]})]})]})},e.id))}),0===ze.length&&(0,Xa.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[(0,Xa.jsx)(Go,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),(0,Xa.jsx)("p",{children:"No products found"})]})]})]}),(0,Xa.jsxs)("div",{className:"w-1/3 bg-white flex flex-col",children:[(0,Xa.jsx)("div",{className:"p-3 border-b bg-white flex-shrink-0",children:(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsxs)("h2",{className:"text-lg font-semibold text-gray-900 flex items-center",children:[(0,Xa.jsx)(fd,{className:"h-5 w-5 mr-2"}),"Cart (",b.length,")"]}),(0,Xa.jsxs)("div",{className:"flex space-x-1",children:[(0,Xa.jsx)("button",{onClick:()=>S("sale"),className:"text-xs px-2 py-1 rounded ".concat("sale"===k?"bg-blue-100 text-blue-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Sale"}),(0,Xa.jsx)("button",{onClick:()=>S("invoice"),className:"text-xs px-2 py-1 rounded ".concat("invoice"===k?"bg-purple-100 text-purple-800":"bg-gray-100 text-gray-600 hover:bg-gray-200"),children:"Invoice"})]})]})}),(0,Xa.jsx)("div",{className:"flex-1 overflow-y-auto min-h-0",children:0===b.length?(0,Xa.jsx)("div",{className:"flex items-center justify-center h-full text-gray-500",children:(0,Xa.jsxs)("div",{className:"text-center",children:[(0,Xa.jsx)(fd,{className:"h-12 w-12 mx-auto mb-2 text-gray-300"}),(0,Xa.jsx)("p",{children:"Cart is empty"}),(0,Xa.jsx)("p",{className:"text-xs",children:"Add products to get started"})]})}):(0,Xa.jsx)("div",{className:"p-3 space-y-2",children:b.map(e=>(0,Xa.jsxs)("div",{className:"cart-item",children:[(0,Xa.jsxs)("div",{className:"flex items-start justify-between",children:[(0,Xa.jsxs)("div",{className:"flex-1 min-w-0",children:[(0,Xa.jsx)("h4",{className:"font-medium text-sm text-gray-900 truncate",children:e.product_name}),(0,Xa.jsxs)("p",{className:"text-xs text-gray-500",children:[n(e.unit_price)," each"]})]}),(0,Xa.jsx)("button",{onClick:()=>Se(e.product_id),className:"text-red-500 hover:text-red-700 ml-2",children:(0,Xa.jsx)(Nu,{className:"h-4 w-4"})})]}),(0,Xa.jsxs)("div",{className:"flex items-center justify-between mt-2",children:[(0,Xa.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,Xa.jsx)("button",{onClick:()=>ke(e.product_id,e.quantity-1),className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300",children:(0,Xa.jsx)(gd,{className:"h-2 w-2"})}),(0,Xa.jsx)("span",{className:"text-sm font-medium w-8 text-center",children:e.quantity}),(0,Xa.jsx)("button",{onClick:()=>ke(e.product_id,e.quantity+1),className:"w-6 h-6 rounded-full bg-gray-200 flex items-center justify-center hover:bg-gray-300",children:(0,Xa.jsx)(jc,{className:"h-2 w-2"})})]}),(0,Xa.jsx)("span",{className:"text-sm font-semibold text-blue-600",children:n(e.total_price)})]})]},e.product_id))})}),(0,Xa.jsxs)("div",{className:"border-t bg-white flex-shrink-0",style:{overflow:"visible"},children:[(0,Xa.jsx)("div",{className:"p-3 border-b",style:{overflow:"visible"},children:(0,Xa.jsxs)("select",{value:(null===j||void 0===j?void 0:j.id)||"",onChange:e=>{const t=x.find(t=>t.id===e.target.value);N(t||null)},className:"input text-sm w-full",children:[(0,Xa.jsx)("option",{value:"",children:"Walk-in Customer"}),x.map(e=>(0,Xa.jsx)("option",{value:e.id,children:e.name},e.id))]})}),(0,Xa.jsx)("div",{className:"p-3 border-b",style:{overflow:"visible"},children:(0,Xa.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Subtotal:"}),(0,Xa.jsx)("span",{children:n(Te().subtotal)})]}),parseFloat(Te().discount)>0&&(0,Xa.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,Xa.jsx)("span",{children:"Discount:"}),(0,Xa.jsxs)("span",{children:["-",n(Te().discount)]})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsxs)("span",{children:["Tax (",(100*D).toFixed(1),"%):"]}),(0,Xa.jsx)("span",{children:n(Te().taxAmount)})]}),(0,Xa.jsxs)("div",{className:"flex justify-between font-semibold text-lg border-t pt-2",children:[(0,Xa.jsx)("span",{children:"Total:"}),(0,Xa.jsx)("span",{className:"text-blue-600",children:n(Te().total)})]})]})}),(0,Xa.jsxs)("div",{className:"p-3 space-y-2",style:{overflow:"visible"},children:[(0,Xa.jsxs)("button",{onClick:Me,disabled:0===b.length||z,className:"btn-primary w-full flex items-center justify-center",children:[(0,Xa.jsx)(bd,{className:"h-4 w-4 mr-2"}),z?"Processing...":"Pay ".concat(n(Te().total))]}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsxs)("button",{onClick:Ce,disabled:0===b.length,className:"btn-secondary flex-1 flex items-center justify-center text-sm",children:[(0,Xa.jsx)(ou,{className:"h-4 w-4 mr-1"}),"Hold"]}),(0,Xa.jsxs)("button",{onClick:_e,disabled:0===b.length,className:"btn-secondary flex-1 flex items-center justify-center text-sm",children:[(0,Xa.jsx)(Nu,{className:"h-4 w-4 mr-1"}),"Clear"]})]}),(0,Xa.jsx)("div",{className:"text-xs text-gray-500 mt-2 text-center",children:(0,Xa.jsxs)("div",{className:"grid grid-cols-2 gap-1",children:[(0,Xa.jsx)("span",{children:"F6 Pay"}),(0,Xa.jsx)("span",{children:"F7 Hold"}),(0,Xa.jsx)("span",{children:"F8 Clear"}),(0,Xa.jsx)("span",{children:"F9 Price Inquiry"})]})})]}),he.length>0&&(0,Xa.jsxs)("div",{className:"p-3 border-t",children:[(0,Xa.jsxs)("h4",{className:"text-sm font-medium text-gray-700 mb-2",children:["Held Orders (",he.length,")"]}),(0,Xa.jsx)("div",{className:"space-y-1 max-h-20 overflow-y-auto",children:he.map(e=>{var t;return(0,Xa.jsxs)("button",{onClick:()=>(e=>{w(e.cart),N(e.customer),T(e.discount||""),P(e.notes||"");const t=he.filter(t=>t.id!==e.id);xe(t),localStorage.setItem("pos-held-orders",JSON.stringify(t)),zr.success("Order resumed")})(e),className:"w-full text-left p-2 text-xs bg-yellow-50 border border-yellow-200 rounded hover:bg-yellow-100",children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsxs)("span",{children:["Order #",e.id]}),(0,Xa.jsx)("span",{children:new Date(e.timestamp).toLocaleTimeString()})]}),(0,Xa.jsxs)("div",{className:"text-gray-600",children:[e.cart.length," items \u2022 ",(null===(t=e.customer)||void 0===t?void 0:t.name)||"Walk-in"]})]},e.id)})})]})]})]}),U&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Xa.jsxs)("div",{className:"bg-white rounded-lg max-w-2xl w-full max-h-[80vh] flex flex-col",children:[(0,Xa.jsxs)("div",{className:"p-6 border-b",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between",children:[(0,Xa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Price Inquiry"}),(0,Xa.jsx)("button",{onClick:Ee,className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsx)("div",{className:"mt-4",children:(0,Xa.jsxs)("div",{className:"relative",children:[(0,Xa.jsx)(Ic,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),(0,Xa.jsx)("input",{type:"text",placeholder:"Search by product name, SKU, or barcode...",value:V,onChange:e=>{H(e.target.value),(async e=>{if(!e||e.length<2)$([]);else try{const t=(await Na({search:e,status:"active"})).data.map(e=>({id:e.id,name:e.name,sku:e.sku,barcode:e.barcode,price:e.price,cost:e.cost,quantity:e.quantity,status:e.status}));$(t)}catch(t){console.error("Price inquiry search failed:",t),$([])}})(e.target.value)},onKeyDown:e=>{"Escape"===e.key&&Ee()},className:"input pl-10 w-full",autoFocus:!0})]})})]}),(0,Xa.jsx)("div",{className:"flex-1 overflow-y-auto p-6",children:0===q.length?(0,Xa.jsx)("div",{className:"text-center text-gray-500 py-8",children:V.length<2?(0,Xa.jsx)("p",{children:"Type at least 2 characters to search..."}):(0,Xa.jsxs)("p",{children:['No products found matching "',V,'"']})}):(0,Xa.jsx)("div",{className:"space-y-3",children:q.map(e=>(0,Xa.jsx)("div",{className:"border rounded-lg p-4 hover:bg-gray-50",children:(0,Xa.jsxs)("div",{className:"flex justify-between items-start",children:[(0,Xa.jsxs)("div",{className:"flex-1",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900",children:e.name}),(0,Xa.jsxs)("div",{className:"text-sm text-gray-500 mt-1",children:[(0,Xa.jsxs)("p",{children:["SKU: ",e.sku]}),e.barcode&&(0,Xa.jsxs)("p",{children:["Barcode: ",e.barcode]})]})]}),(0,Xa.jsxs)("div",{className:"text-right ml-4",children:[(0,Xa.jsx)("div",{className:"text-lg font-semibold text-blue-600",children:n(e.price)}),(0,Xa.jsxs)("div",{className:"text-sm text-gray-500",children:["Stock: ",e.quantity||0]}),e.cost&&(0,Xa.jsxs)("div",{className:"text-xs text-gray-400",children:["Cost: ",n(e.cost)]})]})]})},e.id))})})]})}),W&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:(0,Xa.jsx)("div",{className:"bg-white rounded-lg max-w-md w-full max-h-[90vh] flex flex-col",children:(0,Xa.jsxs)("div",{className:"p-6 flex-1 overflow-visible",children:[(0,Xa.jsxs)("div",{className:"flex items-center justify-between mb-4",children:[(0,Xa.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:"Payment"}),(0,Xa.jsx)("button",{onClick:()=>K(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsxs)("div",{className:"space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Payment Method"}),(0,Xa.jsxs)("div",{className:"grid grid-cols-3 gap-2",children:[(0,Xa.jsxs)("button",{onClick:()=>G("cash"),className:"p-2 text-sm border rounded-md ".concat("cash"===Z?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),children:[(0,Xa.jsx)(bd,{className:"h-4 w-4 mx-auto mb-1"}),"Cash"]}),(0,Xa.jsxs)("button",{onClick:()=>G("card"),className:"p-2 text-sm border rounded-md ".concat("card"===Z?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),children:[(0,Xa.jsx)(Nd,{className:"h-4 w-4 mx-auto mb-1"}),"Card"]}),(0,Xa.jsxs)("button",{onClick:()=>G("ewallet"),className:"p-2 text-sm border rounded-md ".concat("ewallet"===Z?"border-blue-500 bg-blue-50 text-blue-700":"border-gray-300 bg-white text-gray-700 hover:bg-gray-50"),children:[(0,Xa.jsx)(Nd,{className:"h-4 w-4 mx-auto mb-1"}),"EWallet/Bank"]})]})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Discount"}),(0,Xa.jsxs)("div",{className:"flex space-x-2",children:[(0,Xa.jsx)("input",{type:"number",min:"0",step:"0.01",value:J,onChange:e=>ee(e.target.value),className:"input flex-1 text-sm",placeholder:"0.00"}),(0,Xa.jsxs)("select",{value:te,onChange:e=>ne(e.target.value),className:"input text-sm",children:[(0,Xa.jsx)("option",{value:"amount",children:"Amount"}),(0,Xa.jsx)("option",{value:"percentage",children:"%"})]})]})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Downpayment (Optional)"}),(0,Xa.jsx)("input",{type:"number",min:"0",step:"0.01",value:le,onChange:e=>oe(e.target.value),className:"input w-full text-sm",placeholder:"0.00 - Leave empty for full payment",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Pe())}}),le&&parseFloat(le)>0&&(0,Xa.jsxs)("p",{className:"text-xs text-amber-600 mt-1",children:["Balance Due: ",n(Oe().total-parseFloat(le))]})]}),"cash"===Z&&(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Amount Received"}),(0,Xa.jsx)("input",{ref:ve,type:"number",min:"0",step:"0.01",value:Q,onChange:e=>{const t=e.target.value;console.log("Amount input changed:",t,"Previous:",Q),Y(t),setTimeout(()=>{console.log("State after onChange:",Q,"Input value:",e.target.value)},0)},onInput:e=>{console.log("onInput triggered:",e.target.value),Y(e.target.value)},onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Pe())},className:"input w-full text-sm",placeholder:"0.00",autoFocus:!0}),(0,Xa.jsx)("div",{className:"flex space-x-2 mt-2",children:[10,20,50,100].map(e=>(0,Xa.jsxs)("button",{type:"button",onClick:()=>{console.log("Quick amount clicked:",e);const t=e.toString();Y(t);const n=document.querySelector('input[placeholder="0.00"]');n&&(n.value=t)},className:"px-2 py-1 text-xs bg-gray-100 hover:bg-gray-200 rounded",children:["\u20b1",e]},e))})]}),"ewallet"===Z&&(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Reference Code (Optional)"}),(0,Xa.jsx)("input",{type:"text",value:se,onChange:e=>ie(e.target.value),className:"input w-full text-sm",placeholder:"Enter reference code...",onKeyDown:e=>{"Enter"===e.key&&(e.preventDefault(),Pe())}})]}),(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Notes (Optional)"}),(0,Xa.jsx)("textarea",{rows:"2",value:re,onChange:e=>ae(e.target.value),className:"input w-full text-sm",placeholder:"Order notes..."})]}),(0,Xa.jsxs)("div",{className:"flex items-center",children:[(0,Xa.jsx)("input",{type:"checkbox",id:"printOrderSlip",checked:ce,onChange:e=>ue(e.target.checked),className:"h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,Xa.jsx)("label",{htmlFor:"printOrderSlip",className:"ml-2 block text-sm text-gray-700",children:"Print Order Slip"})]}),(0,Xa.jsx)("div",{className:"bg-gray-50 p-3 rounded-md",children:(0,Xa.jsxs)("div",{className:"space-y-1 text-sm",children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Subtotal:"}),(0,Xa.jsx)("span",{children:n(Oe().subtotal)})]}),parseFloat(Oe().discount)>0&&(0,Xa.jsxs)("div",{className:"flex justify-between text-green-600",children:[(0,Xa.jsx)("span",{children:"Discount:"}),(0,Xa.jsxs)("span",{children:["-",n(Oe().discount)]})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Tax:"}),(0,Xa.jsx)("span",{children:n(Oe().taxAmount)})]}),(0,Xa.jsxs)("div",{className:"flex justify-between font-semibold text-base border-t pt-1",children:[(0,Xa.jsx)("span",{children:"Total:"}),(0,Xa.jsx)("span",{className:"text-blue-600",children:n(Oe().total)})]}),"cash"===Z&&Q&&(0,Xa.jsxs)("div",{className:"flex justify-between font-semibold text-green-600",children:[(0,Xa.jsx)("span",{children:"Change:"}),(0,Xa.jsx)("span",{children:n((()=>{if("cash"!==Z||!Q)return 0;const e=Oe(),t=(parseFloat(Q)||0)-parseFloat(e.total);return Math.max(0,t)})())})]})]})})]}),(0,Xa.jsx)("div",{className:"border-t p-4 bg-white rounded-b-lg",children:(0,Xa.jsxs)("div",{className:"flex space-x-3",children:[(0,Xa.jsx)("button",{onClick:()=>K(!1),className:"btn-secondary flex-1",children:"Cancel"}),(0,Xa.jsx)("button",{onClick:Pe,className:"btn-primary flex-1",children:"Confirm Payment"})]})})]})})})]})},Sd=["title","titleId"];function _d(e,t){let{title:n,titleId:a}=e,s=xs(e,Sd);return r.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:t,"aria-labelledby":a},s),n?r.createElement("title",{id:a},n):null,r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),r.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const Ed=r.forwardRef(_d),Cd=()=>{var e,t,n;const{formatAmount:a}=ms(),{business:s,user:i}=as(),l=X(),[o,c]=(0,r.useState)("sales"),[u,d]=(0,r.useState)([]),[m,p]=(0,r.useState)([]),[f,h]=(0,r.useState)([]),[x,g]=(0,r.useState)([]),[v,y]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),[j,N]=(0,r.useState)(!1),[k,S]=(0,r.useState)(null),[_,E]=(0,r.useState)(null),[C,T]=(0,r.useState)("today"),O=(0,r.useCallback)(async()=>{try{y(!0);const e={date_preset:C};console.log("Sales History simple fetch with params:",e);const t=[Ma()];"sales"===o?(t.push(Ha(Ne(Ne({},e),{},{status:"completed"}))),t.push(Promise.resolve({data:[]})),t.push(Promise.resolve({data:[]}))):"ongoing"===o?(t.push(Promise.resolve({data:[]})),t.push(Promise.resolve({data:[]})),t.push(Ha(Ne(Ne({},e),{},{status:"ongoing"})))):(t.push(Promise.resolve({data:[]})),t.push(Wa(e)),t.push(Promise.resolve({data:[]})));const[n,r,a,s]=await Promise.all(t);g(Array.isArray(n.data)?n.data:[]),d(Array.isArray(r.data)?r.data:[]),h(Array.isArray(a.data)?a.data:[]),p(Array.isArray(s.data)?s.data:[])}catch(e){console.error("Failed to fetch sales history:",e),da.error("Failed to load sales history"),d([]),h([]),p([])}finally{y(!1)}},[o,C]);(0,r.useEffect)(()=>{O()},[O]);const P=e=>{if(!e)return"Walk-in Customer";const t=x.find(t=>t.id===e);return t?t.name:"Unknown Customer"},F=(e,t)=>{const n=((e,t)=>{const n=e.customer_id?x.find(t=>t.id===e.customer_id):null;return{business:s,transaction_number:"sale"===t?e.sale_number:e.invoice_number,transaction_type:t.toUpperCase(),timestamp:new Date(e.created_at),customer:n,items:e.items,subtotal:e.subtotal,tax_amount:e.tax_amount,discount_amount:e.discount_amount,total_amount:e.total_amount,payment_method:e.payment_method,received_amount:e.received_amount,change_amount:e.change_amount,notes:e.notes,reprint:!0,reprint_timestamp:new Date}})(e,t);S(Ne(Ne({},e),{},{type:t})),E(n),N(!0)},L=()=>({business:s,transaction_number:"sale"===k.type?k.sale_number:k.invoice_number,transaction_type:k.type.toUpperCase(),timestamp:new Date(k.created_at),customer:k.customer_id?x.find(e=>e.id===k.customer_id):null,cashier_name:k.cashier_name||(null===i||void 0===i?void 0:i.email)||"Staff",items:k.items,subtotal:k.subtotal,tax_amount:k.tax_amount,discount_amount:k.discount_amount,total_amount:k.total_amount,payment_method:k.payment_method,received_amount:k.received_amount,change_amount:k.change_amount,notes:k.notes,reprint:!0,reprint_timestamp:new Date}),R=async e=>new Promise(t=>{try{const n=A(e),r=document.createElement("iframe");r.style.position="absolute",r.style.left="-9999px",r.style.width="1px",r.style.height="1px",document.body.appendChild(r);const a=r.contentDocument;a.open(),a.write(n),a.close(),setTimeout(()=>{try{r.contentWindow.print(),setTimeout(()=>{r.contentWindow&&r.contentWindow.close()},1e3),setTimeout(()=>{try{document.body.removeChild(r)}catch(Jn){console.log("Iframe cleanup error (non-critical)")}t()},2e3)}catch(e){console.error("Print error:",e),t()}},500)}catch(n){console.error("Browser print setup failed:",n),t()}}),A=e=>{var t,n,r,i,l,o,c;const u=(null===(t=e.business)||void 0===t?void 0:t.logo_url)||"",d=(null===(n=e.business)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.receipt_header)||(null===s||void 0===s||null===(i=s.settings)||void 0===i?void 0:i.receipt_header)||"",m=(null===(l=e.business)||void 0===l||null===(o=l.settings)||void 0===o?void 0:o.receipt_footer)||(null===s||void 0===s||null===(c=s.settings)||void 0===c?void 0:c.receipt_footer)||"";return"\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset=\"utf-8\">\n          <title>Receipt Reprint</title>\n          <style>\n            @media print {\n              @page { margin: 0; size: 80mm auto; }\n              body { margin: 0; }\n            }\n            body {\n              font-family: 'Courier New', 'Consolas', monospace;\n              font-size: 10px;\n              line-height: 1.1;\n              margin: 0;\n              padding: 15px;\n              width: 280px;\n            }\n            .center { text-align: center; }\n            .bold { font-weight: bold; }\n            .line { border-bottom: 1px dashed #000; margin: 4px 0; }\n            .flex { display: flex; justify-content: space-between; }\n            .logo { max-width: 120px; max-height: 80px; margin: 0 auto 8px auto; display: block; }\n            .header { border-bottom: 1px solid #000; padding-bottom: 8px; margin-bottom: 8px; }\n            .total { border-top: 1px solid #000; padding-top: 4px; margin-top: 4px; }\n            .reprint-notice { \n              background-color: #fee; \n              border: 1px solid #fcc; \n              padding: 4px; \n              margin: 8px 0; \n              font-size: 9px;\n              font-weight: bold;\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"header center\">\n            ".concat(u?'<img src="'.concat(u,'" alt="Logo" class="logo" />'):"",'\n            <div class="bold" style="font-size: 14px;">').concat(e.business.name,"</div>\n            ").concat(e.business.address?'<div style="font-size: 9px;">'.concat(e.business.address,"</div>"):"","\n            ").concat(e.business.phone?'<div style="font-size: 9px;">Tel: '.concat(e.business.phone,"</div>"):"","\n            ").concat(e.business.contact_email?'<div style="font-size: 9px;">Email: '.concat(e.business.contact_email,"</div>"):"","\n            ").concat(d?'<div style="font-size: 9px; margin: 6px 0; white-space: pre-line;">'.concat(d,"</div>"):"",'\n          </div>\n\n          <div class="reprint-notice center">\n            *** REPRINT ***<br>\n            ').concat(e.reprint_timestamp.toLocaleString(),'\n          </div>\n\n          <div>\n            <div class="bold">').concat(e.transaction_type,": ").concat(e.transaction_number,'</div>\n            <div style="font-size: 9px;">Date: ').concat(e.timestamp.toLocaleString(),'</div>\n            <div style="font-size: 9px;">Cashier: ').concat(e.cashier_name,"</div>\n            ").concat(e.customer?'<div style="font-size: 9px;">Customer: '.concat(e.customer.name,"</div>"):'<div style="font-size: 9px;">Customer: Walk-in</div>','\n          </div>\n\n          <div class="line"></div>\n\n          ').concat(e.items.map(e=>'\n            <div style="font-size: 9px; margin: 2px 0;">\n              <div class="bold">'.concat(e.product_name,'</div>\n              <div class="flex">\n                <span>').concat(e.quantity," x ").concat(a(e.unit_price),"</span>\n                <span>").concat(a(e.total_price),"</span>\n              </div>\n            </div>\n          ")).join(""),'\n\n          <div class="line"></div>\n\n          <div class="flex" style="font-size: 9px;">\n            <span>Subtotal:</span>\n            <span>').concat(a(e.subtotal),"</span>\n          </div>\n          ").concat(e.tax_amount>0?'\n            <div class="flex" style="font-size: 9px;">\n              <span>Tax:</span>\n              <span>'.concat(a(e.tax_amount),"</span>\n            </div>\n          "):"","\n          ").concat(e.discount_amount>0?'\n            <div class="flex" style="font-size: 9px;">\n              <span>Discount:</span>\n              <span>-'.concat(a(e.discount_amount),"</span>\n            </div>\n          "):"",'\n          \n          <div class="flex total bold" style="font-size: 11px;">\n            <span>TOTAL:</span>\n            <span>').concat(a(e.total_amount),"</span>\n          </div>\n\n          ").concat("cash"===e.payment_method?'\n            <div class="flex" style="font-size: 9px;">\n              <span>Cash Received:</span>\n              <span>'.concat(a(e.received_amount),'</span>\n            </div>\n            <div class="flex" style="font-size: 9px;">\n              <span>Change:</span>\n              <span>').concat(a(e.change_amount),"</span>\n            </div>\n          "):'\n            <div class="flex" style="font-size: 9px;">\n              <span>Payment Method:</span>\n              <span>'.concat(e.payment_method,"</span>\n            </div>\n          "),"\n\n          ").concat(e.notes?'\n            <div class="line"></div>\n            <div style="font-size: 9px;">Notes: '.concat(e.notes,"</div>\n          "):"",'\n\n          <div class="line"></div>\n          <div class="center" style="font-size: 9px;">Thank you for your business!</div>\n          ').concat(m?'<div class="center" style="font-size: 9px; margin: 6px 0; white-space: pre-line;">'.concat(m,"</div>"):"","\n        </body>\n      </html>\n    ")},D=e=>{var t,n,r,i,l,o,c;const u=(null===(t=e.business)||void 0===t?void 0:t.logo_url)||"",d=(null===(n=e.business)||void 0===n||null===(r=n.settings)||void 0===r?void 0:r.receipt_header)||(null===s||void 0===s||null===(i=s.settings)||void 0===i?void 0:i.receipt_header)||"",m=(null===(l=e.business)||void 0===l||null===(o=l.settings)||void 0===o?void 0:o.receipt_footer)||(null===s||void 0===s||null===(c=s.settings)||void 0===c?void 0:c.receipt_footer)||"";return'\n      <!DOCTYPE html>\n      <html>\n        <head>\n          <meta charset="utf-8">\n          <title>Receipt PDF - '.concat(e.transaction_type," ").concat(e.transaction_number,"</title>\n          <style>\n            @media print {\n              @page { \n                size: A4; \n                margin: 20mm;\n              }\n              body { margin: 0; }\n            }\n            body {\n              font-family: 'Courier New', monospace;\n              font-size: 12px;\n              line-height: 1.4;\n              margin: 0;\n              padding: 20px;\n              max-width: 400px;\n              margin: 0 auto;\n            }\n            .center { text-align: center; }\n            .bold { font-weight: bold; }\n            .line { border-bottom: 1px dashed #000; margin: 8px 0; }\n            .flex { display: flex; justify-content: space-between; }\n            .logo { \n              max-width: 150px; \n              max-height: 100px; \n              margin: 0 auto 10px auto; \n              display: block; \n            }\n            .header { \n              border-bottom: 2px solid #000; \n              padding-bottom: 15px; \n              margin-bottom: 15px; \n            }\n            .total { \n              border-top: 2px solid #000; \n              padding-top: 8px; \n              margin-top: 8px; \n              font-size: 14px;\n              font-weight: bold;\n            }\n            .reprint-notice { \n              background-color: #ffe6e6; \n              border: 2px solid #ff9999; \n              padding: 10px; \n              margin: 15px 0; \n              font-weight: bold;\n              text-align: center;\n            }\n            .item-row {\n              margin: 5px 0;\n              border-bottom: 1px dotted #ccc;\n              padding-bottom: 3px;\n            }\n          </style>\n        </head>\n        <body>\n          <div class=\"header center\">\n            ").concat(u?'<img src="'.concat(u,'" alt="Business Logo" class="logo" />'):"",'\n            <div class="bold" style="font-size: 18px;">').concat(e.business.name,"</div>\n            ").concat(e.business.address?"<div>".concat(e.business.address,"</div>"):"","\n            ").concat(e.business.phone?"<div>Tel: ".concat(e.business.phone,"</div>"):"","\n            ").concat(e.business.contact_email?"<div>Email: ".concat(e.business.contact_email,"</div>"):"","\n            ").concat(d?'<div style="margin: 10px 0; white-space: pre-line; font-style: italic;">'.concat(d,"</div>"):"",'\n          </div>\n\n          <div class="reprint-notice">\n            *** RECEIPT REPRINT ***<br>\n            Printed: ').concat(e.reprint_timestamp.toLocaleString(),'\n          </div>\n\n          <div style="margin: 15px 0;">\n            <div class="bold" style="font-size: 16px;">').concat(e.transaction_type,": ").concat(e.transaction_number,"</div>\n            <div>Original Date: ").concat(e.timestamp.toLocaleString(),"</div>\n            <div>Cashier: ").concat(e.cashier_name,"</div>\n            ").concat(e.customer?"<div>Customer: ".concat(e.customer.name,"</div>"):"<div>Customer: Walk-in Customer</div>",'\n          </div>\n\n          <div class="line"></div>\n\n          <div style="margin: 15px 0;">\n            <div class="bold" style="margin-bottom: 10px;">ITEMS:</div>\n            ').concat(e.items.map(e=>'\n              <div class="item-row">\n                <div class="bold">'.concat(e.product_name,'</div>\n                <div class="flex" style="margin-top: 3px;">\n                  <span>').concat(e.quantity," x ").concat(a(e.unit_price),'</span>\n                  <span class="bold">').concat(a(e.total_price),"</span>\n                </div>\n              </div>\n            ")).join(""),'\n          </div>\n\n          <div class="line"></div>\n\n          <div style="margin: 15px 0;">\n            <div class="flex">\n              <span>Subtotal:</span>\n              <span>').concat(a(e.subtotal),"</span>\n            </div>\n            ").concat(e.tax_amount>0?'\n              <div class="flex">\n                <span>Tax:</span>\n                <span>'.concat(a(e.tax_amount),"</span>\n              </div>\n            "):"","\n            ").concat(e.discount_amount>0?'\n              <div class="flex">\n                <span>Discount:</span>\n                <span style="color: green;">-'.concat(a(e.discount_amount),"</span>\n              </div>\n            "):"",'\n            \n            <div class="flex total">\n              <span>TOTAL AMOUNT:</span>\n              <span>').concat(a(e.total_amount),"</span>\n            </div>\n\n            ").concat("cash"===e.payment_method?'\n              <div style="margin-top: 10px;">\n                <div class="flex">\n                  <span>Cash Received:</span>\n                  <span>'.concat(a(e.received_amount),'</span>\n                </div>\n                <div class="flex">\n                  <span>Change Given:</span>\n                  <span>').concat(a(e.change_amount),"</span>\n                </div>\n              </div>\n            "):'\n              <div style="margin-top: 10px;">\n                <div class="flex">\n                  <span>Payment Method:</span>\n                  <span>'.concat(e.payment_method.toUpperCase(),"</span>\n                </div>\n              </div>\n            "),"\n          </div>\n\n          ").concat(e.notes?'\n            <div class="line"></div>\n            <div style="margin: 15px 0;">\n              <div class="bold">Notes:</div>\n              <div style="margin-top: 5px; font-style: italic;">'.concat(e.notes,"</div>\n            </div>\n          "):"",'\n\n          <div class="line"></div>\n          <div class="center" style="margin: 20px 0;">\n            <div class="bold">Thank you for your business!</div>\n            ').concat(m?'<div style="margin-top: 10px; white-space: pre-line; font-style: italic;">'.concat(m,"</div>"):"",'\n          </div>\n          \n          <div class="center" style="font-size: 10px; color: #666; margin-top: 30px;">\n            <div>This is a computer-generated receipt reprint.</div>\n            <div>Generated on: ').concat((new Date).toLocaleString(),"</div>\n          </div>\n        </body>\n      </html>\n    ")};if(v)return(0,Xa.jsx)(hs,{message:"Loading transaction history..."});return(0,Xa.jsxs)("div",{className:"space-y-6",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h1",{className:"text-2xl font-bold text-gray-900",children:"Sales History"}),(0,Xa.jsx)("p",{className:"text-gray-600",children:"View and manage your transaction history with advanced filtering"})]}),(0,Xa.jsxs)("div",{className:"mb-6 flex items-center space-x-4",children:[(0,Xa.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Filter by Date:"}),(0,Xa.jsxs)("select",{value:C,onChange:e=>T(e.target.value),className:"border border-gray-300 rounded-md px-3 py-2 text-sm focus:outline-none focus:ring-2 focus:ring-blue-500",children:[(0,Xa.jsx)("option",{value:"today",children:"Today"}),(0,Xa.jsx)("option",{value:"yesterday",children:"Yesterday"}),(0,Xa.jsx)("option",{value:"this_week",children:"This Week"}),(0,Xa.jsx)("option",{value:"this_month",children:"This Month"})]}),(0,Xa.jsx)("button",{onClick:O,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500",children:"Refresh"})]}),(0,Xa.jsx)("div",{className:"border-b border-gray-200",children:(0,Xa.jsxs)("nav",{className:"-mb-px flex space-x-8",children:[(0,Xa.jsxs)("button",{onClick:()=>c("sales"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("sales"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Sales (",u.length,")"]}),(0,Xa.jsxs)("button",{onClick:()=>c("ongoing"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("ongoing"===o?"border-amber-500 text-amber-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["On-Going (",m.length,")"]}),(0,Xa.jsxs)("button",{onClick:()=>c("invoices"),className:"py-2 px-1 border-b-2 font-medium text-sm ".concat("invoices"===o?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"),children:["Invoices (",f.length,")"]})]})}),(0,Xa.jsx)("div",{className:"bg-white shadow-sm rounded-lg",children:(0,Xa.jsx)("div",{className:"overflow-x-auto",children:"sales"===o?u.length>0?(0,Xa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xa.jsx)("thead",{className:"bg-gray-50",children:(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sale #"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Payment"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:u.map(e=>(0,Xa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.sale_number}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(e.customer_id)}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.items.length," items"]}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:a(e.total_amount)}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("cash"===e.payment_method?"bg-green-100 text-green-800":"bg-blue-100 text-blue-800"),children:e.payment_method})}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("completed"===e.status?"bg-green-100 text-green-800":"ongoing"===e.status?"bg-amber-100 text-amber-800":"bg-red-100 text-red-800"),children:"completed"===e.status?"Completed":"ongoing"===e.status?"On-Going":"Cancelled"})}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,Xa.jsx)("button",{onClick:()=>F(e,"sale"),className:"text-green-600 hover:text-green-900",title:"Reprint Receipt",children:(0,Xa.jsx)(fu,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>{da("Detail view not yet implemented")},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:(0,Xa.jsx)(Ed,{className:"h-4 w-4"})})]})]},e.id))})]}):(0,Xa.jsxs)("div",{className:"text-center py-12",children:[(0,Xa.jsx)(dc,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Xa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No sales found"}),(0,Xa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Get started by making your first sale."})]}):"ongoing"===o?m.length>0?(0,Xa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xa.jsx)("thead",{className:"bg-gray-50",children:(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Sale #"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Paid"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Balance Due"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:m.map(e=>(0,Xa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.sale_number}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(e.customer_id)}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.items.length," items"]}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:a(e.total_amount)}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-900",children:a(e.downpayment_amount||0)}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-red-600",children:a(e.balance_due||0)}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full bg-amber-100 text-amber-800",children:"On-Going"})}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,Xa.jsx)("button",{onClick:()=>(e=>{const t={mode:"settle",saleId:e.id,originalSale:e,remainingBalance:e.balance_due||0,items:e.items||[],customer:e.customer_id?{id:e.customer_id,name:e.customer_name}:null};localStorage.setItem("pos-settle-data",JSON.stringify(t)),l("/pos",{state:{settleMode:!0,settleData:t}}),da.success("Redirecting to POS to complete payment...")})(e),className:"text-green-600 hover:text-green-900 font-medium",title:"Settle Payment",children:"Settle"}),(0,Xa.jsx)("button",{onClick:()=>F(e,"sale"),className:"text-blue-600 hover:text-blue-900",title:"Reprint Receipt",children:(0,Xa.jsx)(fu,{className:"h-4 w-4"})})]})]},e.id))})]}):(0,Xa.jsxs)("div",{className:"text-center py-12",children:[(0,Xa.jsx)(dc,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Xa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No ongoing sales found"}),(0,Xa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Ongoing sales will appear here when customers make partial payments."})]}):f.length>0?(0,Xa.jsxs)("table",{className:"min-w-full divide-y divide-gray-200",children:[(0,Xa.jsx)("thead",{className:"bg-gray-50",children:(0,Xa.jsxs)("tr",{children:[(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Invoice #"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Date"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Customer"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Items"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Total"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Status"}),(0,Xa.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Actions"})]})}),(0,Xa.jsx)("tbody",{className:"bg-white divide-y divide-gray-200",children:f.map(e=>(0,Xa.jsxs)("tr",{className:"hover:bg-gray-50",children:[(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium text-gray-900",children:e.invoice_number}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:new Date(e.created_at).toLocaleString()}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:P(e.customer_id)}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-sm text-gray-500",children:[e.items.length," items"]}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-semibold text-gray-900",children:a(e.total_amount)}),(0,Xa.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,Xa.jsx)("span",{className:"inline-flex px-2 py-1 text-xs font-semibold rounded-full ".concat("draft"===e.status?"bg-yellow-100 text-yellow-800":"sent"===e.status?"bg-blue-100 text-blue-800":"bg-green-100 text-green-800"),children:e.status})}),(0,Xa.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap text-right text-sm font-medium space-x-2",children:[(0,Xa.jsx)("button",{onClick:()=>F(e,"invoice"),className:"text-green-600 hover:text-green-900",title:"Reprint Receipt",children:(0,Xa.jsx)(fu,{className:"h-4 w-4"})}),(0,Xa.jsx)("button",{onClick:()=>{da("Detail view not yet implemented")},className:"text-blue-600 hover:text-blue-900",title:"View Details",children:(0,Xa.jsx)(Ed,{className:"h-4 w-4"})})]})]},e.id))})]}):(0,Xa.jsxs)("div",{className:"text-center py-12",children:[(0,Xa.jsx)(zu,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,Xa.jsx)("h3",{className:"mt-2 text-sm font-medium text-gray-900",children:"No invoices found"}),(0,Xa.jsx)("p",{className:"mt-1 text-sm text-gray-500",children:"Create invoices from the POS interface."})]})})}),j&&_&&(0,Xa.jsx)("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-50 overflow-y-auto h-full w-full z-50",children:(0,Xa.jsxs)("div",{className:"relative top-10 mx-auto p-5 border w-full max-w-2xl shadow-lg rounded-md bg-white",children:[(0,Xa.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,Xa.jsxs)("h3",{className:"text-lg font-medium text-gray-900",children:["Reprint Receipt - ",_.transaction_type," #",_.transaction_number]}),(0,Xa.jsx)("button",{onClick:()=>N(!1),className:"text-gray-400 hover:text-gray-600",children:(0,Xa.jsx)(Sc,{className:"h-6 w-6"})})]}),(0,Xa.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,Xa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Receipt Preview"}),(0,Xa.jsxs)("div",{className:"bg-white p-4 rounded border font-mono text-xs max-h-96 overflow-y-auto",children:[(0,Xa.jsxs)("div",{className:"text-center border-b pb-2 mb-3",children:[(null===(e=_.business.settings)||void 0===e?void 0:e.receipt_header)&&(0,Xa.jsx)("div",{className:"text-xs mb-2 font-bold border-b pb-1",children:_.business.settings.receipt_header.split("\n").map((e,t)=>(0,Xa.jsx)("div",{children:e},t))}),(0,Xa.jsx)("h2",{className:"font-bold text-sm",children:_.business.name}),(0,Xa.jsx)("p",{className:"text-xs",children:_.business.address}),(0,Xa.jsx)("p",{className:"text-xs",children:_.business.contact_email}),(0,Xa.jsx)("p",{className:"text-xs",children:_.business.phone})]}),(0,Xa.jsxs)("div",{className:"border-b pb-2 mb-2",children:[(0,Xa.jsxs)("p",{children:[_.transaction_type,": ",_.transaction_number]}),(0,Xa.jsxs)("p",{children:["Date: ",_.timestamp.toLocaleString()]}),_.customer&&(0,Xa.jsxs)("p",{children:["Customer: ",_.customer.name]}),(0,Xa.jsx)("p",{children:"Cashier: Staff"}),_.reprint&&(0,Xa.jsxs)("p",{className:"text-red-600 font-bold",children:["REPRINT - ",_.reprint_timestamp.toLocaleString()]})]}),(0,Xa.jsx)("div",{className:"border-b pb-2 mb-2",children:_.items.map((e,t)=>(0,Xa.jsxs)("div",{className:"flex justify-between mb-1",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("p",{className:"truncate",children:e.product_name}),(0,Xa.jsxs)("p",{className:"text-xs text-gray-600",children:[e.quantity," x ",a(e.unit_price)]})]}),(0,Xa.jsx)("p",{children:a(e.total_price)})]},t))}),(0,Xa.jsxs)("div",{className:"border-b pb-2 mb-2",children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Subtotal:"}),(0,Xa.jsx)("span",{children:a(_.subtotal)})]}),_.tax_amount>0&&(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Tax:"}),(0,Xa.jsx)("span",{children:a(_.tax_amount)})]}),_.discount_amount>0&&(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Discount:"}),(0,Xa.jsxs)("span",{children:["-",a(_.discount_amount)]})]}),(0,Xa.jsxs)("div",{className:"flex justify-between font-bold border-t pt-1",children:[(0,Xa.jsx)("span",{children:"TOTAL:"}),(0,Xa.jsx)("span",{children:a(_.total_amount)})]}),_.payment_method&&(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Payment:"}),(0,Xa.jsx)("span",{children:_.payment_method.toUpperCase()})]}),_.received_amount&&(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Received:"}),(0,Xa.jsx)("span",{children:a(_.received_amount)})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Change:"}),(0,Xa.jsx)("span",{children:a(_.change_amount||0)})]})]})]})]}),(0,Xa.jsxs)("div",{className:"text-center text-xs",children:[(0,Xa.jsx)("p",{children:"Thank you for your business!"}),(null===(t=_.business.settings)||void 0===t?void 0:t.receipt_footer)&&(0,Xa.jsx)("div",{className:"mt-2 border-t pt-2 font-bold",children:_.business.settings.receipt_footer.split("\n").map((e,t)=>(0,Xa.jsx)("div",{children:e},t))}),_.notes&&(0,Xa.jsxs)("p",{className:"mt-2 text-gray-600",children:["Note: ",_.notes]})]})]})]}),(0,Xa.jsxs)("div",{className:"space-y-4",children:[(0,Xa.jsxs)("div",{children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-3",children:"Reprint Options"}),(0,Xa.jsxs)("div",{className:"space-y-3",children:[(0,Xa.jsx)("button",{onClick:async()=>{try{var e;w("print");const l=L();if("bluetooth"===((null===s||void 0===s||null===(e=s.settings)||void 0===e?void 0:e.printer_type)||"local")){var t;if(!Lu.getStatus().isConnected)return void da("Auto-print skipped - Bluetooth printer not connected");await Lu.printReceipt(l,null===s||void 0===s||null===(t=s.settings)||void 0===t?void 0:t.printer_settings),da.success("Receipt auto-printed via Bluetooth")}else try{var n,r,a;await Au.configurePrinter({id:"system-default",name:(null===s||void 0===s||null===(n=s.settings)||void 0===n?void 0:n.selected_printer)||"Default System Printer",type:"local",settings:null===s||void 0===s||null===(r=s.settings)||void 0===r?void 0:r.printer_settings}),await Au.printReceipt(l,null===s||void 0===s||null===(a=s.settings)||void 0===a?void 0:a.printer_settings),da.success("Receipt auto-printed to system printer")}catch(i){await R(l),da.success("Receipt printed (browser)")}N(!1),S(null),E(null)}catch(l){console.error("Print error:",l),da.error("Failed to print receipt")}finally{w(null)}},disabled:"print"===b,className:"w-full btn-primary flex items-center justify-center",children:"print"===b?(0,Xa.jsx)(fs,{}):(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(fu,{className:"h-4 w-4 mr-2"}),"Print Receipt"]})}),(0,Xa.jsx)("button",{onClick:async()=>{try{w("pdf");const e=L(),t=D(e),n=document.createElement("iframe");n.style.position="absolute",n.style.left="-9999px",n.style.width="800px",n.style.height="600px",document.body.appendChild(n);const r=n.contentDocument;r.open(),r.write(t),r.close(),setTimeout(()=>{try{n.contentWindow.focus(),n.contentWindow.print(),setTimeout(()=>{try{document.body.removeChild(n)}catch(Jn){console.log("PDF iframe cleanup error (non-critical)")}},3e3);const e="".concat(k.type,"_").concat("sale"===k.type?k.sale_number:k.invoice_number,"_reprint.pdf");da.success("PDF ready for download: ".concat(e))}catch(e){console.error("PDF generation error:",e),da.error("PDF generation failed - try using browser print dialog")}},1e3)}catch(e){console.error("PDF save error:",e),da.error("Failed to save PDF")}finally{w(null)}},disabled:"pdf"===b,className:"w-full btn-secondary flex items-center justify-center",children:"pdf"===b?(0,Xa.jsx)(fs,{}):(0,Xa.jsxs)(Xa.Fragment,{children:[(0,Xa.jsx)(ed,{className:"h-4 w-4 mr-2"}),"Save as PDF"]})})]})]}),(0,Xa.jsxs)("div",{className:"bg-gray-50 p-4 rounded-lg",children:[(0,Xa.jsx)("h4",{className:"font-medium text-gray-900 mb-2",children:"Transaction Info"}),(0,Xa.jsxs)("div",{className:"space-y-2 text-sm",children:[(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Type:"}),(0,Xa.jsx)("span",{className:"font-medium",children:_.transaction_type})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Number:"}),(0,Xa.jsx)("span",{className:"font-medium",children:_.transaction_number})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Original Date:"}),(0,Xa.jsx)("span",{children:_.timestamp.toLocaleDateString()})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Customer:"}),(0,Xa.jsx)("span",{children:(null===(n=_.customer)||void 0===n?void 0:n.name)||"Walk-in"})]}),(0,Xa.jsxs)("div",{className:"flex justify-between",children:[(0,Xa.jsx)("span",{children:"Items:"}),(0,Xa.jsx)("span",{children:_.items.length})]})]})]})]})]}),(0,Xa.jsx)("div",{className:"flex justify-end space-x-4 mt-6",children:(0,Xa.jsx)("button",{onClick:()=>N(!1),className:"btn-secondary",children:"Close"})})]})})]})},Td=e=>{let{children:t,allowedRoles:n=[]}=e;const{user:r,loading:a}=as();return a?(0,Xa.jsx)(hs,{}):r?n.length>0&&!n.includes(r.role)?(0,Xa.jsx)(fe,{to:"/unauthorized",replace:!0}):t:(0,Xa.jsx)(fe,{to:"/login",replace:!0})};const Od=function(){const{user:e,loading:t}=as();return t?(0,Xa.jsx)(hs,{}):(0,Xa.jsx)("div",{className:"min-h-screen bg-gray-50",children:e?(0,Xa.jsx)(ps,{children:(0,Xa.jsxs)(ge,{children:[(0,Xa.jsx)(he,{path:"/",element:"super_admin"===e.role?(0,Xa.jsx)(fe,{to:"/super-admin",replace:!0}):"business_admin"===e.role?(0,Xa.jsx)(fe,{to:"/business",replace:!0}):(0,Xa.jsx)(fe,{to:"/pos",replace:!0})}),(0,Xa.jsx)(he,{path:"/super-admin/*",element:(0,Xa.jsx)(Td,{allowedRoles:["super_admin"],children:(0,Xa.jsx)(zo,{children:(0,Xa.jsxs)(ge,{children:[(0,Xa.jsx)(he,{index:!0,element:(0,Xa.jsx)(yc,{})}),(0,Xa.jsx)(he,{path:"businesses",element:(0,Xa.jsx)(Ec,{})})]})})})}),(0,Xa.jsx)(he,{path:"/business/*",element:(0,Xa.jsx)(Td,{allowedRoles:["business_admin","cashier"],children:(0,Xa.jsx)(oc,{children:(0,Xa.jsxs)(ge,{children:[(0,Xa.jsx)(he,{index:!0,element:(0,Xa.jsx)(Cc,{})}),(0,Xa.jsx)(he,{path:"products",element:(0,Xa.jsx)(Eu,{})}),(0,Xa.jsx)(he,{path:"categories",element:(0,Xa.jsx)(Tu,{})}),(0,Xa.jsx)(he,{path:"customers",element:(0,Xa.jsx)(Ou,{})}),(0,Xa.jsx)(he,{path:"users",element:(0,Xa.jsx)(Pu,{})}),(0,Xa.jsx)(he,{path:"reports",element:(0,Xa.jsx)(td,{})}),(0,Xa.jsx)(he,{path:"profit-report",element:(0,Xa.jsx)(od,{})}),(0,Xa.jsx)(he,{path:"settings",element:(0,Xa.jsx)(Yu,{})})]})})})}),(0,Xa.jsx)(he,{path:"/pos/*",element:(0,Xa.jsx)(Td,{allowedRoles:["business_admin","cashier"],children:(0,Xa.jsx)(hc,{children:(0,Xa.jsxs)(ge,{children:[(0,Xa.jsx)(he,{index:!0,element:(0,Xa.jsx)(kd,{})}),(0,Xa.jsx)(he,{path:"sales-history",element:(0,Xa.jsx)(Cd,{})})]})})})}),(0,Xa.jsx)(he,{path:"/unauthorized",element:(0,Xa.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,Xa.jsxs)("div",{className:"text-center",children:[(0,Xa.jsx)("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"403"}),(0,Xa.jsx)("p",{className:"text-gray-600 mb-4",children:"You don't have permission to access this page."}),(0,Xa.jsx)("button",{onClick:()=>window.history.back(),className:"btn-primary",children:"Go Back"})]})})}),(0,Xa.jsx)(he,{path:"*",element:(0,Xa.jsx)(fe,{to:"/",replace:!0})})]})}):(0,Xa.jsxs)(ge,{children:[(0,Xa.jsx)(he,{path:"/login",element:(0,Xa.jsx)(po,{})}),(0,Xa.jsx)(he,{path:"*",element:(0,Xa.jsx)(fe,{to:"/login",replace:!0})})]})})};s.createRoot(document.getElementById("root")).render((0,Xa.jsx)(r.StrictMode,{children:(0,Xa.jsx)(bo,{children:(0,Xa.jsxs)(rs,{children:[(0,Xa.jsx)(Od,{}),(0,Xa.jsx)(ua,{position:"top-right",toastOptions:{duration:4e3,style:{background:"#363636",color:"#fff"}}})]})})}))})()})();
//# sourceMappingURL=main.b47f8db1.js.map